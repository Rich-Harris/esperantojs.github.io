!function(t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else{if("function"==typeof define&&define.amd)return define([],t);this.CodeMirror=t()}}(function(){"use strict";function t(i,r){if(!(this instanceof t))return new t(i,r);this.options=r=r?On(r):{},On(Us,r,!1),f(r);var n=r.value;"string"==typeof n&&(n=new mo(n,r.mode)),this.doc=n;var s=new t.inputStyles[r.inputStyle](this),o=this.display=new e(i,n,s);o.wrapper.CodeMirror=this,u(this),a(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!bs&&o.input.focus(),g(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new kn,keySeq:null,specialChars:null};var l=this;cs&&11>hs&&setTimeout(function(){l.display.input.reset(!0)},20),_e(this),jn(),ge(this),this.curOp.forceUpdate=!0,jr(this,n),r.autofocus&&!bs||l.hasFocus()?setTimeout(In(ci,this),20):hi(this);for(var c in Gs)Gs.hasOwnProperty(c)&&Gs[c](this,r[c],qs);C(this),r.finishInit&&r.finishInit(this);for(var h=0;h<$s.length;++h)$s[h](this);xe(this),ps&&r.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function e(t,e,i){var r=this;this.input=i,r.scrollbarFiller=Hn("div",null,"CodeMirror-scrollbar-filler"),r.scrollbarFiller.setAttribute("cm-not-content","true"),r.gutterFiller=Hn("div",null,"CodeMirror-gutter-filler"),r.gutterFiller.setAttribute("cm-not-content","true"),r.lineDiv=Hn("div",null,"CodeMirror-code"),r.selectionDiv=Hn("div",null,null,"position: relative; z-index: 1"),r.cursorDiv=Hn("div",null,"CodeMirror-cursors"),r.measure=Hn("div",null,"CodeMirror-measure"),r.lineMeasure=Hn("div",null,"CodeMirror-measure"),r.lineSpace=Hn("div",[r.measure,r.lineMeasure,r.selectionDiv,r.cursorDiv,r.lineDiv],null,"position: relative; outline: none"),r.mover=Hn("div",[Hn("div",[r.lineSpace],"CodeMirror-lines")],null,"position: relative"),r.sizer=Hn("div",[r.mover],"CodeMirror-sizer"),r.sizerWidth=null,r.heightForcer=Hn("div",null,null,"position: absolute; height: "+Lo+"px; width: 1px;"),r.gutters=Hn("div",null,"CodeMirror-gutters"),r.lineGutter=null,r.scroller=Hn("div",[r.sizer,r.heightForcer,r.gutters],"CodeMirror-scroll"),r.scroller.setAttribute("tabIndex","-1"),r.wrapper=Hn("div",[r.scrollbarFiller,r.gutterFiller,r.scroller],"CodeMirror"),cs&&8>hs&&(r.gutters.style.zIndex=-1,r.scroller.style.paddingRight=0),ps||as&&bs||(r.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(r.wrapper):t(r.wrapper)),r.viewFrom=r.viewTo=e.first,r.reportedViewFrom=r.reportedViewTo=e.first,r.view=[],r.renderedView=null,r.externalMeasured=null,r.viewOffset=0,r.lastWrapHeight=r.lastWrapWidth=0,r.updateLineNumbers=null,r.nativeBarWidth=r.barHeight=r.barWidth=0,r.scrollbarsClipped=!1,r.lineNumWidth=r.lineNumInnerWidth=r.lineNumChars=null,r.alignWidgets=!1,r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.maxLine=null,r.maxLineLength=0,r.maxLineChanged=!1,r.wheelDX=r.wheelDY=r.wheelStartX=r.wheelStartY=null,r.shift=!1,r.selForContextMenu=null,r.activeTouch=null,i.init(r)}function i(e){e.doc.mode=t.getMode(e.options,e.doc.modeOption),r(e)}function r(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.frontier=t.doc.first,Ht(t,100),t.state.modeGen++,t.curOp&&Ie(t)}function n(t){t.options.lineWrapping?(zo(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Bo(t.display.wrapper,"CodeMirror-wrap"),p(t)),o(t),Ie(t),ne(t),setTimeout(function(){y(t)},100)}function s(t){var e=me(t.display),i=t.options.lineWrapping,r=i&&Math.max(5,t.display.scroller.clientWidth/ve(t.display)-3);return function(n){if(mr(t.doc,n))return 0;var s=0;if(n.widgets)for(var o=0;o<n.widgets.length;o++)n.widgets[o].height&&(s+=n.widgets[o].height);return i?s+(Math.ceil(n.text.length/r)||1)*e:s+e}}function o(t){var e=t.doc,i=s(t);e.iter(function(t){var e=i(t);e!=t.height&&Kr(t,e)})}function a(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),ne(t)}function l(t){u(t),Ie(t),setTimeout(function(){w(t)},20)}function u(t){var e=t.display.gutters,i=t.options.gutters;Rn(e);for(var r=0;r<i.length;++r){var n=i[r],s=e.appendChild(Hn("div",null,"CodeMirror-gutter "+n));"CodeMirror-linenumbers"==n&&(t.display.lineGutter=s,s.style.width=(t.display.lineNumWidth||1)+"px")}e.style.display=r?"":"none",c(t)}function c(t){var e=t.display.gutters.offsetWidth;t.display.sizer.style.marginLeft=e+"px"}function h(t){if(0==t.height)return 0;for(var e,i=t.text.length,r=t;e=lr(r);){var n=e.find(0,!0);r=n.from.line,i+=n.from.ch-n.to.ch}for(r=t;e=ur(r);){var n=e.find(0,!0);i-=r.text.length-n.from.ch,r=n.to.line,i+=r.text.length-n.to.ch}return i}function p(t){var e=t.display,i=t.doc;e.maxLine=Ur(i,i.first),e.maxLineLength=h(e.maxLine),e.maxLineChanged=!0,i.iter(function(t){var i=h(t);i>e.maxLineLength&&(e.maxLineLength=i,e.maxLine=t)})}function f(t){var e=An(t.gutters,"CodeMirror-linenumbers");-1==e&&t.lineNumbers?t.gutters=t.gutters.concat(["CodeMirror-linenumbers"]):e>-1&&!t.lineNumbers&&(t.gutters=t.gutters.slice(0),t.gutters.splice(e,1))}function d(t){var e=t.display,i=e.gutters.offsetWidth,r=Math.round(t.doc.height+zt(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?i:0,docHeight:r,scrollHeight:r+jt(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:i}}function m(t,e,i){this.cm=i;var r=this.vert=Hn("div",[Hn("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n=this.horiz=Hn("div",[Hn("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t(r),t(n),wo(r,"scroll",function(){r.clientHeight&&e(r.scrollTop,"vertical")}),wo(n,"scroll",function(){n.clientWidth&&e(n.scrollLeft,"horizontal")}),this.checkedOverlay=!1,cs&&8>hs&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function v(){}function g(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Bo(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new t.scrollbarModel[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),wo(t,"mousedown",function(){e.state.focused&&setTimeout(function(){e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,i){"horizontal"==i?Ze(e,t):Qe(e,t)},e),e.display.scrollbars.addClass&&zo(e.display.wrapper,e.display.scrollbars.addClass)}function y(t,e){e||(e=d(t));var i=t.display.barWidth,r=t.display.barHeight;x(t,e);for(var n=0;4>n&&i!=t.display.barWidth||r!=t.display.barHeight;n++)i!=t.display.barWidth&&t.options.lineWrapping&&O(t),x(t,d(t)),i=t.display.barWidth,r=t.display.barHeight}function x(t,e){var i=t.display,r=i.scrollbars.update(e);i.sizer.style.paddingRight=(i.barWidth=r.right)+"px",i.sizer.style.paddingBottom=(i.barHeight=r.bottom)+"px",r.right&&r.bottom?(i.scrollbarFiller.style.display="block",i.scrollbarFiller.style.height=r.bottom+"px",i.scrollbarFiller.style.width=r.right+"px"):i.scrollbarFiller.style.display="",r.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(i.gutterFiller.style.display="block",i.gutterFiller.style.height=r.bottom+"px",i.gutterFiller.style.width=e.gutterWidth+"px"):i.gutterFiller.style.display=""}function b(t,e,i){var r=i&&null!=i.top?Math.max(0,i.top):t.scroller.scrollTop;r=Math.floor(r-Bt(t));var n=i&&null!=i.bottom?i.bottom:r+t.wrapper.clientHeight,s=Yr(e,r),o=Yr(e,n);if(i&&i.ensure){var a=i.ensure.from.line,l=i.ensure.to.line;s>a?(s=a,o=Yr(e,$r(Ur(e,a))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=o&&(s=Yr(e,$r(Ur(e,l))-t.wrapper.clientHeight),o=l)}return{from:s,to:Math.max(o,s+1)}}function w(t){var e=t.display,i=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var r=S(e)-e.scroller.scrollLeft+t.doc.scrollLeft,n=e.gutters.offsetWidth,s=r+"px",o=0;o<i.length;o++)if(!i[o].hidden){t.options.fixedGutter&&i[o].gutter&&(i[o].gutter.style.left=s);var a=i[o].alignable;if(a)for(var l=0;l<a.length;l++)a[l].style.left=s}t.options.fixedGutter&&(e.gutters.style.left=r+n+"px")}}function C(t){if(!t.options.lineNumbers)return!1;var e=t.doc,i=k(t.options,e.first+e.size-1),r=t.display;if(i.length!=r.lineNumChars){var n=r.measure.appendChild(Hn("div",[Hn("div",i)],"CodeMirror-linenumber CodeMirror-gutter-elt")),s=n.firstChild.offsetWidth,o=n.offsetWidth-s;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(s,r.lineGutter.offsetWidth-o)+1,r.lineNumWidth=r.lineNumInnerWidth+o,r.lineNumChars=r.lineNumInnerWidth?i.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",c(t),!0}return!1}function k(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function S(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function L(t,e,i){var r=t.display;this.viewport=e,this.visible=b(r,t.doc,e),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=Ut(t),this.force=i,this.dims=P(t),this.events=[]}function T(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=jt(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=jt(t)+"px",e.scrollbarsClipped=!0)}function A(t,e){var i=t.display,r=t.doc;if(e.editorIsHidden)return We(t),!1;if(!e.force&&e.visible.from>=i.viewFrom&&e.visible.to<=i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo)&&i.renderedView==i.view&&0==Fe(t))return!1;C(t)&&(We(t),e.dims=P(t));var n=r.first+r.size,s=Math.max(e.visible.from-t.options.viewportMargin,r.first),o=Math.min(n,e.visible.to+t.options.viewportMargin);i.viewFrom<s&&s-i.viewFrom<20&&(s=Math.max(r.first,i.viewFrom)),i.viewTo>o&&i.viewTo-o<20&&(o=Math.min(n,i.viewTo)),As&&(s=fr(t.doc,s),o=dr(t.doc,o));var a=s!=i.viewFrom||o!=i.viewTo||i.lastWrapHeight!=e.wrapperHeight||i.lastWrapWidth!=e.wrapperWidth;Re(t,s,o),i.viewOffset=$r(Ur(t.doc,i.viewFrom)),t.display.mover.style.top=i.viewOffset+"px";var l=Fe(t);if(!a&&0==l&&!e.force&&i.renderedView==i.view&&(null==i.updateLineNumbers||i.updateLineNumbers>=i.viewTo))return!1;var u=_n();return l>4&&(i.lineDiv.style.display="none"),W(t,i.updateLineNumbers,e.dims),l>4&&(i.lineDiv.style.display=""),i.renderedView=i.view,u&&_n()!=u&&u.offsetHeight&&u.focus(),Rn(i.cursorDiv),Rn(i.selectionDiv),i.gutters.style.height=0,a&&(i.lastWrapHeight=e.wrapperHeight,i.lastWrapWidth=e.wrapperWidth,Ht(t,400)),i.updateLineNumbers=null,!0}function M(t,e){for(var i=e.force,r=e.viewport,n=!0;;n=!1){if(n&&t.options.lineWrapping&&e.oldDisplayWidth!=Ut(t))i=!0;else if(i=!1,r&&null!=r.top&&(r={top:Math.min(t.doc.height+zt(t.display)-Gt(t),r.top)}),e.visible=b(t.display,t.doc,r),e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)break;if(!A(t,e))break;O(t);var s=d(t);Ot(t),E(t,s),y(t,s)}e.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function N(t,e){var i=new L(t,e);if(A(t,i)){O(t),M(t,i);var r=d(t);Ot(t),E(t,r),y(t,r),i.finish()}}function E(t,e){t.display.sizer.style.minHeight=e.docHeight+"px";var i=e.docHeight+t.display.barHeight;t.display.heightForcer.style.top=i+"px",t.display.gutters.style.height=Math.max(i+jt(t),e.clientHeight)+"px"}function O(t){for(var e=t.display,i=e.lineDiv.offsetTop,r=0;r<e.view.length;r++){var n,s=e.view[r];if(!s.hidden){if(cs&&8>hs){var o=s.node.offsetTop+s.node.offsetHeight;n=o-i,i=o}else{var a=s.node.getBoundingClientRect();n=a.bottom-a.top}var l=s.line.height-n;if(2>n&&(n=me(e)),(l>.001||-.001>l)&&(Kr(s.line,n),I(s.line),s.rest))for(var u=0;u<s.rest.length;u++)I(s.rest[u])}}}function I(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e)t.widgets[e].height=t.widgets[e].node.offsetHeight}function P(t){for(var e=t.display,i={},r={},n=e.gutters.clientLeft,s=e.gutters.firstChild,o=0;s;s=s.nextSibling,++o)i[t.options.gutters[o]]=s.offsetLeft+s.clientLeft+n,r[t.options.gutters[o]]=s.clientWidth;return{fixedPos:S(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:i,gutterWidth:r,wrapperWidth:e.wrapper.clientWidth}}function W(t,e,i){function r(e){var i=e.nextSibling;return ps&&ws&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),i}for(var n=t.display,s=t.options.lineNumbers,o=n.lineDiv,a=o.firstChild,l=n.view,u=n.viewFrom,c=0;c<l.length;c++){var h=l[c];if(h.hidden);else if(h.node&&h.node.parentNode==o){for(;a!=h.node;)a=r(a);var p=s&&null!=e&&u>=e&&h.lineNumber;h.changes&&(An(h.changes,"gutter")>-1&&(p=!1),D(t,h,u,i)),p&&(Rn(h.lineNumber),h.lineNumber.appendChild(document.createTextNode(k(t.options,u)))),a=h.node.nextSibling}else{var f=j(t,h,u,i);o.insertBefore(f,a)}u+=h.size}for(;a;)a=r(a)}function D(t,e,i,r){for(var n=0;n<e.changes.length;n++){var s=e.changes[n];"text"==s?_(t,e):"gutter"==s?z(t,e,i,r):"class"==s?B(e):"widget"==s&&V(t,e,r)}e.changes=null}function H(t){return t.node==t.text&&(t.node=Hn("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),cs&&8>hs&&(t.node.style.zIndex=2)),t.node}function R(t){var e=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(e&&(e+=" CodeMirror-linebackground"),t.background)e?t.background.className=e:(t.background.parentNode.removeChild(t.background),t.background=null);else if(e){var i=H(t);t.background=i.insertBefore(Hn("div",null,e),i.firstChild)}}function F(t,e){var i=t.display.externalMeasured;return i&&i.line==e.line?(t.display.externalMeasured=null,e.measure=i.measure,i.built):Or(t,e)}function _(t,e){var i=e.text.className,r=F(t,e);e.text==e.node&&(e.node=r.pre),e.text.parentNode.replaceChild(r.pre,e.text),e.text=r.pre,r.bgClass!=e.bgClass||r.textClass!=e.textClass?(e.bgClass=r.bgClass,e.textClass=r.textClass,B(e)):i&&(e.text.className=i)}function B(t){R(t),t.line.wrapClass?H(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var e=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=e||""}function z(t,e,i,r){e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null);var n=e.line.gutterMarkers;if(t.options.lineNumbers||n){var s=H(e),o=e.gutter=Hn("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px");if(t.display.input.setUneditable(o),s.insertBefore(o,e.text),e.line.gutterClass&&(o.className+=" "+e.line.gutterClass),!t.options.lineNumbers||n&&n["CodeMirror-linenumbers"]||(e.lineNumber=o.appendChild(Hn("div",k(t.options,i),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),n)for(var a=0;a<t.options.gutters.length;++a){var l=t.options.gutters[a],u=n.hasOwnProperty(l)&&n[l];u&&o.appendChild(Hn("div",[u],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function V(t,e,i){e.alignable&&(e.alignable=null);for(var r,n=e.node.firstChild;n;n=r){var r=n.nextSibling;"CodeMirror-linewidget"==n.className&&e.node.removeChild(n)}U(t,e,i)}function j(t,e,i,r){var n=F(t,e);return e.text=e.node=n.pre,n.bgClass&&(e.bgClass=n.bgClass),n.textClass&&(e.textClass=n.textClass),B(e),z(t,e,i,r),U(t,e,r),e.node}function U(t,e,i){if(G(t,e.line,e,i,!0),e.rest)for(var r=0;r<e.rest.length;r++)G(t,e.rest[r],e,i,!1)}function G(t,e,i,r,n){if(e.widgets)for(var s=H(i),o=0,a=e.widgets;o<a.length;++o){var l=a[o],u=Hn("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),q(l,u,i,r),t.display.input.setUneditable(u),n&&l.above?s.insertBefore(u,i.gutter||i.text):s.appendChild(u),gn(l,"redraw")}}function q(t,e,i,r){if(t.noHScroll){(i.alignable||(i.alignable=[])).push(e);var n=r.wrapperWidth;e.style.left=r.fixedPos+"px",t.coverGutter||(n-=r.gutterTotalWidth,e.style.paddingLeft=r.gutterTotalWidth+"px"),e.style.width=n+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-r.gutterTotalWidth+"px"))}function K(t){return Ms(t.line,t.ch)}function X(t,e){return Ns(t,e)<0?e:t}function Y(t,e){return Ns(t,e)<0?t:e}function $(t){t.state.focused||(t.display.input.focus(),ci(t))}function Q(t){return t.options.readOnly||t.doc.cantEdit}function Z(t,e,i,r){var n=t.doc;t.display.shift=!1,r||(r=n.sel);var s=Uo(e),o=null;t.state.pasteIncoming&&r.ranges.length>1&&(Es&&Es.join("\n")==e?o=r.ranges.length%Es.length==0&&Mn(Es,Uo):s.length==r.ranges.length&&(o=Mn(s,function(t){return[t]})));for(var a=r.ranges.length-1;a>=0;a--){var l=r.ranges[a],u=l.from(),c=l.to();l.empty()&&(i&&i>0?u=Ms(u.line,u.ch-i):t.state.overwrite&&!t.state.pasteIncoming&&(c=Ms(c.line,Math.min(Ur(n,c.line).text.length,c.ch+Tn(s).length))));var h=t.curOp.updateInput,p={from:u,to:c,text:o?o[a%o.length]:s,origin:t.state.pasteIncoming?"paste":t.state.cutIncoming?"cut":"+input"};if(xi(t.doc,p),gn(t,"inputRead",t,p),e&&!t.state.pasteIncoming&&t.options.electricChars&&t.options.smartIndent&&l.head.ch<100&&(!a||r.ranges[a-1].head.line!=l.head.line)){var f=t.getModeAt(l.head),d=js(p);if(f.electricChars){for(var m=0;m<f.electricChars.length;m++)if(e.indexOf(f.electricChars.charAt(m))>-1){Pi(t,d.line,"smart");break}}else f.electricInput&&f.electricInput.test(Ur(n,d.line).text.slice(0,d.ch))&&Pi(t,d.line,"smart")}}Oi(t),t.curOp.updateInput=h,t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=!1}function J(t){for(var e=[],i=[],r=0;r<t.doc.sel.ranges.length;r++){var n=t.doc.sel.ranges[r].head.line,s={anchor:Ms(n,0),head:Ms(n+1,0)};i.push(s),e.push(t.getRange(s.anchor,s.head))}return{text:e,ranges:i}}function tt(t){t.setAttribute("autocorrect","off"),t.setAttribute("autocapitalize","off"),t.setAttribute("spellcheck","false")}function et(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new kn,this.inaccurateSelection=!1,this.hasSelection=!1}function it(){var t=Hn("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),e=Hn("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return ps?t.style.width="1000px":t.setAttribute("wrap","off"),xs&&(t.style.border="1px solid black"),tt(t),e}function rt(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new kn,this.gracePeriod=!1}function nt(t,e){var i=$t(t,e.line);if(!i||i.hidden)return null;var r=Ur(t.doc,e.line),n=Kt(i,r,e.line),s=Qr(r),o="left";if(s){var a=rs(s,e.ch);o=a%2?"right":"left"}var l=Jt(n.map,e.ch,"left");return l.offset="right"==l.collapse?l.end:l.start,l}function st(t,e){return e&&(t.bad=!0),t}function ot(t,e,i){var r;if(e==t.display.lineDiv){if(r=t.display.lineDiv.childNodes[i],!r)return st(t.clipPos(Ms(t.display.viewTo-1)),!0);e=null,i=0}else for(r=e;;r=r.parentNode){if(!r||r==t.display.lineDiv)return null;if(r.parentNode&&r.parentNode==t.display.lineDiv)break}for(var n=0;n<t.display.view.length;n++){var s=t.display.view[n];if(s.node==r)return at(s,e,i)}}function at(t,e,i){function r(e,i,r){for(var n=-1;n<(c?c.length:0);n++)for(var s=0>n?u.map:c[n],o=0;o<s.length;o+=3){var a=s[o+2];if(a==e||a==i){var l=Xr(0>n?t.line:t.rest[n]),h=s[o]+r;return(0>r||a!=e)&&(h=s[o+(r?1:0)]),Ms(l,h)}}}var n=t.text.firstChild,s=!1;if(!e||!Ro(n,e))return st(Ms(Xr(t.line),0),!0);if(e==n&&(s=!0,e=n.childNodes[i],i=0,!e)){var o=t.rest?Tn(t.rest):t.line;return st(Ms(Xr(o),o.text.length),s)}var a=3==e.nodeType?e:null,l=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,i&&(i=a.nodeValue.length));l.parentNode!=n;)l=l.parentNode;var u=t.measure,c=u.maps,h=r(a,l,i);if(h)return st(h,s);for(var p=l.nextSibling,f=a?a.nodeValue.length-i:0;p;p=p.nextSibling){if(h=r(p,p.firstChild,0))return st(Ms(h.line,h.ch-f),s);f+=p.textContent.length}for(var d=l.previousSibling,f=i;d;d=d.previousSibling){if(h=r(d,d.firstChild,-1))return st(Ms(h.line,h.ch+f),s);f+=p.textContent.length}}function lt(t,e,i,r,n){function s(t){return function(e){return e.id==t}}function o(e){if(1==e.nodeType){var i=e.getAttribute("cm-text");if(null!=i)return""==i&&(i=e.textContent.replace(/\u200b/g,"")),void(a+=i);var u,c=e.getAttribute("cm-marker");if(c){var h=t.findMarks(Ms(r,0),Ms(n+1,0),s(+c));return void(h.length&&(u=h[0].find())&&(a+=Gr(t.doc,u.from,u.to).join("\n")))}if("false"==e.getAttribute("contenteditable"))return;for(var p=0;p<e.childNodes.length;p++)o(e.childNodes[p]);/^(pre|div|p)$/i.test(e.nodeName)&&(l=!0)}else if(3==e.nodeType){var f=e.nodeValue;if(!f)return;l&&(a+="\n",l=!1),a+=f}}for(var a="",l=!1;o(e),e!=i;)e=e.nextSibling;return a}function ut(t,e){this.ranges=t,this.primIndex=e}function ct(t,e){this.anchor=t,this.head=e}function ht(t,e){var i=t[e];t.sort(function(t,e){return Ns(t.from(),e.from())}),e=An(t,i);for(var r=1;r<t.length;r++){var n=t[r],s=t[r-1];if(Ns(s.to(),n.from())>=0){var o=Y(s.from(),n.from()),a=X(s.to(),n.to()),l=s.empty()?n.from()==n.head:s.from()==s.head;e>=r&&--e,t.splice(--r,2,new ct(l?a:o,l?o:a))}}return new ut(t,e)}function pt(t,e){return new ut([new ct(t,e||t)],0)}function ft(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function dt(t,e){if(e.line<t.first)return Ms(t.first,0);var i=t.first+t.size-1;return e.line>i?Ms(i,Ur(t,i).text.length):mt(e,Ur(t,e.line).text.length)}function mt(t,e){var i=t.ch;return null==i||i>e?Ms(t.line,e):0>i?Ms(t.line,0):t}function vt(t,e){return e>=t.first&&e<t.first+t.size}function gt(t,e){for(var i=[],r=0;r<e.length;r++)i[r]=dt(t,e[r]);return i}function yt(t,e,i,r){if(t.cm&&t.cm.display.shift||t.extend){var n=e.anchor;if(r){var s=Ns(i,n)<0;s!=Ns(r,n)<0?(n=i,i=r):s!=Ns(i,r)<0&&(i=r)}return new ct(n,i)}return new ct(r||i,i)}function xt(t,e,i,r){Lt(t,new ut([yt(t,t.sel.primary(),e,i)],0),r)}function bt(t,e,i){for(var r=[],n=0;n<t.sel.ranges.length;n++)r[n]=yt(t,t.sel.ranges[n],e[n],null);var s=ht(r,t.sel.primIndex);Lt(t,s,i)}function wt(t,e,i,r){var n=t.sel.ranges.slice(0);n[e]=i,Lt(t,ht(n,t.sel.primIndex),r)}function Ct(t,e,i,r){Lt(t,pt(e,i),r)}function kt(t,e){var i={ranges:e.ranges,update:function(e){this.ranges=[];for(var i=0;i<e.length;i++)this.ranges[i]=new ct(dt(t,e[i].anchor),dt(t,e[i].head))}};return ko(t,"beforeSelectionChange",t,i),t.cm&&ko(t.cm,"beforeSelectionChange",t.cm,i),i.ranges!=e.ranges?ht(i.ranges,i.ranges.length-1):e}function St(t,e,i){var r=t.history.done,n=Tn(r);n&&n.ranges?(r[r.length-1]=e,Tt(t,e,i)):Lt(t,e,i)}function Lt(t,e,i){Tt(t,e,i),sn(t,t.sel,t.cm?t.cm.curOp.id:0/0,i)}function Tt(t,e,i){(wn(t,"beforeSelectionChange")||t.cm&&wn(t.cm,"beforeSelectionChange"))&&(e=kt(t,e));var r=i&&i.bias||(Ns(e.primary().head,t.sel.primary().head)<0?-1:1);At(t,Nt(t,e,r,!0)),i&&i.scroll===!1||!t.cm||Oi(t.cm)}function At(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=t.cm.curOp.selectionChanged=!0,bn(t.cm)),gn(t,"cursorActivity",t))}function Mt(t){At(t,Nt(t,t.sel,null,!1),Ao)}function Nt(t,e,i,r){for(var n,s=0;s<e.ranges.length;s++){var o=e.ranges[s],a=Et(t,o.anchor,i,r),l=Et(t,o.head,i,r);(n||a!=o.anchor||l!=o.head)&&(n||(n=e.ranges.slice(0,s)),n[s]=new ct(a,l))}return n?ht(n,e.primIndex):e}function Et(t,e,i,r){var n=!1,s=e,o=i||1;t.cantEdit=!1;t:for(;;){var a=Ur(t,s.line);if(a.markedSpans)for(var l=0;l<a.markedSpans.length;++l){var u=a.markedSpans[l],c=u.marker;if((null==u.from||(c.inclusiveLeft?u.from<=s.ch:u.from<s.ch))&&(null==u.to||(c.inclusiveRight?u.to>=s.ch:u.to>s.ch))){if(r&&(ko(c,"beforeCursorEnter"),c.explicitlyCleared)){if(a.markedSpans){--l;continue}break}if(!c.atomic)continue;var h=c.find(0>o?-1:1);if(0==Ns(h,s)&&(h.ch+=o,h.ch<0?h=h.line>t.first?dt(t,Ms(h.line-1)):null:h.ch>a.text.length&&(h=h.line<t.first+t.size-1?Ms(h.line+1,0):null),!h)){if(n)return r?(t.cantEdit=!0,Ms(t.first,0)):Et(t,e,i,!0);n=!0,h=e,o=-o}s=h;continue t}}return s}}function Ot(t){t.display.input.showSelection(t.display.input.prepareSelection())}function It(t,e){for(var i=t.doc,r={},n=r.cursors=document.createDocumentFragment(),s=r.selection=document.createDocumentFragment(),o=0;o<i.sel.ranges.length;o++)if(e!==!1||o!=i.sel.primIndex){var a=i.sel.ranges[o],l=a.empty();(l||t.options.showCursorWhenSelecting)&&Pt(t,a,n),l||Wt(t,a,s)}return r}function Pt(t,e,i){var r=ce(t,e.head,"div",null,null,!t.options.singleCursorHeightPerLine),n=i.appendChild(Hn("div"," ","CodeMirror-cursor"));if(n.style.left=r.left+"px",n.style.top=r.top+"px",n.style.height=Math.max(0,r.bottom-r.top)*t.options.cursorHeight+"px",r.other){var s=i.appendChild(Hn("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=r.other.left+"px",s.style.top=r.other.top+"px",s.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function Wt(t,e,i){function r(t,e,i,r){0>e&&(e=0),e=Math.round(e),r=Math.round(r),a.appendChild(Hn("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px; top: "+e+"px; width: "+(null==i?c-t:i)+"px; height: "+(r-e)+"px"))}function n(e,i,n){function s(i,r){return ue(t,Ms(e,i),"div",h,r)}var a,l,h=Ur(o,e),p=h.text.length;return Xn(Qr(h),i||0,null==n?p:n,function(t,e,o){var h,f,d,m=s(t,"left");if(t==e)h=m,f=d=m.left;else{if(h=s(e-1,"right"),"rtl"==o){var v=m;m=h,h=v}f=m.left,d=h.right}null==i&&0==t&&(f=u),h.top-m.top>3&&(r(f,m.top,null,m.bottom),f=u,m.bottom<h.top&&r(f,m.bottom,null,h.top)),null==n&&e==p&&(d=c),(!a||m.top<a.top||m.top==a.top&&m.left<a.left)&&(a=m),(!l||h.bottom>l.bottom||h.bottom==l.bottom&&h.right>l.right)&&(l=h),u+1>f&&(f=u),r(f,h.top,d-f,h.bottom)}),{start:a,end:l}}var s=t.display,o=t.doc,a=document.createDocumentFragment(),l=Vt(t.display),u=l.left,c=Math.max(s.sizerWidth,Ut(t)-s.sizer.offsetLeft)-l.right,h=e.from(),p=e.to();if(h.line==p.line)n(h.line,h.ch,p.ch);else{var f=Ur(o,h.line),d=Ur(o,p.line),m=hr(f)==hr(d),v=n(h.line,h.ch,m?f.text.length+1:null).end,g=n(p.line,m?0:null,p.ch).start;m&&(v.top<g.top-2?(r(v.right,v.top,null,v.bottom),r(u,g.top,g.left,g.bottom)):r(v.right,v.top,g.left-v.right,v.bottom)),v.bottom<g.top&&r(u,v.bottom,null,g.top)}i.appendChild(a)}function Dt(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var i=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){e.cursorDiv.style.visibility=(i=!i)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Ht(t,e){t.doc.mode.startState&&t.doc.frontier<t.display.viewTo&&t.state.highlight.set(e,In(Rt,t))}function Rt(t){var e=t.doc;if(e.frontier<e.first&&(e.frontier=e.first),!(e.frontier>=t.display.viewTo)){var i=+new Date+t.options.workTime,r=Zs(e.mode,_t(t,e.frontier)),n=[];e.iter(e.frontier,Math.min(e.first+e.size,t.display.viewTo+500),function(s){if(e.frontier>=t.display.viewFrom){var o=s.styles,a=Ar(t,s,r,!0);s.styles=a.styles;var l=s.styleClasses,u=a.classes;u?s.styleClasses=u:l&&(s.styleClasses=null);for(var c=!o||o.length!=s.styles.length||l!=u&&(!l||!u||l.bgClass!=u.bgClass||l.textClass!=u.textClass),h=0;!c&&h<o.length;++h)c=o[h]!=s.styles[h];c&&n.push(e.frontier),s.stateAfter=Zs(e.mode,r)}else Nr(t,s.text,r),s.stateAfter=e.frontier%5==0?Zs(e.mode,r):null;return++e.frontier,+new Date>i?(Ht(t,t.options.workDelay),!0):void 0}),n.length&&Te(t,function(){for(var e=0;e<n.length;e++)Pe(t,n[e],"text")})}}function Ft(t,e,i){for(var r,n,s=t.doc,o=i?-1:e-(t.doc.mode.innerMode?1e3:100),a=e;a>o;--a){if(a<=s.first)return s.first;var l=Ur(s,a-1);if(l.stateAfter&&(!i||a<=s.frontier))return a;var u=Eo(l.text,null,t.options.tabSize);(null==n||r>u)&&(n=a-1,r=u)}return n}function _t(t,e,i){var r=t.doc,n=t.display;if(!r.mode.startState)return!0;var s=Ft(t,e,i),o=s>r.first&&Ur(r,s-1).stateAfter;return o=o?Zs(r.mode,o):Js(r.mode),r.iter(s,e,function(i){Nr(t,i.text,o);var a=s==e-1||s%5==0||s>=n.viewFrom&&s<n.viewTo;i.stateAfter=a?Zs(r.mode,o):null,++s}),i&&(r.frontier=s),o}function Bt(t){return t.lineSpace.offsetTop}function zt(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Vt(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=Fn(t.measure,Hn("pre","x")),i=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,r={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(t.cachedPaddingH=r),r}function jt(t){return Lo-t.display.nativeBarWidth}function Ut(t){return t.display.scroller.clientWidth-jt(t)-t.display.barWidth}function Gt(t){return t.display.scroller.clientHeight-jt(t)-t.display.barHeight}function qt(t,e,i){var r=t.options.lineWrapping,n=r&&Ut(t);if(!e.measure.heights||r&&e.measure.width!=n){var s=e.measure.heights=[];if(r){e.measure.width=n;for(var o=e.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var l=o[a],u=o[a+1];Math.abs(l.bottom-u.bottom)>2&&s.push((l.bottom+u.top)/2-i.top)}}s.push(i.bottom-i.top)}}function Kt(t,e,i){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var r=0;r<t.rest.length;r++)if(t.rest[r]==e)return{map:t.measure.maps[r],cache:t.measure.caches[r]};for(var r=0;r<t.rest.length;r++)if(Xr(t.rest[r])>i)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function Xt(t,e){e=hr(e);var i=Xr(e),r=t.display.externalMeasured=new Ee(t.doc,e,i);r.lineN=i;var n=r.built=Or(t,r);return r.text=n.pre,Fn(t.display.lineMeasure,n.pre),r}function Yt(t,e,i,r){return Zt(t,Qt(t,e),i,r)}function $t(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[De(t,e)];var i=t.display.externalMeasured;return i&&e>=i.lineN&&e<i.lineN+i.size?i:void 0}function Qt(t,e){var i=Xr(e),r=$t(t,i);r&&!r.text?r=null:r&&r.changes&&D(t,r,i,P(t)),r||(r=Xt(t,e));var n=Kt(r,e,i);return{line:e,view:r,rect:null,map:n.map,cache:n.cache,before:n.before,hasHeights:!1}}function Zt(t,e,i,r,n){e.before&&(i=-1);var s,o=i+(r||"");return e.cache.hasOwnProperty(o)?s=e.cache[o]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(qt(t,e.view,e.rect),e.hasHeights=!0),s=te(t,e,i,r),s.bogus||(e.cache[o]=s)),{left:s.left,right:s.right,top:n?s.rtop:s.top,bottom:n?s.rbottom:s.bottom}}function Jt(t,e,i){for(var r,n,s,o,a=0;a<t.length;a+=3){var l=t[a],u=t[a+1];if(l>e?(n=0,s=1,o="left"):u>e?(n=e-l,s=n+1):(a==t.length-3||e==u&&t[a+3]>e)&&(s=u-l,n=s-1,e>=u&&(o="right")),null!=n){if(r=t[a+2],l==u&&i==(r.insertLeft?"left":"right")&&(o=i),"left"==i&&0==n)for(;a&&t[a-2]==t[a-3]&&t[a-1].insertLeft;)r=t[(a-=3)+2],o="left";if("right"==i&&n==u-l)for(;a<t.length-3&&t[a+3]==t[a+4]&&!t[a+5].insertLeft;)r=t[(a+=3)+2],o="right";break}}return{node:r,start:n,end:s,collapse:o,coverStart:l,coverEnd:u}}function te(t,e,i,r){var n,s=Jt(e.map,i,r),o=s.node,a=s.start,l=s.end,u=s.collapse;if(3==o.nodeType){for(var c=0;4>c;c++){for(;a&&Dn(e.line.text.charAt(s.coverStart+a));)--a;for(;s.coverStart+l<s.coverEnd&&Dn(e.line.text.charAt(s.coverStart+l));)++l;if(cs&&9>hs&&0==a&&l==s.coverEnd-s.coverStart)n=o.parentNode.getBoundingClientRect();else if(cs&&t.options.lineWrapping){var h=Po(o,a,l).getClientRects();n=h.length?h["right"==r?h.length-1:0]:Ws}else n=Po(o,a,l).getBoundingClientRect()||Ws;if(n.left||n.right||0==a)break;l=a,a-=1,u="right"}cs&&11>hs&&(n=ee(t.display.measure,n))}else{a>0&&(u=r="right");var h;n=t.options.lineWrapping&&(h=o.getClientRects()).length>1?h["right"==r?h.length-1:0]:o.getBoundingClientRect()}if(cs&&9>hs&&!a&&(!n||!n.left&&!n.right)){var p=o.parentNode.getClientRects()[0];n=p?{left:p.left,right:p.left+ve(t.display),top:p.top,bottom:p.bottom}:Ws}for(var f=n.top-e.rect.top,d=n.bottom-e.rect.top,m=(f+d)/2,v=e.view.measure.heights,c=0;c<v.length-1&&!(m<v[c]);c++);var g=c?v[c-1]:0,y=v[c],x={left:("right"==u?n.right:n.left)-e.rect.left,right:("left"==u?n.left:n.right)-e.rect.left,
top:g,bottom:y};return n.left||n.right||(x.bogus=!0),t.options.singleCursorHeightPerLine||(x.rtop=f,x.rbottom=d),x}function ee(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Kn(t))return e;var i=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*i,right:e.right*i,top:e.top*r,bottom:e.bottom*r}}function ie(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function re(t){t.display.externalMeasure=null,Rn(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)ie(t.display.view[e])}function ne(t){re(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function se(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function oe(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function ae(t,e,i,r){if(e.widgets)for(var n=0;n<e.widgets.length;++n)if(e.widgets[n].above){var s=yr(e.widgets[n]);i.top+=s,i.bottom+=s}if("line"==r)return i;r||(r="local");var o=$r(e);if("local"==r?o+=Bt(t.display):o-=t.display.viewOffset,"page"==r||"window"==r){var a=t.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==r?0:oe());var l=a.left+("window"==r?0:se());i.left+=l,i.right+=l}return i.top+=o,i.bottom+=o,i}function le(t,e,i){if("div"==i)return e;var r=e.left,n=e.top;if("page"==i)r-=se(),n-=oe();else if("local"==i||!i){var s=t.display.sizer.getBoundingClientRect();r+=s.left,n+=s.top}var o=t.display.lineSpace.getBoundingClientRect();return{left:r-o.left,top:n-o.top}}function ue(t,e,i,r,n){return r||(r=Ur(t.doc,e.line)),ae(t,r,Yt(t,r,e.ch,n),i)}function ce(t,e,i,r,n,s){function o(e,o){var a=Zt(t,n,e,o?"right":"left",s);return o?a.left=a.right:a.right=a.left,ae(t,r,a,i)}function a(t,e){var i=l[e],r=i.level%2;return t==Yn(i)&&e&&i.level<l[e-1].level?(i=l[--e],t=$n(i)-(i.level%2?0:1),r=!0):t==$n(i)&&e<l.length-1&&i.level<l[e+1].level&&(i=l[++e],t=Yn(i)-i.level%2,r=!1),r&&t==i.to&&t>i.from?o(t-1):o(t,r)}r=r||Ur(t.doc,e.line),n||(n=Qt(t,r));var l=Qr(r),u=e.ch;if(!l)return o(u);var c=rs(l,u),h=a(u,c);return null!=Yo&&(h.other=a(u,Yo)),h}function he(t,e){var i=0,e=dt(t.doc,e);t.options.lineWrapping||(i=ve(t.display)*e.ch);var r=Ur(t.doc,e.line),n=$r(r)+Bt(t.display);return{left:i,right:i,top:n,bottom:n+r.height}}function pe(t,e,i,r){var n=Ms(t,e);return n.xRel=r,i&&(n.outside=!0),n}function fe(t,e,i){var r=t.doc;if(i+=t.display.viewOffset,0>i)return pe(r.first,0,!0,-1);var n=Yr(r,i),s=r.first+r.size-1;if(n>s)return pe(r.first+r.size-1,Ur(r,s).text.length,!0,1);0>e&&(e=0);for(var o=Ur(r,n);;){var a=de(t,o,n,e,i),l=ur(o),u=l&&l.find(0,!0);if(!l||!(a.ch>u.from.ch||a.ch==u.from.ch&&a.xRel>0))return a;n=Xr(o=u.to.line)}}function de(t,e,i,r,n){function s(r){var n=ce(t,Ms(i,r),"line",e,u);return a=!0,o>n.bottom?n.left-l:o<n.top?n.left+l:(a=!1,n.left)}var o=n-$r(e),a=!1,l=2*t.display.wrapper.clientWidth,u=Qt(t,e),c=Qr(e),h=e.text.length,p=Qn(e),f=Zn(e),d=s(p),m=a,v=s(f),g=a;if(r>v)return pe(i,f,g,1);for(;;){if(c?f==p||f==ss(e,p,1):1>=f-p){for(var y=d>r||v-r>=r-d?p:f,x=r-(y==p?d:v);Dn(e.text.charAt(y));)++y;var b=pe(i,y,y==p?m:g,-1>x?-1:x>1?1:0);return b}var w=Math.ceil(h/2),C=p+w;if(c){C=p;for(var k=0;w>k;++k)C=ss(e,C,1)}var S=s(C);S>r?(f=C,v=S,(g=a)&&(v+=1e3),h=w):(p=C,d=S,m=a,h-=w)}}function me(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Os){Os=Hn("pre");for(var e=0;49>e;++e)Os.appendChild(document.createTextNode("x")),Os.appendChild(Hn("br"));Os.appendChild(document.createTextNode("x"))}Fn(t.measure,Os);var i=Os.offsetHeight/50;return i>3&&(t.cachedTextHeight=i),Rn(t.measure),i||1}function ve(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=Hn("span","xxxxxxxxxx"),i=Hn("pre",[e]);Fn(t.measure,i);var r=e.getBoundingClientRect(),n=(r.right-r.left)/10;return n>2&&(t.cachedCharWidth=n),n||10}function ge(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++Hs},Ds?Ds.ops.push(t.curOp):t.curOp.ownsGroup=Ds={ops:[t.curOp],delayedCallbacks:[]}}function ye(t){var e=t.delayedCallbacks,i=0;do{for(;i<e.length;i++)e[i]();for(var r=0;r<t.ops.length;r++){var n=t.ops[r];if(n.cursorActivityHandlers)for(;n.cursorActivityCalled<n.cursorActivityHandlers.length;)n.cursorActivityHandlers[n.cursorActivityCalled++](n.cm)}}while(i<e.length)}function xe(t){var e=t.curOp,i=e.ownsGroup;if(i)try{ye(i)}finally{Ds=null;for(var r=0;r<i.ops.length;r++)i.ops[r].cm.curOp=null;be(i)}}function be(t){for(var e=t.ops,i=0;i<e.length;i++)we(e[i]);for(var i=0;i<e.length;i++)Ce(e[i]);for(var i=0;i<e.length;i++)ke(e[i]);for(var i=0;i<e.length;i++)Se(e[i]);for(var i=0;i<e.length;i++)Le(e[i])}function we(t){var e=t.cm,i=e.display;T(e),t.updateMaxLine&&p(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<i.viewFrom||t.scrollToPos.to.line>=i.viewTo)||i.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new L(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Ce(t){t.updatedDisplay=t.mustUpdate&&A(t.cm,t.update)}function ke(t){var e=t.cm,i=e.display;t.updatedDisplay&&O(e),t.barMeasure=d(e),i.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=Yt(e,i.maxLine,i.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(i.scroller.clientWidth,i.sizer.offsetLeft+t.adjustWidthTo+jt(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,i.sizer.offsetLeft+t.adjustWidthTo-Ut(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=i.input.prepareSelection())}function Se(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&Ze(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1),t.preparedSelection&&e.display.input.showSelection(t.preparedSelection),t.updatedDisplay&&E(e,t.barMeasure),(t.updatedDisplay||t.startHeight!=e.doc.height)&&y(e,t.barMeasure),t.selectionChanged&&Dt(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing)}function Le(t){var e=t.cm,i=e.display,r=e.doc;if(t.updatedDisplay&&M(e,t.update),null==i.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(i.wheelStartX=i.wheelStartY=null),null==t.scrollTop||i.scroller.scrollTop==t.scrollTop&&!t.forceScroll||(r.scrollTop=Math.max(0,Math.min(i.scroller.scrollHeight-i.scroller.clientHeight,t.scrollTop)),i.scrollbars.setScrollTop(r.scrollTop),i.scroller.scrollTop=r.scrollTop),null==t.scrollLeft||i.scroller.scrollLeft==t.scrollLeft&&!t.forceScroll||(r.scrollLeft=Math.max(0,Math.min(i.scroller.scrollWidth-Ut(e),t.scrollLeft)),i.scrollbars.setScrollLeft(r.scrollLeft),i.scroller.scrollLeft=r.scrollLeft,w(e)),t.scrollToPos){var n=Ai(e,dt(r,t.scrollToPos.from),dt(r,t.scrollToPos.to),t.scrollToPos.margin);t.scrollToPos.isCursor&&e.state.focused&&Ti(e,n)}var s=t.maybeHiddenMarkers,o=t.maybeUnhiddenMarkers;if(s)for(var a=0;a<s.length;++a)s[a].lines.length||ko(s[a],"hide");if(o)for(var a=0;a<o.length;++a)o[a].lines.length&&ko(o[a],"unhide");i.wrapper.offsetHeight&&(r.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&ko(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Te(t,e){if(t.curOp)return e();ge(t);try{return e()}finally{xe(t)}}function Ae(t,e){return function(){if(t.curOp)return e.apply(t,arguments);ge(t);try{return e.apply(t,arguments)}finally{xe(t)}}}function Me(t){return function(){if(this.curOp)return t.apply(this,arguments);ge(this);try{return t.apply(this,arguments)}finally{xe(this)}}}function Ne(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);ge(e);try{return t.apply(this,arguments)}finally{xe(e)}}}function Ee(t,e,i){this.line=e,this.rest=pr(e),this.size=this.rest?Xr(Tn(this.rest))-i+1:1,this.node=this.text=null,this.hidden=mr(t,e)}function Oe(t,e,i){for(var r,n=[],s=e;i>s;s=r){var o=new Ee(t.doc,Ur(t.doc,s),s);r=s+o.size,n.push(o)}return n}function Ie(t,e,i,r){null==e&&(e=t.doc.first),null==i&&(i=t.doc.first+t.doc.size),r||(r=0);var n=t.display;if(r&&i<n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>e)&&(n.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=n.viewTo)As&&fr(t.doc,e)<n.viewTo&&We(t);else if(i<=n.viewFrom)As&&dr(t.doc,i+r)>n.viewFrom?We(t):(n.viewFrom+=r,n.viewTo+=r);else if(e<=n.viewFrom&&i>=n.viewTo)We(t);else if(e<=n.viewFrom){var s=He(t,i,i+r,1);s?(n.view=n.view.slice(s.index),n.viewFrom=s.lineN,n.viewTo+=r):We(t)}else if(i>=n.viewTo){var s=He(t,e,e,-1);s?(n.view=n.view.slice(0,s.index),n.viewTo=s.lineN):We(t)}else{var o=He(t,e,e,-1),a=He(t,i,i+r,1);o&&a?(n.view=n.view.slice(0,o.index).concat(Oe(t,o.lineN,a.lineN)).concat(n.view.slice(a.index)),n.viewTo+=r):We(t)}var l=n.externalMeasured;l&&(i<l.lineN?l.lineN+=r:e<l.lineN+l.size&&(n.externalMeasured=null))}function Pe(t,e,i){t.curOp.viewChanged=!0;var r=t.display,n=t.display.externalMeasured;if(n&&e>=n.lineN&&e<n.lineN+n.size&&(r.externalMeasured=null),!(e<r.viewFrom||e>=r.viewTo)){var s=r.view[De(t,e)];if(null!=s.node){var o=s.changes||(s.changes=[]);-1==An(o,i)&&o.push(i)}}}function We(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function De(t,e){if(e>=t.display.viewTo)return null;if(e-=t.display.viewFrom,0>e)return null;for(var i=t.display.view,r=0;r<i.length;r++)if(e-=i[r].size,0>e)return r}function He(t,e,i,r){var n,s=De(t,e),o=t.display.view;if(!As||i==t.doc.first+t.doc.size)return{index:s,lineN:i};for(var a=0,l=t.display.viewFrom;s>a;a++)l+=o[a].size;if(l!=e){if(r>0){if(s==o.length-1)return null;n=l+o[s].size-e,s++}else n=l-e;e+=n,i+=n}for(;fr(t.doc,i)!=i;){if(s==(0>r?0:o.length-1))return null;i+=r*o[s-(0>r?1:0)].size,s+=r}return{index:s,lineN:i}}function Re(t,e,i){var r=t.display,n=r.view;0==n.length||e>=r.viewTo||i<=r.viewFrom?(r.view=Oe(t,e,i),r.viewFrom=e):(r.viewFrom>e?r.view=Oe(t,e,r.viewFrom).concat(r.view):r.viewFrom<e&&(r.view=r.view.slice(De(t,e))),r.viewFrom=e,r.viewTo<i?r.view=r.view.concat(Oe(t,r.viewTo,i)):r.viewTo>i&&(r.view=r.view.slice(0,De(t,i)))),r.viewTo=i}function Fe(t){for(var e=t.display.view,i=0,r=0;r<e.length;r++){var n=e[r];n.hidden||n.node&&!n.changes||++i}return i}function _e(t){function e(){s.activeTouch&&(o=setTimeout(function(){s.activeTouch=null},1e3),a=s.activeTouch,a.end=+new Date)}function i(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}function r(t,e){if(null==e.left)return!0;var i=e.left-t.left,r=e.top-t.top;return i*i+r*r>400}function n(e){xn(t,e)||bo(e)}var s=t.display;wo(s.scroller,"mousedown",Ae(t,je)),cs&&11>hs?wo(s.scroller,"dblclick",Ae(t,function(e){if(!xn(t,e)){var i=Ve(t,e);if(i&&!Xe(t,e)&&!ze(t.display,e)){yo(e);var r=t.findWordAt(i);xt(t.doc,r.anchor,r.head)}}})):wo(s.scroller,"dblclick",function(e){xn(t,e)||yo(e)}),Ls||wo(s.scroller,"contextmenu",function(e){pi(t,e)});var o,a={end:0};wo(s.scroller,"touchstart",function(t){if(!i(t)){clearTimeout(o);var e=+new Date;s.activeTouch={start:e,moved:!1,prev:e-a.end<=300?a:null},1==t.touches.length&&(s.activeTouch.left=t.touches[0].pageX,s.activeTouch.top=t.touches[0].pageY)}}),wo(s.scroller,"touchmove",function(){s.activeTouch&&(s.activeTouch.moved=!0)}),wo(s.scroller,"touchend",function(i){var n=s.activeTouch;if(n&&!ze(s,i)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=t.coordsChar(s.activeTouch,"page");o=!n.prev||r(n,n.prev)?new ct(a,a):!n.prev.prev||r(n,n.prev.prev)?t.findWordAt(a):new ct(Ms(a.line,0),dt(t.doc,Ms(a.line+1,0))),t.setSelection(o.anchor,o.head),t.focus(),yo(i)}e()}),wo(s.scroller,"touchcancel",e),wo(s.scroller,"scroll",function(){s.scroller.clientHeight&&(Qe(t,s.scroller.scrollTop),Ze(t,s.scroller.scrollLeft,!0),ko(t,"scroll",t))}),wo(s.scroller,"mousewheel",function(e){Je(t,e)}),wo(s.scroller,"DOMMouseScroll",function(e){Je(t,e)}),wo(s.wrapper,"scroll",function(){s.wrapper.scrollTop=s.wrapper.scrollLeft=0}),t.options.dragDrop&&(wo(s.scroller,"dragstart",function(e){$e(t,e)}),wo(s.scroller,"dragenter",n),wo(s.scroller,"dragover",n),wo(s.scroller,"drop",Ae(t,Ye)));var l=s.input.getField();wo(l,"keyup",function(e){ai.call(t,e)}),wo(l,"keydown",Ae(t,si)),wo(l,"keypress",Ae(t,li)),wo(l,"focus",In(ci,t)),wo(l,"blur",In(hi,t))}function Be(t){var e=t.display;(e.lastWrapHeight!=e.wrapper.clientHeight||e.lastWrapWidth!=e.wrapper.clientWidth)&&(e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize())}function ze(t,e){for(var i=mn(e);i!=t.wrapper;i=i.parentNode)if(!i||1==i.nodeType&&"true"==i.getAttribute("cm-ignore-events")||i.parentNode==t.sizer&&i!=t.mover)return!0}function Ve(t,e,i,r){var n=t.display;if(!i&&"true"==mn(e).getAttribute("cm-not-content"))return null;var s,o,a=n.lineSpace.getBoundingClientRect();try{s=e.clientX-a.left,o=e.clientY-a.top}catch(e){return null}var l,u=fe(t,s,o);if(r&&1==u.xRel&&(l=Ur(t.doc,u.line).text).length==u.ch){var c=Eo(l,l.length,t.options.tabSize)-l.length;u=Ms(u.line,Math.max(0,Math.round((s-Vt(t.display).left)/ve(t.display))-c))}return u}function je(t){var e=this,i=e.display;if(!(i.activeTouch&&i.input.supportsTouch()||xn(e,t))){if(i.shift=t.shiftKey,ze(i,t))return void(ps||(i.scroller.draggable=!1,setTimeout(function(){i.scroller.draggable=!0},100)));if(!Xe(e,t)){var r=Ve(e,t);switch(window.focus(),vn(t)){case 1:r?Ue(e,t,r):mn(t)==i.scroller&&yo(t);break;case 2:ps&&(e.state.lastMiddleDown=+new Date),r&&xt(e.doc,r),setTimeout(function(){i.input.focus()},20),yo(t);break;case 3:Ls?pi(e,t):ui(e)}}}}function Ue(t,e,i){cs?setTimeout(In($,t),0):$(t);var r,n=+new Date;Ps&&Ps.time>n-400&&0==Ns(Ps.pos,i)?r="triple":Is&&Is.time>n-400&&0==Ns(Is.pos,i)?(r="double",Ps={time:n,pos:i}):(r="single",Is={time:n,pos:i});var s,o=t.doc.sel,a=ws?e.metaKey:e.ctrlKey;t.options.dragDrop&&jo&&!Q(t)&&"single"==r&&(s=o.contains(i))>-1&&!o.ranges[s].empty()?Ge(t,e,i,a):qe(t,e,i,r,a)}function Ge(t,e,i,r){var n=t.display,s=Ae(t,function(o){ps&&(n.scroller.draggable=!1),t.state.draggingText=!1,Co(document,"mouseup",s),Co(n.scroller,"drop",s),Math.abs(e.clientX-o.clientX)+Math.abs(e.clientY-o.clientY)<10&&(yo(o),r||xt(t.doc,i),ps||cs&&9==hs?setTimeout(function(){document.body.focus(),n.input.focus()},20):n.input.focus())});ps&&(n.scroller.draggable=!0),t.state.draggingText=s,n.scroller.dragDrop&&n.scroller.dragDrop(),wo(document,"mouseup",s),wo(n.scroller,"drop",s)}function qe(t,e,i,r,n){function s(e){if(0!=Ns(v,e))if(v=e,"rect"==r){for(var n=[],s=t.options.tabSize,o=Eo(Ur(u,i.line).text,i.ch,s),a=Eo(Ur(u,e.line).text,e.ch,s),l=Math.min(o,a),f=Math.max(o,a),d=Math.min(i.line,e.line),m=Math.min(t.lastLine(),Math.max(i.line,e.line));m>=d;d++){var g=Ur(u,d).text,y=Sn(g,l,s);l==f?n.push(new ct(Ms(d,y),Ms(d,y))):g.length>y&&n.push(new ct(Ms(d,y),Ms(d,Sn(g,f,s))))}n.length||n.push(new ct(i,i)),Lt(u,ht(p.ranges.slice(0,h).concat(n),h),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var x=c,b=x.anchor,w=e;if("single"!=r){if("double"==r)var C=t.findWordAt(e);else var C=new ct(Ms(e.line,0),dt(u,Ms(e.line+1,0)));Ns(C.anchor,b)>0?(w=C.head,b=Y(x.from(),C.anchor)):(w=C.anchor,b=X(x.to(),C.head))}var n=p.ranges.slice(0);n[h]=new ct(dt(u,b),w),Lt(u,ht(n,h),Mo)}}function o(e){var i=++y,n=Ve(t,e,!0,"rect"==r);if(n)if(0!=Ns(n,v)){$(t),s(n);var a=b(l,u);(n.line>=a.to||n.line<a.from)&&setTimeout(Ae(t,function(){y==i&&o(e)}),150)}else{var c=e.clientY<g.top?-20:e.clientY>g.bottom?20:0;c&&setTimeout(Ae(t,function(){y==i&&(l.scroller.scrollTop+=c,o(e))}),50)}}function a(t){y=1/0,yo(t),l.input.focus(),Co(document,"mousemove",x),Co(document,"mouseup",w),u.history.lastSelOrigin=null}var l=t.display,u=t.doc;yo(e);var c,h,p=u.sel,f=p.ranges;if(n&&!e.shiftKey?(h=u.sel.contains(i),c=h>-1?f[h]:new ct(i,i)):(c=u.sel.primary(),h=u.sel.primIndex),e.altKey)r="rect",n||(c=new ct(i,i)),i=Ve(t,e,!0,!0),h=-1;else if("double"==r){var d=t.findWordAt(i);c=t.display.shift||u.extend?yt(u,c,d.anchor,d.head):d}else if("triple"==r){var m=new ct(Ms(i.line,0),dt(u,Ms(i.line+1,0)));c=t.display.shift||u.extend?yt(u,c,m.anchor,m.head):m}else c=yt(u,c,i);n?-1==h?(h=f.length,Lt(u,ht(f.concat([c]),h),{scroll:!1,origin:"*mouse"})):f.length>1&&f[h].empty()&&"single"==r&&!e.shiftKey?(Lt(u,ht(f.slice(0,h).concat(f.slice(h+1)),0)),p=u.sel):wt(u,h,c,Mo):(h=0,Lt(u,new ut([c],0),Mo),p=u.sel);var v=i,g=l.wrapper.getBoundingClientRect(),y=0,x=Ae(t,function(t){vn(t)?o(t):a(t)}),w=Ae(t,a);wo(document,"mousemove",x),wo(document,"mouseup",w)}function Ke(t,e,i,r,n){try{var s=e.clientX,o=e.clientY}catch(e){return!1}if(s>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;r&&yo(e);var a=t.display,l=a.lineDiv.getBoundingClientRect();if(o>l.bottom||!wn(t,i))return dn(e);o-=l.top-a.viewOffset;for(var u=0;u<t.options.gutters.length;++u){var c=a.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=s){var h=Yr(t.doc,o),p=t.options.gutters[u];return n(t,i,t,h,p,e),dn(e)}}}function Xe(t,e){return Ke(t,e,"gutterClick",!0,gn)}function Ye(t){var e=this;if(!xn(e,t)&&!ze(e.display,t)){yo(t),cs&&(Rs=+new Date);var i=Ve(e,t,!0),r=t.dataTransfer.files;if(i&&!Q(e))if(r&&r.length&&window.FileReader&&window.File)for(var n=r.length,s=Array(n),o=0,a=function(t,r){var a=new FileReader;a.onload=Ae(e,function(){if(s[r]=a.result,++o==n){i=dt(e.doc,i);var t={from:i,to:i,text:Uo(s.join("\n")),origin:"paste"};xi(e.doc,t),St(e.doc,pt(i,js(t)))}}),a.readAsText(t)},l=0;n>l;++l)a(r[l],l);else{if(e.state.draggingText&&e.doc.sel.contains(i)>-1)return e.state.draggingText(t),void setTimeout(function(){e.display.input.focus()},20);try{var s=t.dataTransfer.getData("Text");if(s){if(e.state.draggingText&&!(ws?t.metaKey:t.ctrlKey))var u=e.listSelections();if(Tt(e.doc,pt(i,i)),u)for(var l=0;l<u.length;++l)Li(e.doc,"",u[l].anchor,u[l].head,"drag");e.replaceSelection(s,"around","paste"),e.display.input.focus()}}catch(t){}}}}function $e(t,e){if(cs&&(!t.state.draggingText||+new Date-Rs<100))return void bo(e);if(!xn(t,e)&&!ze(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.setDragImage&&!vs)){var i=Hn("img",null,null,"position: fixed; left: 0; top: 0;");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ms&&(i.width=i.height=1,t.display.wrapper.appendChild(i),i._top=i.offsetTop),e.dataTransfer.setDragImage(i,0,0),ms&&i.parentNode.removeChild(i)}}function Qe(t,e){Math.abs(t.doc.scrollTop-e)<2||(t.doc.scrollTop=e,as||N(t,{top:e}),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e),t.display.scrollbars.setScrollTop(e),as&&N(t),Ht(t,100))}function Ze(t,e,i){(i?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)||(e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),t.doc.scrollLeft=e,w(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Je(t,e){var i=Bs(e),r=i.x,n=i.y,s=t.display,o=s.scroller;if(r&&o.scrollWidth>o.clientWidth||n&&o.scrollHeight>o.clientHeight){if(n&&ws&&ps)t:for(var a=e.target,l=s.view;a!=o;a=a.parentNode)for(var u=0;u<l.length;u++)if(l[u].node==a){t.display.currentWheelTarget=a;break t}if(r&&!as&&!ms&&null!=_s)return n&&Qe(t,Math.max(0,Math.min(o.scrollTop+n*_s,o.scrollHeight-o.clientHeight))),Ze(t,Math.max(0,Math.min(o.scrollLeft+r*_s,o.scrollWidth-o.clientWidth))),yo(e),void(s.wheelStartX=null);if(n&&null!=_s){var c=n*_s,h=t.doc.scrollTop,p=h+s.wrapper.clientHeight;0>c?h=Math.max(0,h+c-50):p=Math.min(t.doc.height,p+c+50),N(t,{top:h,bottom:p})}20>Fs&&(null==s.wheelStartX?(s.wheelStartX=o.scrollLeft,s.wheelStartY=o.scrollTop,s.wheelDX=r,s.wheelDY=n,setTimeout(function(){if(null!=s.wheelStartX){var t=o.scrollLeft-s.wheelStartX,e=o.scrollTop-s.wheelStartY,i=e&&s.wheelDY&&e/s.wheelDY||t&&s.wheelDX&&t/s.wheelDX;s.wheelStartX=s.wheelStartY=null,i&&(_s=(_s*Fs+i)/(Fs+1),++Fs)}},200)):(s.wheelDX+=r,s.wheelDY+=n))}}function ti(t,e,i){if("string"==typeof e&&(e=to[e],!e))return!1;t.display.input.ensurePolled();var r=t.display.shift,n=!1;try{Q(t)&&(t.state.suppressEdits=!0),i&&(t.display.shift=!1),n=e(t)!=To}finally{t.display.shift=r,t.state.suppressEdits=!1}return n}function ei(t,e,i){for(var r=0;r<t.state.keyMaps.length;r++){var n=io(e,t.state.keyMaps[r],i,t);if(n)return n}return t.options.extraKeys&&io(e,t.options.extraKeys,i,t)||io(e,t.options.keyMap,i,t)}function ii(t,e,i,r){var n=t.state.keySeq;if(n){if(ro(e))return"handled";zs.set(50,function(){t.state.keySeq==n&&(t.state.keySeq=null,t.display.input.reset())}),e=n+" "+e}var s=ei(t,e,r);return"multi"==s&&(t.state.keySeq=e),"handled"==s&&gn(t,"keyHandled",t,e,i),("handled"==s||"multi"==s)&&(yo(i),Dt(t)),n&&!s&&/\'$/.test(e)?(yo(i),!0):!!s}function ri(t,e){var i=no(e,!0);return i?e.shiftKey&&!t.state.keySeq?ii(t,"Shift-"+i,e,function(e){return ti(t,e,!0)})||ii(t,i,e,function(e){return("string"==typeof e?/^go[A-Z]/.test(e):e.motion)?ti(t,e):void 0}):ii(t,i,e,function(e){return ti(t,e)}):!1}function ni(t,e,i){return ii(t,"'"+i+"'",e,function(e){return ti(t,e,!0)})}function si(t){var e=this;if($(e),!xn(e,t)){cs&&11>hs&&27==t.keyCode&&(t.returnValue=!1);var i=t.keyCode;e.display.shift=16==i||t.shiftKey;var r=ri(e,t);ms&&(Vs=r?i:null,!r&&88==i&&!qo&&(ws?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=i||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||oi(e)}}function oi(t){function e(t){18!=t.keyCode&&t.altKey||(Bo(i,"CodeMirror-crosshair"),Co(document,"keyup",e),Co(document,"mouseover",e))}var i=t.display.lineDiv;zo(i,"CodeMirror-crosshair"),wo(document,"keyup",e),wo(document,"mouseover",e)}function ai(t){16==t.keyCode&&(this.doc.sel.shift=!1),xn(this,t)}function li(t){var e=this;if(!(ze(e.display,t)||xn(e,t)||t.ctrlKey&&!t.altKey||ws&&t.metaKey)){var i=t.keyCode,r=t.charCode;if(ms&&i==Vs)return Vs=null,void yo(t);if(!ms||t.which&&!(t.which<10)||!ri(e,t)){var n=String.fromCharCode(null==r?i:r);ni(e,t,n)||e.display.input.onKeyPress(t)}}}function ui(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,hi(t))},100)}function ci(t){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(ko(t,"focus",t),t.state.focused=!0,zo(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),ps&&setTimeout(function(){t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Dt(t))}function hi(t){t.state.delayingBlurEvent||(t.state.focused&&(ko(t,"blur",t),t.state.focused=!1,Bo(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function pi(t,e){ze(t.display,e)||fi(t,e)||t.display.input.onContextMenu(e)}function fi(t,e){return wn(t,"gutterContextMenu")?Ke(t,e,"gutterContextMenu",!1,ko):!1}function di(t,e){if(Ns(t,e.from)<0)return t;if(Ns(t,e.to)<=0)return js(e);var i=t.line+e.text.length-(e.to.line-e.from.line)-1,r=t.ch;return t.line==e.to.line&&(r+=js(e).ch-e.to.ch),Ms(i,r)}function mi(t,e){for(var i=[],r=0;r<t.sel.ranges.length;r++){var n=t.sel.ranges[r];i.push(new ct(di(n.anchor,e),di(n.head,e)))}return ht(i,t.sel.primIndex)}function vi(t,e,i){return t.line==e.line?Ms(i.line,t.ch-e.ch+i.ch):Ms(i.line+(t.line-e.line),t.ch)}function gi(t,e,i){for(var r=[],n=Ms(t.first,0),s=n,o=0;o<e.length;o++){var a=e[o],l=vi(a.from,n,s),u=vi(js(a),n,s);if(n=a.to,s=u,"around"==i){var c=t.sel.ranges[o],h=Ns(c.head,c.anchor)<0;r[o]=new ct(h?u:l,h?l:u)}else r[o]=new ct(l,l)}return new ut(r,t.sel.primIndex)}function yi(t,e,i){var r={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return i&&(r.update=function(e,i,r,n){e&&(this.from=dt(t,e)),i&&(this.to=dt(t,i)),r&&(this.text=r),void 0!==n&&(this.origin=n)}),ko(t,"beforeChange",t,r),t.cm&&ko(t.cm,"beforeChange",t.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function xi(t,e,i){if(t.cm){if(!t.cm.curOp)return Ae(t.cm,xi)(t,e,i);if(t.cm.state.suppressEdits)return}if(!(wn(t,"beforeChange")||t.cm&&wn(t.cm,"beforeChange"))||(e=yi(t,e,!0))){var r=Ts&&!i&&er(t,e.from,e.to);if(r)for(var n=r.length-1;n>=0;--n)bi(t,{from:r[n].from,to:r[n].to,text:n?[""]:e.text});else bi(t,e)}}function bi(t,e){if(1!=e.text.length||""!=e.text[0]||0!=Ns(e.from,e.to)){var i=mi(t,e);rn(t,e,i,t.cm?t.cm.curOp.id:0/0),ki(t,e,i,Zi(t,e));var r=[];Vr(t,function(t,i){i||-1!=An(r,t.history)||(fn(t.history,e),r.push(t.history)),ki(t,e,null,Zi(t,e))})}}function wi(t,e,i){if(!t.cm||!t.cm.state.suppressEdits){for(var r,n=t.history,s=t.sel,o="undo"==e?n.done:n.undone,a="undo"==e?n.undone:n.done,l=0;l<o.length&&(r=o[l],i?!r.ranges||r.equals(t.sel):r.ranges);l++);if(l!=o.length){for(n.lastOrigin=n.lastSelOrigin=null;r=o.pop(),r.ranges;){if(on(r,a),i&&!r.equals(t.sel))return void Lt(t,r,{clearRedo:!1});s=r}var u=[];on(s,a),a.push({changes:u,generation:n.generation}),n.generation=r.generation||++n.maxGeneration;for(var c=wn(t,"beforeChange")||t.cm&&wn(t.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var h=r.changes[l];if(h.origin=e,c&&!yi(t,h,!1))return void(o.length=0);u.push(Jr(t,h));var p=l?mi(t,h):Tn(o);ki(t,h,p,tr(t,h)),!l&&t.cm&&t.cm.scrollIntoView({from:h.from,to:js(h)});var f=[];Vr(t,function(t,e){e||-1!=An(f,t.history)||(fn(t.history,h),f.push(t.history)),ki(t,h,null,tr(t,h))})}}}}function Ci(t,e){if(0!=e&&(t.first+=e,t.sel=new ut(Mn(t.sel.ranges,function(t){return new ct(Ms(t.anchor.line+e,t.anchor.ch),Ms(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){Ie(t.cm,t.first,t.first-e,e);for(var i=t.cm.display,r=i.viewFrom;r<i.viewTo;r++)Pe(t.cm,r,"gutter")}}function ki(t,e,i,r){if(t.cm&&!t.cm.curOp)return Ae(t.cm,ki)(t,e,i,r);if(e.to.line<t.first)return void Ci(t,e.text.length-1-(e.to.line-e.from.line));if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var n=e.text.length-1-(t.first-e.from.line);Ci(t,n),e={from:Ms(t.first,0),to:Ms(e.to.line+n,e.to.ch),text:[Tn(e.text)],origin:e.origin}}var s=t.lastLine();e.to.line>s&&(e={from:e.from,to:Ms(s,Ur(t,s).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Gr(t,e.from,e.to),i||(i=mi(t,e)),t.cm?Si(t.cm,e,r):_r(t,e,r),Tt(t,i,Ao)}}function Si(t,e,i){var r=t.doc,n=t.display,o=e.from,a=e.to,l=!1,u=o.line;t.options.lineWrapping||(u=Xr(hr(Ur(r,o.line))),r.iter(u,a.line+1,function(t){return t==n.maxLine?(l=!0,!0):void 0})),r.sel.contains(e.from,e.to)>-1&&bn(t),_r(r,e,i,s(t)),t.options.lineWrapping||(r.iter(u,o.line+e.text.length,function(t){var e=h(t);e>n.maxLineLength&&(n.maxLine=t,n.maxLineLength=e,n.maxLineChanged=!0,l=!1)}),l&&(t.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,o.line),Ht(t,400);var c=e.text.length-(a.line-o.line)-1;e.full?Ie(t):o.line!=a.line||1!=e.text.length||Fr(t.doc,e)?Ie(t,o.line,a.line+1,c):Pe(t,o.line,"text");var p=wn(t,"changes"),f=wn(t,"change");if(f||p){var d={from:o,to:a,text:e.text,removed:e.removed,origin:e.origin};f&&gn(t,"change",t,d),p&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}function Li(t,e,i,r,n){if(r||(r=i),Ns(r,i)<0){var s=r;r=i,i=s}"string"==typeof e&&(e=Uo(e)),xi(t,{from:i,to:r,text:e,origin:n})}function Ti(t,e){if(!xn(t,"scrollCursorIntoView")){var i=t.display,r=i.sizer.getBoundingClientRect(),n=null;if(e.top+r.top<0?n=!0:e.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(n=!1),null!=n&&!ys){var s=Hn("div","​",null,"position: absolute; top: "+(e.top-i.viewOffset-Bt(t.display))+"px; height: "+(e.bottom-e.top+jt(t)+i.barHeight)+"px; left: "+e.left+"px; width: 2px;");t.display.lineSpace.appendChild(s),s.scrollIntoView(n),t.display.lineSpace.removeChild(s)}}}function Ai(t,e,i,r){null==r&&(r=0);for(var n=0;5>n;n++){var s=!1,o=ce(t,e),a=i&&i!=e?ce(t,i):o,l=Ni(t,Math.min(o.left,a.left),Math.min(o.top,a.top)-r,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+r),u=t.doc.scrollTop,c=t.doc.scrollLeft;if(null!=l.scrollTop&&(Qe(t,l.scrollTop),Math.abs(t.doc.scrollTop-u)>1&&(s=!0)),null!=l.scrollLeft&&(Ze(t,l.scrollLeft),Math.abs(t.doc.scrollLeft-c)>1&&(s=!0)),!s)break}return o}function Mi(t,e,i,r,n){var s=Ni(t,e,i,r,n);null!=s.scrollTop&&Qe(t,s.scrollTop),null!=s.scrollLeft&&Ze(t,s.scrollLeft)}function Ni(t,e,i,r,n){var s=t.display,o=me(t.display);0>i&&(i=0);var a=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:s.scroller.scrollTop,l=Gt(t),u={};n-i>l&&(n=i+l);var c=t.doc.height+zt(s),h=o>i,p=n>c-o;if(a>i)u.scrollTop=h?0:i;else if(n>a+l){var f=Math.min(i,(p?c:n)-l);f!=a&&(u.scrollTop=f)}var d=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:s.scroller.scrollLeft,m=Ut(t)-(t.options.fixedGutter?s.gutters.offsetWidth:0),v=r-e>m;return v&&(r=e+m),10>e?u.scrollLeft=0:d>e?u.scrollLeft=Math.max(0,e-(v?0:10)):r>m+d-3&&(u.scrollLeft=r+(v?0:10)-m),u}function Ei(t,e,i){(null!=e||null!=i)&&Ii(t),null!=e&&(t.curOp.scrollLeft=(null==t.curOp.scrollLeft?t.doc.scrollLeft:t.curOp.scrollLeft)+e),null!=i&&(t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+i)}function Oi(t){Ii(t);var e=t.getCursor(),i=e,r=e;t.options.lineWrapping||(i=e.ch?Ms(e.line,e.ch-1):e,r=Ms(e.line,e.ch+1)),t.curOp.scrollToPos={from:i,to:r,margin:t.options.cursorScrollMargin,isCursor:!0}}function Ii(t){var e=t.curOp.scrollToPos;if(e){t.curOp.scrollToPos=null;var i=he(t,e.from),r=he(t,e.to),n=Ni(t,Math.min(i.left,r.left),Math.min(i.top,r.top)-e.margin,Math.max(i.right,r.right),Math.max(i.bottom,r.bottom)+e.margin);t.scrollTo(n.scrollLeft,n.scrollTop)}}function Pi(t,e,i,r){var n,s=t.doc;null==i&&(i="add"),"smart"==i&&(s.mode.indent?n=_t(t,e):i="prev");var o=t.options.tabSize,a=Ur(s,e),l=Eo(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var u,c=a.text.match(/^\s*/)[0];if(r||/\S/.test(a.text)){if("smart"==i&&(u=s.mode.indent(n,a.text.slice(c.length),a.text),u==To||u>150)){if(!r)return;i="prev"}}else u=0,i="not";"prev"==i?u=e>s.first?Eo(Ur(s,e-1).text,null,o):0:"add"==i?u=l+t.options.indentUnit:"subtract"==i?u=l-t.options.indentUnit:"number"==typeof i&&(u=l+i),u=Math.max(0,u);var h="",p=0;if(t.options.indentWithTabs)for(var f=Math.floor(u/o);f;--f)p+=o,h+="	";if(u>p&&(h+=Ln(u-p)),h!=c)Li(s,h,Ms(e,0),Ms(e,c.length),"+input");else for(var f=0;f<s.sel.ranges.length;f++){var d=s.sel.ranges[f];if(d.head.line==e&&d.head.ch<c.length){var p=Ms(e,c.length);wt(s,f,new ct(p,p));break}}a.stateAfter=null}function Wi(t,e,i,r){var n=e,s=e;return"number"==typeof e?s=Ur(t,ft(t,e)):n=Xr(e),null==n?null:(r(s,n)&&t.cm&&Pe(t.cm,n,i),s)}function Di(t,e){for(var i=t.doc.sel.ranges,r=[],n=0;n<i.length;n++){for(var s=e(i[n]);r.length&&Ns(s.from,Tn(r).to)<=0;){var o=r.pop();if(Ns(o.from,s.from)<0){s.from=o.from;break}}r.push(s)}Te(t,function(){for(var e=r.length-1;e>=0;e--)Li(t.doc,"",r[e].from,r[e].to,"+delete");Oi(t)})}function Hi(t,e,i,r,n){function s(){var e=a+i;return e<t.first||e>=t.first+t.size?h=!1:(a=e,c=Ur(t,e))}function o(t){var e=(n?ss:os)(c,l,i,!0);if(null==e){if(t||!s())return h=!1;l=n?(0>i?Zn:Qn)(c):0>i?c.text.length:0}else l=e;return!0}var a=e.line,l=e.ch,u=i,c=Ur(t,a),h=!0;if("char"==r)o();else if("column"==r)o(!0);else if("word"==r||"group"==r)for(var p=null,f="group"==r,d=t.cm&&t.cm.getHelper(e,"wordChars"),m=!0;!(0>i)||o(!m);m=!1){var v=c.text.charAt(l)||"\n",g=Pn(v,d)?"w":f&&"\n"==v?"n":!f||/\s/.test(v)?null:"p";if(!f||m||g||(g="s"),p&&p!=g){0>i&&(i=1,o());break}if(g&&(p=g),i>0&&!o(!m))break}var y=Et(t,Ms(a,l),u,!0);return h||(y.hitSide=!0),y}function Ri(t,e,i,r){var n,s=t.doc,o=e.left;if("page"==r){var a=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);n=e.top+i*(a-(0>i?1.5:.5)*me(t.display))}else"line"==r&&(n=i>0?e.bottom+3:e.top-3);for(;;){var l=fe(t,o,n);if(!l.outside)break;if(0>i?0>=n:n>=s.height){l.hitSide=!0;break}n+=5*i}return l}function Fi(e,i,r,n){t.defaults[e]=i,r&&(Gs[e]=n?function(t,e,i){i!=qs&&r(t,e,i)}:r)}function _i(t){for(var e,i,r,n,s=t.split(/-(?!$)/),t=s[s.length-1],o=0;o<s.length-1;o++){
var a=s[o];if(/^(cmd|meta|m)$/i.test(a))n=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else{if(!/^s(hift)$/i.test(a))throw new Error("Unrecognized modifier name: "+a);r=!0}}return e&&(t="Alt-"+t),i&&(t="Ctrl-"+t),n&&(t="Cmd-"+t),r&&(t="Shift-"+t),t}function Bi(t){return"string"==typeof t?eo[t]:t}function zi(t,e,i,r,n){if(r&&r.shared)return Vi(t,e,i,r,n);if(t.cm&&!t.cm.curOp)return Ae(t.cm,zi)(t,e,i,r,n);var s=new ao(t,n),o=Ns(e,i);if(r&&On(r,s,!1),o>0||0==o&&s.clearWhenEmpty!==!1)return s;if(s.replacedWith&&(s.collapsed=!0,s.widgetNode=Hn("span",[s.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||s.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(s.widgetNode.insertLeft=!0)),s.collapsed){if(cr(t,e.line,e,i,s)||e.line!=i.line&&cr(t,i.line,e,i,s))throw new Error("Inserting collapsed marker partially overlapping an existing one");As=!0}s.addToHistory&&rn(t,{from:e,to:i,origin:"markText"},t.sel,0/0);var a,l=e.line,u=t.cm;if(t.iter(l,i.line+1,function(t){u&&s.collapsed&&!u.options.lineWrapping&&hr(t)==u.display.maxLine&&(a=!0),s.collapsed&&l!=e.line&&Kr(t,0),Yi(t,new qi(s,l==e.line?e.ch:null,l==i.line?i.ch:null)),++l}),s.collapsed&&t.iter(e.line,i.line+1,function(e){mr(t,e)&&Kr(e,0)}),s.clearOnEnter&&wo(s,"beforeCursorEnter",function(){s.clear()}),s.readOnly&&(Ts=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),s.collapsed&&(s.id=++oo,s.atomic=!0),u){if(a&&(u.curOp.updateMaxLine=!0),s.collapsed)Ie(u,e.line,i.line+1);else if(s.className||s.title||s.startStyle||s.endStyle||s.css)for(var c=e.line;c<=i.line;c++)Pe(u,c,"text");s.atomic&&Mt(u.doc),gn(u,"markerAdded",u,s)}return s}function Vi(t,e,i,r,n){r=On(r),r.shared=!1;var s=[zi(t,e,i,r,n)],o=s[0],a=r.widgetNode;return Vr(t,function(t){a&&(r.widgetNode=a.cloneNode(!0)),s.push(zi(t,dt(t,e),dt(t,i),r,n));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;o=Tn(s)}),new lo(s,o)}function ji(t){return t.findMarks(Ms(t.first,0),t.clipPos(Ms(t.lastLine())),function(t){return t.parent})}function Ui(t,e){for(var i=0;i<e.length;i++){var r=e[i],n=r.find(),s=t.clipPos(n.from),o=t.clipPos(n.to);if(Ns(s,o)){var a=zi(t,s,o,r.primary,r.primary.type);r.markers.push(a),a.parent=r}}}function Gi(t){for(var e=0;e<t.length;e++){var i=t[e],r=[i.primary.doc];Vr(i.primary.doc,function(t){r.push(t)});for(var n=0;n<i.markers.length;n++){var s=i.markers[n];-1==An(r,s.doc)&&(s.parent=null,i.markers.splice(n--,1))}}}function qi(t,e,i){this.marker=t,this.from=e,this.to=i}function Ki(t,e){if(t)for(var i=0;i<t.length;++i){var r=t[i];if(r.marker==e)return r}}function Xi(t,e){for(var i,r=0;r<t.length;++r)t[r]!=e&&(i||(i=[])).push(t[r]);return i}function Yi(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}function $i(t,e,i){if(t)for(var r,n=0;n<t.length;++n){var s=t[n],o=s.marker,a=null==s.from||(o.inclusiveLeft?s.from<=e:s.from<e);if(a||s.from==e&&"bookmark"==o.type&&(!i||!s.marker.insertLeft)){var l=null==s.to||(o.inclusiveRight?s.to>=e:s.to>e);(r||(r=[])).push(new qi(o,s.from,l?null:s.to))}}return r}function Qi(t,e,i){if(t)for(var r,n=0;n<t.length;++n){var s=t[n],o=s.marker,a=null==s.to||(o.inclusiveRight?s.to>=e:s.to>e);if(a||s.from==e&&"bookmark"==o.type&&(!i||s.marker.insertLeft)){var l=null==s.from||(o.inclusiveLeft?s.from<=e:s.from<e);(r||(r=[])).push(new qi(o,l?null:s.from-e,null==s.to?null:s.to-e))}}return r}function Zi(t,e){if(e.full)return null;var i=vt(t,e.from.line)&&Ur(t,e.from.line).markedSpans,r=vt(t,e.to.line)&&Ur(t,e.to.line).markedSpans;if(!i&&!r)return null;var n=e.from.ch,s=e.to.ch,o=0==Ns(e.from,e.to),a=$i(i,n,o),l=Qi(r,s,o),u=1==e.text.length,c=Tn(e.text).length+(u?n:0);if(a)for(var h=0;h<a.length;++h){var p=a[h];if(null==p.to){var f=Ki(l,p.marker);f?u&&(p.to=null==f.to?null:f.to+c):p.to=n}}if(l)for(var h=0;h<l.length;++h){var p=l[h];if(null!=p.to&&(p.to+=c),null==p.from){var f=Ki(a,p.marker);f||(p.from=c,u&&(a||(a=[])).push(p))}else p.from+=c,u&&(a||(a=[])).push(p)}a&&(a=Ji(a)),l&&l!=a&&(l=Ji(l));var d=[a];if(!u){var m,v=e.text.length-2;if(v>0&&a)for(var h=0;h<a.length;++h)null==a[h].to&&(m||(m=[])).push(new qi(a[h].marker,null,null));for(var h=0;v>h;++h)d.push(m);d.push(l)}return d}function Ji(t){for(var e=0;e<t.length;++e){var i=t[e];null!=i.from&&i.from==i.to&&i.marker.clearWhenEmpty!==!1&&t.splice(e--,1)}return t.length?t:null}function tr(t,e){var i=un(t,e),r=Zi(t,e);if(!i)return r;if(!r)return i;for(var n=0;n<i.length;++n){var s=i[n],o=r[n];if(s&&o)t:for(var a=0;a<o.length;++a){for(var l=o[a],u=0;u<s.length;++u)if(s[u].marker==l.marker)continue t;s.push(l)}else o&&(i[n]=o)}return i}function er(t,e,i){var r=null;if(t.iter(e.line,i.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var i=t.markedSpans[e].marker;!i.readOnly||r&&-1!=An(r,i)||(r||(r=[])).push(i)}}),!r)return null;for(var n=[{from:e,to:i}],s=0;s<r.length;++s)for(var o=r[s],a=o.find(0),l=0;l<n.length;++l){var u=n[l];if(!(Ns(u.to,a.from)<0||Ns(u.from,a.to)>0)){var c=[l,1],h=Ns(u.from,a.from),p=Ns(u.to,a.to);(0>h||!o.inclusiveLeft&&!h)&&c.push({from:u.from,to:a.from}),(p>0||!o.inclusiveRight&&!p)&&c.push({from:a.to,to:u.to}),n.splice.apply(n,c),l+=c.length-1}}return n}function ir(t){var e=t.markedSpans;if(e){for(var i=0;i<e.length;++i)e[i].marker.detachLine(t);t.markedSpans=null}}function rr(t,e){if(e){for(var i=0;i<e.length;++i)e[i].marker.attachLine(t);t.markedSpans=e}}function nr(t){return t.inclusiveLeft?-1:0}function sr(t){return t.inclusiveRight?1:0}function or(t,e){var i=t.lines.length-e.lines.length;if(0!=i)return i;var r=t.find(),n=e.find(),s=Ns(r.from,n.from)||nr(t)-nr(e);if(s)return-s;var o=Ns(r.to,n.to)||sr(t)-sr(e);return o?o:e.id-t.id}function ar(t,e){var i,r=As&&t.markedSpans;if(r)for(var n,s=0;s<r.length;++s)n=r[s],n.marker.collapsed&&null==(e?n.from:n.to)&&(!i||or(i,n.marker)<0)&&(i=n.marker);return i}function lr(t){return ar(t,!0)}function ur(t){return ar(t,!1)}function cr(t,e,i,r,n){var s=Ur(t,e),o=As&&s.markedSpans;if(o)for(var a=0;a<o.length;++a){var l=o[a];if(l.marker.collapsed){var u=l.marker.find(0),c=Ns(u.from,i)||nr(l.marker)-nr(n),h=Ns(u.to,r)||sr(l.marker)-sr(n);if(!(c>=0&&0>=h||0>=c&&h>=0)&&(0>=c&&(Ns(u.to,i)>0||l.marker.inclusiveRight&&n.inclusiveLeft)||c>=0&&(Ns(u.from,r)<0||l.marker.inclusiveLeft&&n.inclusiveRight)))return!0}}}function hr(t){for(var e;e=lr(t);)t=e.find(-1,!0).line;return t}function pr(t){for(var e,i;e=ur(t);)t=e.find(1,!0).line,(i||(i=[])).push(t);return i}function fr(t,e){var i=Ur(t,e),r=hr(i);return i==r?e:Xr(r)}function dr(t,e){if(e>t.lastLine())return e;var i,r=Ur(t,e);if(!mr(t,r))return e;for(;i=ur(r);)r=i.find(1,!0).line;return Xr(r)+1}function mr(t,e){var i=As&&e.markedSpans;if(i)for(var r,n=0;n<i.length;++n)if(r=i[n],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&vr(t,e,r))return!0}}function vr(t,e,i){if(null==i.to){var r=i.marker.find(1,!0);return vr(t,r.line,Ki(r.line.markedSpans,i.marker))}if(i.marker.inclusiveRight&&i.to==e.text.length)return!0;for(var n,s=0;s<e.markedSpans.length;++s)if(n=e.markedSpans[s],n.marker.collapsed&&!n.marker.widgetNode&&n.from==i.to&&(null==n.to||n.to!=i.from)&&(n.marker.inclusiveLeft||i.marker.inclusiveRight)&&vr(t,e,n))return!0}function gr(t,e,i){$r(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ei(t,null,i)}function yr(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!Ro(document.body,t.node)){var i="position: relative;";t.coverGutter&&(i+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(i+="width: "+e.display.wrapper.clientWidth+"px;"),Fn(e.display.measure,Hn("div",[t.node],null,i))}return t.height=t.node.offsetHeight}function xr(t,e,i,r){var n=new uo(t,i,r),s=t.cm;return s&&n.noHScroll&&(s.display.alignWidgets=!0),Wi(t,e,"widget",function(e){var i=e.widgets||(e.widgets=[]);if(null==n.insertAt?i.push(n):i.splice(Math.min(i.length-1,Math.max(0,n.insertAt)),0,n),n.line=e,s&&!mr(t,e)){var r=$r(e)<t.scrollTop;Kr(e,e.height+yr(n)),r&&Ei(s,null,n.height),s.curOp.forceUpdate=!0}return!0}),n}function br(t,e,i,r){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),ir(t),rr(t,i);var n=r?r(t):1;n!=t.height&&Kr(t,n)}function wr(t){t.parent=null,ir(t)}function Cr(t,e){if(t)for(;;){var i=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!i)break;t=t.slice(0,i.index)+t.slice(i.index+i[0].length);var r=i[1]?"bgClass":"textClass";null==e[r]?e[r]=i[2]:new RegExp("(?:^|s)"+i[2]+"(?:$|s)").test(e[r])||(e[r]+=" "+i[2])}return t}function kr(e,i){if(e.blankLine)return e.blankLine(i);if(e.innerMode){var r=t.innerMode(e,i);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Sr(e,i,r,n){for(var s=0;10>s;s++){n&&(n[0]=t.innerMode(e,r).mode);var o=e.token(i,r);if(i.pos>i.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Lr(t,e,i,r){function n(t){return{start:h.start,end:h.pos,string:h.current(),type:s||null,state:t?Zs(o.mode,c):c}}var s,o=t.doc,a=o.mode;e=dt(o,e);var l,u=Ur(o,e.line),c=_t(t,e.line,i),h=new so(u.text,t.options.tabSize);for(r&&(l=[]);(r||h.pos<e.ch)&&!h.eol();)h.start=h.pos,s=Sr(a,h,c),r&&l.push(n(!0));return r?l:n()}function Tr(t,e,i,r,n,s,o){var a=i.flattenSpans;null==a&&(a=t.options.flattenSpans);var l,u=0,c=null,h=new so(e,t.options.tabSize),p=t.options.addModeClass&&[null];for(""==e&&Cr(kr(i,r),s);!h.eol();){if(h.pos>t.options.maxHighlightLength?(a=!1,o&&Nr(t,e,r,h.pos),h.pos=e.length,l=null):l=Cr(Sr(i,h,r,p),s),p){var f=p[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!a||c!=l){for(;u<h.start;)u=Math.min(h.start,u+5e4),n(u,c);c=l}h.start=h.pos}for(;u<h.pos;){var d=Math.min(h.pos,u+5e4);n(d,c),u=d}}function Ar(t,e,i,r){var n=[t.state.modeGen],s={};Tr(t,e.text,t.doc.mode,i,function(t,e){n.push(t,e)},s,r);for(var o=0;o<t.state.overlays.length;++o){var a=t.state.overlays[o],l=1,u=0;Tr(t,e.text,a.mode,!0,function(t,e){for(var i=l;t>u;){var r=n[l];r>t&&n.splice(l,1,t,n[l+1],r),l+=2,u=Math.min(t,r)}if(e)if(a.opaque)n.splice(i,l-i,t,"cm-overlay "+e),l=i+2;else for(;l>i;i+=2){var s=n[i+1];n[i+1]=(s?s+" ":"")+"cm-overlay "+e}},s)}return{styles:n,classes:s.bgClass||s.textClass?s:null}}function Mr(t,e,i){if(!e.styles||e.styles[0]!=t.state.modeGen){var r=Ar(t,e,e.stateAfter=_t(t,Xr(e)));e.styles=r.styles,r.classes?e.styleClasses=r.classes:e.styleClasses&&(e.styleClasses=null),i===t.doc.frontier&&t.doc.frontier++}return e.styles}function Nr(t,e,i,r){var n=t.doc.mode,s=new so(e,t.options.tabSize);for(s.start=s.pos=r||0,""==e&&kr(n,i);!s.eol()&&s.pos<=t.options.maxHighlightLength;)Sr(n,s,i),s.start=s.pos}function Er(t,e){if(!t||/^\s*$/.test(t))return null;var i=e.addModeClass?po:ho;return i[t]||(i[t]=t.replace(/\S+/g,"cm-$&"))}function Or(t,e){var i=Hn("span",null,null,ps?"padding-right: .1px":null),r={pre:Hn("pre",[i]),content:i,col:0,pos:0,cm:t,splitSpaces:(cs||ps)&&t.getOption("lineWrapping")};e.measure={};for(var n=0;n<=(e.rest?e.rest.length:0);n++){var s,o=n?e.rest[n-1]:e.line;r.pos=0,r.addToken=Pr,qn(t.display.measure)&&(s=Qr(o))&&(r.addToken=Dr(r.addToken,s)),r.map=[];var a=e!=t.display.externalMeasured&&Xr(o);Rr(o,r,Mr(t,o,a)),o.styleClasses&&(o.styleClasses.bgClass&&(r.bgClass=zn(o.styleClasses.bgClass,r.bgClass||"")),o.styleClasses.textClass&&(r.textClass=zn(o.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Gn(t.display.measure))),0==n?(e.measure.map=r.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(r.map),(e.measure.caches||(e.measure.caches=[])).push({}))}return ps&&/\bcm-tab\b/.test(r.content.lastChild.className)&&(r.content.className="cm-tab-wrap-hack"),ko(t,"renderLine",t,e.line,r.pre),r.pre.className&&(r.textClass=zn(r.pre.className,r.textClass||"")),r}function Ir(t){var e=Hn("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Pr(t,e,i,r,n,s,o){if(e){var a=t.splitSpaces?e.replace(/ {3,}/g,Wr):e,l=t.cm.state.specialChars,u=!1;if(l.test(e))for(var c=document.createDocumentFragment(),h=0;;){l.lastIndex=h;var p=l.exec(e),f=p?p.index-h:e.length-h;if(f){var d=document.createTextNode(a.slice(h,h+f));c.appendChild(cs&&9>hs?Hn("span",[d]):d),t.map.push(t.pos,t.pos+f,d),t.col+=f,t.pos+=f}if(!p)break;if(h+=f+1,"	"==p[0]){var m=t.cm.options.tabSize,v=m-t.col%m,d=c.appendChild(Hn("span",Ln(v),"cm-tab"));d.setAttribute("role","presentation"),d.setAttribute("cm-text","	"),t.col+=v}else{var d=t.cm.options.specialCharPlaceholder(p[0]);d.setAttribute("cm-text",p[0]),c.appendChild(cs&&9>hs?Hn("span",[d]):d),t.col+=1}t.map.push(t.pos,t.pos+1,d),t.pos++}else{t.col+=e.length;var c=document.createTextNode(a);t.map.push(t.pos,t.pos+e.length,c),cs&&9>hs&&(u=!0),t.pos+=e.length}if(i||r||n||u||o){var g=i||"";r&&(g+=r),n&&(g+=n);var y=Hn("span",[c],g,o);return s&&(y.title=s),t.content.appendChild(y)}t.content.appendChild(c)}}function Wr(t){for(var e=" ",i=0;i<t.length-2;++i)e+=i%2?" ":" ";return e+=" "}function Dr(t,e){return function(i,r,n,s,o,a,l){n=n?n+" cm-force-border":"cm-force-border";for(var u=i.pos,c=u+r.length;;){for(var h=0;h<e.length;h++){var p=e[h];if(p.to>u&&p.from<=u)break}if(p.to>=c)return t(i,r,n,s,o,a,l);t(i,r.slice(0,p.to-u),n,s,null,a,l),s=null,r=r.slice(p.to-u),u=p.to}}}function Hr(t,e,i,r){var n=!r&&i.widgetNode;n&&t.map.push(t.pos,t.pos+e,n),!r&&t.cm.display.input.needsContentAttribute&&(n||(n=t.content.appendChild(document.createElement("span"))),n.setAttribute("cm-marker",i.id)),n&&(t.cm.display.input.setUneditable(n),t.content.appendChild(n)),t.pos+=e}function Rr(t,e,i){var r=t.markedSpans,n=t.text,s=0;if(r)for(var o,a,l,u,c,h,p,f=n.length,d=0,m=1,v="",g=0;;){if(g==d){l=u=c=h=a="",p=null,g=1/0;for(var y=[],x=0;x<r.length;++x){var b=r[x],w=b.marker;b.from<=d&&(null==b.to||b.to>d)?(null!=b.to&&g>b.to&&(g=b.to,u=""),w.className&&(l+=" "+w.className),w.css&&(a=w.css),w.startStyle&&b.from==d&&(c+=" "+w.startStyle),w.endStyle&&b.to==g&&(u+=" "+w.endStyle),w.title&&!h&&(h=w.title),w.collapsed&&(!p||or(p.marker,w)<0)&&(p=b)):b.from>d&&g>b.from&&(g=b.from),"bookmark"==w.type&&b.from==d&&w.widgetNode&&y.push(w)}if(p&&(p.from||0)==d&&(Hr(e,(null==p.to?f+1:p.to)-d,p.marker,null==p.from),null==p.to))return;if(!p&&y.length)for(var x=0;x<y.length;++x)Hr(e,0,y[x])}if(d>=f)break;for(var C=Math.min(f,g);;){if(v){var k=d+v.length;if(!p){var S=k>C?v.slice(0,C-d):v;e.addToken(e,S,o?o+l:l,c,d+S.length==g?u:"",h,a)}if(k>=C){v=v.slice(C-d),d=C;break}d=k,c=""}v=n.slice(s,s=i[m++]),o=Er(i[m++],e.cm.options)}}else for(var m=1;m<i.length;m+=2)e.addToken(e,n.slice(s,s=i[m]),Er(i[m+1],e.cm.options))}function Fr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==Tn(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function _r(t,e,i,r){function n(t){return i?i[t]:null}function s(t,i,n){br(t,i,n,r),gn(t,"change",t,e)}function o(t,e){for(var i=t,s=[];e>i;++i)s.push(new co(u[i],n(i),r));return s}var a=e.from,l=e.to,u=e.text,c=Ur(t,a.line),h=Ur(t,l.line),p=Tn(u),f=n(u.length-1),d=l.line-a.line;if(e.full)t.insert(0,o(0,u.length)),t.remove(u.length,t.size-u.length);else if(Fr(t,e)){var m=o(0,u.length-1);s(h,h.text,f),d&&t.remove(a.line,d),m.length&&t.insert(a.line,m)}else if(c==h)if(1==u.length)s(c,c.text.slice(0,a.ch)+p+c.text.slice(l.ch),f);else{var m=o(1,u.length-1);m.push(new co(p+c.text.slice(l.ch),f,r)),s(c,c.text.slice(0,a.ch)+u[0],n(0)),t.insert(a.line+1,m)}else if(1==u.length)s(c,c.text.slice(0,a.ch)+u[0]+h.text.slice(l.ch),n(0)),t.remove(a.line+1,d);else{s(c,c.text.slice(0,a.ch)+u[0],n(0)),s(h,p+h.text.slice(l.ch),f);var m=o(1,u.length-1);d>1&&t.remove(a.line+1,d-1),t.insert(a.line+1,m)}gn(t,"change",t,e)}function Br(t){this.lines=t,this.parent=null;for(var e=0,i=0;e<t.length;++e)t[e].parent=this,i+=t[e].height;this.height=i}function zr(t){this.children=t;for(var e=0,i=0,r=0;r<t.length;++r){var n=t[r];e+=n.chunkSize(),i+=n.height,n.parent=this}this.size=e,this.height=i,this.parent=null}function Vr(t,e,i){function r(t,n,s){if(t.linked)for(var o=0;o<t.linked.length;++o){var a=t.linked[o];if(a.doc!=n){var l=s&&a.sharedHist;(!i||l)&&(e(a.doc,l),r(a.doc,t,l))}}}r(t,null,!0)}function jr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,o(t),i(t),t.options.lineWrapping||p(t),t.options.mode=e.modeOption,Ie(t)}function Ur(t,e){if(e-=t.first,0>e||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var i=t;!i.lines;)for(var r=0;;++r){var n=i.children[r],s=n.chunkSize();if(s>e){i=n;break}e-=s}return i.lines[e]}function Gr(t,e,i){var r=[],n=e.line;return t.iter(e.line,i.line+1,function(t){var s=t.text;n==i.line&&(s=s.slice(0,i.ch)),n==e.line&&(s=s.slice(e.ch)),r.push(s),++n}),r}function qr(t,e,i){var r=[];return t.iter(e,i,function(t){r.push(t.text)}),r}function Kr(t,e){var i=e-t.height;if(i)for(var r=t;r;r=r.parent)r.height+=i}function Xr(t){if(null==t.parent)return null;for(var e=t.parent,i=An(e.lines,t),r=e.parent;r;e=r,r=r.parent)for(var n=0;r.children[n]!=e;++n)i+=r.children[n].chunkSize();return i+e.first}function Yr(t,e){var i=t.first;t:do{for(var r=0;r<t.children.length;++r){var n=t.children[r],s=n.height;if(s>e){t=n;continue t}e-=s,i+=n.chunkSize()}return i}while(!t.lines);for(var r=0;r<t.lines.length;++r){var o=t.lines[r],a=o.height;if(a>e)break;e-=a}return i+r}function $r(t){t=hr(t);for(var e=0,i=t.parent,r=0;r<i.lines.length;++r){var n=i.lines[r];if(n==t)break;e+=n.height}for(var s=i.parent;s;i=s,s=i.parent)for(var r=0;r<s.children.length;++r){var o=s.children[r];if(o==i)break;e+=o.height}return e}function Qr(t){var e=t.order;return null==e&&(e=t.order=$o(t.text)),e}function Zr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Jr(t,e){var i={from:K(e.from),to:js(e),text:Gr(t,e.from,e.to)};return an(t,i,e.from.line,e.to.line+1),Vr(t,function(t){an(t,i,e.from.line,e.to.line+1)},!0),i}function tn(t){for(;t.length;){var e=Tn(t);if(!e.ranges)break;t.pop()}}function en(t,e){return e?(tn(t.done),Tn(t.done)):t.done.length&&!Tn(t.done).ranges?Tn(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),Tn(t.done)):void 0}function rn(t,e,i,r){var n=t.history;n.undone.length=0;var s,o=+new Date;if((n.lastOp==r||n.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&t.cm&&n.lastModTime>o-t.cm.options.historyEventDelay||"*"==e.origin.charAt(0)))&&(s=en(n,n.lastOp==r))){var a=Tn(s.changes);0==Ns(e.from,e.to)&&0==Ns(e.from,a.to)?a.to=js(e):s.changes.push(Jr(t,e))}else{var l=Tn(n.done);for(l&&l.ranges||on(t.sel,n.done),s={changes:[Jr(t,e)],generation:n.generation},n.done.push(s);n.done.length>n.undoDepth;)n.done.shift(),n.done[0].ranges||n.done.shift()}n.done.push(i),n.generation=++n.maxGeneration,n.lastModTime=n.lastSelTime=o,n.lastOp=n.lastSelOp=r,n.lastOrigin=n.lastSelOrigin=e.origin,a||ko(t,"historyAdded")}function nn(t,e,i,r){var n=e.charAt(0);return"*"==n||"+"==n&&i.ranges.length==r.ranges.length&&i.somethingSelected()==r.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function sn(t,e,i,r){var n=t.history,s=r&&r.origin;i==n.lastSelOp||s&&n.lastSelOrigin==s&&(n.lastModTime==n.lastSelTime&&n.lastOrigin==s||nn(t,s,Tn(n.done),e))?n.done[n.done.length-1]=e:on(e,n.done),n.lastSelTime=+new Date,n.lastSelOrigin=s,n.lastSelOp=i,r&&r.clearRedo!==!1&&tn(n.undone)}function on(t,e){var i=Tn(e);i&&i.ranges&&i.equals(t)||e.push(t)}function an(t,e,i,r){var n=e["spans_"+t.id],s=0;t.iter(Math.max(t.first,i),Math.min(t.first+t.size,r),function(i){i.markedSpans&&((n||(n=e["spans_"+t.id]={}))[s]=i.markedSpans),++s})}function ln(t){if(!t)return null;for(var e,i=0;i<t.length;++i)t[i].marker.explicitlyCleared?e||(e=t.slice(0,i)):e&&e.push(t[i]);return e?e.length?e:null:t}function un(t,e){var i=e["spans_"+t.id];if(!i)return null;for(var r=0,n=[];r<e.text.length;++r)n.push(ln(i[r]));return n}function cn(t,e,i){for(var r=0,n=[];r<t.length;++r){var s=t[r];if(s.ranges)n.push(i?ut.prototype.deepCopy.call(s):s);else{var o=s.changes,a=[];n.push({changes:a});for(var l=0;l<o.length;++l){var u,c=o[l];if(a.push({from:c.from,to:c.to,text:c.text}),e)for(var h in c)(u=h.match(/^spans_(\d+)$/))&&An(e,Number(u[1]))>-1&&(Tn(a)[h]=c[h],delete c[h])}}}return n}function hn(t,e,i,r){i<t.line?t.line+=r:e<t.line&&(t.line=e,t.ch=0)}function pn(t,e,i,r){for(var n=0;n<t.length;++n){var s=t[n],o=!0;if(s.ranges){s.copied||(s=t[n]=s.deepCopy(),s.copied=!0);for(var a=0;a<s.ranges.length;a++)hn(s.ranges[a].anchor,e,i,r),hn(s.ranges[a].head,e,i,r)}else{for(var a=0;a<s.changes.length;++a){var l=s.changes[a];if(i<l.from.line)l.from=Ms(l.from.line+r,l.from.ch),l.to=Ms(l.to.line+r,l.to.ch);else if(e<=l.to.line){o=!1;break}}o||(t.splice(0,n+1),n=0)}}}function fn(t,e){var i=e.from.line,r=e.to.line,n=e.text.length-(r-i)-1;pn(t.done,i,r,n),pn(t.undone,i,r,n)}function dn(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function mn(t){return t.target||t.srcElement}function vn(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),ws&&t.ctrlKey&&1==e&&(e=3),e}function gn(t,e){function i(t){return function(){t.apply(null,s)}}var r=t._handlers&&t._handlers[e];if(r){var n,s=Array.prototype.slice.call(arguments,2);Ds?n=Ds.delayedCallbacks:So?n=So:(n=So=[],setTimeout(yn,0));for(var o=0;o<r.length;++o)n.push(i(r[o]))}}function yn(){var t=So;So=null;for(var e=0;e<t.length;++e)t[e]()}function xn(t,e,i){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),ko(t,i||e.type,t,e),dn(e)||e.codemirrorIgnore}function bn(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var i=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),r=0;r<e.length;++r)-1==An(i,e[r])&&i.push(e[r])}function wn(t,e){var i=t._handlers&&t._handlers[e];return i&&i.length>0}function Cn(t){t.prototype.on=function(t,e){wo(this,t,e)},t.prototype.off=function(t,e){Co(this,t,e)}}function kn(){this.id=null}function Sn(t,e,i){for(var r=0,n=0;;){var s=t.indexOf("	",r);-1==s&&(s=t.length);var o=s-r;if(s==t.length||n+o>=e)return r+Math.min(o,e-n);if(n+=s-r,n+=i-n%i,r=s+1,n>=e)return r}}function Ln(t){for(;Oo.length<=t;)Oo.push(Tn(Oo)+" ");return Oo[t]}function Tn(t){return t[t.length-1]}function An(t,e){for(var i=0;i<t.length;++i)if(t[i]==e)return i;return-1}function Mn(t,e){for(var i=[],r=0;r<t.length;r++)i[r]=e(t[r],r);return i}function Nn(){}function En(t,e){var i;return Object.create?i=Object.create(t):(Nn.prototype=t,i=new Nn),e&&On(e,i),i}function On(t,e,i){e||(e={});for(var r in t)!t.hasOwnProperty(r)||i===!1&&e.hasOwnProperty(r)||(e[r]=t[r]);return e}function In(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function Pn(t,e){return e?e.source.indexOf("\\w")>-1&&Do(t)?!0:e.test(t):Do(t)}function Wn(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}function Dn(t){return t.charCodeAt(0)>=768&&Ho.test(t)}function Hn(t,e,i,r){var n=document.createElement(t);if(i&&(n.className=i),r&&(n.style.cssText=r),"string"==typeof e)n.appendChild(document.createTextNode(e));else if(e)for(var s=0;s<e.length;++s)n.appendChild(e[s]);return n}function Rn(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function Fn(t,e){return Rn(t).appendChild(e)}function _n(){return document.activeElement}function Bn(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}function zn(t,e){for(var i=t.split(" "),r=0;r<i.length;r++)i[r]&&!Bn(i[r]).test(e)&&(e+=" "+i[r]);return e}function Vn(t){if(document.body.getElementsByClassName)for(var e=document.body.getElementsByClassName("CodeMirror"),i=0;i<e.length;i++){var r=e[i].CodeMirror;r&&t(r)}}function jn(){Vo||(Un(),Vo=!0)}function Un(){var t;wo(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,Vn(Be)},100))}),wo(window,"blur",function(){Vn(hi)})}function Gn(t){if(null==Fo){var e=Hn("span","​");Fn(t,Hn("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Fo=e.offsetWidth<=1&&e.offsetHeight>2&&!(cs&&8>hs))}var i=Fo?Hn("span","​"):Hn("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function qn(t){if(null!=_o)return _o;var e=Fn(t,document.createTextNode("AخA")),i=Po(e,0,1).getBoundingClientRect();if(!i||i.left==i.right)return!1;var r=Po(e,1,2).getBoundingClientRect();return _o=r.right-i.right<3}function Kn(t){if(null!=Ko)return Ko;var e=Fn(t,Hn("span","x")),i=e.getBoundingClientRect(),r=Po(e,0,1).getBoundingClientRect();return Ko=Math.abs(i.left-r.left)>1}function Xn(t,e,i,r){if(!t)return r(e,i,"ltr");for(var n=!1,s=0;s<t.length;++s){var o=t[s];(o.from<i&&o.to>e||e==i&&o.to==e)&&(r(Math.max(o.from,e),Math.min(o.to,i),1==o.level?"rtl":"ltr"),n=!0)}n||r(e,i,"ltr")}function Yn(t){return t.level%2?t.to:t.from}function $n(t){return t.level%2?t.from:t.to}function Qn(t){var e=Qr(t);return e?Yn(e[0]):0}function Zn(t){var e=Qr(t);return e?$n(Tn(e)):t.text.length}function Jn(t,e){var i=Ur(t.doc,e),r=hr(i);r!=i&&(e=Xr(r));var n=Qr(r),s=n?n[0].level%2?Zn(r):Qn(r):0;return Ms(e,s)}function ts(t,e){for(var i,r=Ur(t.doc,e);i=ur(r);)r=i.find(1,!0).line,e=null;var n=Qr(r),s=n?n[0].level%2?Qn(r):Zn(r):r.text.length;return Ms(null==e?Xr(r):e,s)}function es(t,e){var i=Jn(t,e.line),r=Ur(t.doc,i.line),n=Qr(r);if(!n||0==n[0].level){var s=Math.max(0,r.text.search(/\S/)),o=e.line==i.line&&e.ch<=s&&e.ch;return Ms(i.line,o?0:s)}return i}function is(t,e,i){var r=t[0].level;return e==r?!0:i==r?!1:i>e}function rs(t,e){Yo=null;for(var i,r=0;r<t.length;++r){var n=t[r];if(n.from<e&&n.to>e)return r;if(n.from==e||n.to==e){if(null!=i)return is(t,n.level,t[i].level)?(n.from!=n.to&&(Yo=i),r):(n.from!=n.to&&(Yo=r),i);i=r}}return i}function ns(t,e,i,r){if(!r)return e+i;do e+=i;while(e>0&&Dn(t.text.charAt(e)));return e}function ss(t,e,i,r){var n=Qr(t);if(!n)return os(t,e,i,r);for(var s=rs(n,e),o=n[s],a=ns(t,e,o.level%2?-i:i,r);;){if(a>o.from&&a<o.to)return a;if(a==o.from||a==o.to)return rs(n,a)==s?a:(o=n[s+=i],i>0==o.level%2?o.to:o.from);if(o=n[s+=i],!o)return null;a=i>0==o.level%2?ns(t,o.to,-1,r):ns(t,o.from,1,r)}}function os(t,e,i,r){var n=e+i;if(r)for(;n>0&&Dn(t.text.charAt(n));)n+=i;return 0>n||n>t.text.length?null:n}var as=/gecko\/\d/i.test(navigator.userAgent),ls=/MSIE \d/.test(navigator.userAgent),us=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),cs=ls||us,hs=cs&&(ls?document.documentMode||6:us[1]),ps=/WebKit\//.test(navigator.userAgent),fs=ps&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ds=/Chrome\//.test(navigator.userAgent),ms=/Opera\//.test(navigator.userAgent),vs=/Apple Computer/.test(navigator.vendor),gs=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),ys=/PhantomJS/.test(navigator.userAgent),xs=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),bs=xs||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),ws=xs||/Mac/.test(navigator.platform),Cs=/win/i.test(navigator.platform),ks=ms&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);ks&&(ks=Number(ks[1])),ks&&ks>=15&&(ms=!1,ps=!0);var Ss=ws&&(fs||ms&&(null==ks||12.11>ks)),Ls=as||cs&&hs>=9,Ts=!1,As=!1;m.prototype=On({update:function(t){var e=t.scrollWidth>t.clientWidth+1,i=t.scrollHeight>t.clientHeight+1,r=t.nativeBarWidth;if(i){this.vert.style.display="block",this.vert.style.bottom=e?r+"px":"0";var n=t.viewHeight-(e?r:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+n)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=i?r+"px":"0",this.horiz.style.left=t.barLeft+"px";var s=t.viewWidth-t.barLeft-(i?r:0);this.horiz.firstChild.style.width=t.scrollWidth-t.clientWidth+s+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedOverlay&&t.clientHeight>0&&(0==r&&this.overlayHack(),this.checkedOverlay=!0),{right:i?r:0,bottom:e?r:0}},setScrollLeft:function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t)},setScrollTop:function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t)},overlayHack:function(){var t=ws&&!gs?"12px":"18px";this.horiz.style.minHeight=this.vert.style.minWidth=t;var e=this,i=function(t){mn(t)!=e.vert&&mn(t)!=e.horiz&&Ae(e.cm,je)(t)};wo(this.vert,"mousedown",i),wo(this.horiz,"mousedown",i)},clear:function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)}},m.prototype),v.prototype=On({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},v.prototype),t.scrollbarModel={"native":m,"null":v},L.prototype.signal=function(t,e){wn(t,e)&&this.events.push(arguments)},L.prototype.finish=function(){for(var t=0;t<this.events.length;t++)ko.apply(null,this.events[t])};var Ms=t.Pos=function(t,e){return this instanceof Ms?(this.line=t,void(this.ch=e)):new Ms(t,e)},Ns=t.cmpPos=function(t,e){return t.line-e.line||t.ch-e.ch},Es=null;et.prototype=On({init:function(t){function e(t){if(r.somethingSelected())Es=r.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,s.value=Es.join("\n"),Io(s));else{var e=J(r);Es=e.text,"cut"==t.type?r.setSelections(e.ranges,null,Ao):(i.prevInput="",s.value=e.text.join("\n"),Io(s))}"cut"==t.type&&(r.state.cutIncoming=!0)}var i=this,r=this.cm,n=this.wrapper=it(),s=this.textarea=n.firstChild;t.wrapper.insertBefore(n,t.wrapper.firstChild),xs&&(s.style.width="0px"),wo(s,"input",function(){cs&&hs>=9&&i.hasSelection&&(i.hasSelection=null),i.poll()}),wo(s,"paste",function(){if(ps&&!r.state.fakedLastChar&&!(new Date-r.state.lastMiddleDown<200)){var t=s.selectionStart,e=s.selectionEnd;s.value+="$",s.selectionEnd=e,s.selectionStart=t,r.state.fakedLastChar=!0}r.state.pasteIncoming=!0,i.fastPoll()}),wo(s,"cut",e),wo(s,"copy",e),wo(t.scroller,"paste",function(e){ze(t,e)||(r.state.pasteIncoming=!0,i.focus())}),wo(t.lineSpace,"selectstart",function(e){ze(t,e)||yo(e)})},prepareSelection:function(){var t=this.cm,e=t.display,i=t.doc,r=It(t);if(t.options.moveInputWithCursor){var n=ce(t,i.sel.primary().head,"div"),s=e.wrapper.getBoundingClientRect(),o=e.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,n.top+o.top-s.top)),r.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,n.left+o.left-s.left))}return r},showSelection:function(t){var e=this.cm,i=e.display;Fn(i.cursorDiv,t.cursors),Fn(i.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},reset:function(t){if(!this.contextMenuPending){var e,i,r=this.cm,n=r.doc;if(r.somethingSelected()){this.prevInput="";var s=n.sel.primary();e=qo&&(s.to().line-s.from().line>100||(i=r.getSelection()).length>1e3);var o=e?"-":i||r.getSelection();this.textarea.value=o,r.state.focused&&Io(this.textarea),cs&&hs>=9&&(this.hasSelection=o)}else t||(this.prevInput=this.textarea.value="",cs&&hs>=9&&(this.hasSelection=null));this.inaccurateSelection=e}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!bs||_n()!=this.textarea))try{this.textarea.focus()}catch(t){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var t=this;t.pollingFast||t.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},fastPoll:function(){function t(){var r=i.poll();r||e?(i.pollingFast=!1,i.slowPoll()):(e=!0,i.polling.set(60,t))}var e=!1,i=this;i.pollingFast=!0,i.polling.set(20,t)},poll:function(){var t=this.cm,e=this.textarea,i=this.prevInput;if(!t.state.focused||Go(e)&&!i||Q(t)||t.options.disableInput||t.state.keySeq)return!1;t.state.pasteIncoming&&t.state.fakedLastChar&&(e.value=e.value.substring(0,e.value.length-1),t.state.fakedLastChar=!1);var r=e.value;if(r==i&&!t.somethingSelected())return!1;

if(cs&&hs>=9&&this.hasSelection===r||ws&&/[\uf700-\uf7ff]/.test(r))return t.display.input.reset(),!1;t.doc.sel==t.display.selForContextMenu&&(8203==r.charCodeAt(0)?i||(i="​"):"​"==i&&(r=r.slice(1),i=""));for(var n=0,s=Math.min(i.length,r.length);s>n&&i.charCodeAt(n)==r.charCodeAt(n);)++n;var o=this;return Te(t,function(){Z(t,r.slice(n),i.length-n),r.length>1e3||r.indexOf("\n")>-1?e.value=o.prevInput="":o.prevInput=r}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){cs&&hs>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(t){function e(){if(null!=o.selectionStart){var t=n.somethingSelected(),e=o.value="​"+(t?o.value:"");r.prevInput=t?"":"​",o.selectionStart=1,o.selectionEnd=e.length,s.selForContextMenu=n.doc.sel}}function i(){if(r.contextMenuPending=!1,r.wrapper.style.position="relative",o.style.cssText=c,cs&&9>hs&&s.scrollbars.setScrollTop(s.scroller.scrollTop=l),null!=o.selectionStart){(!cs||cs&&9>hs)&&e();var t=0,i=function(){s.selForContextMenu==n.doc.sel&&0==o.selectionStart&&"​"==r.prevInput?Ae(n,to.selectAll)(n):t++<10?s.detectingSelectAll=setTimeout(i,500):s.input.reset()};s.detectingSelectAll=setTimeout(i,200)}}var r=this,n=r.cm,s=n.display,o=r.textarea,a=Ve(n,t),l=s.scroller.scrollTop;if(a&&!ms){var u=n.options.resetSelectionOnContextMenu;u&&-1==n.doc.sel.contains(a)&&Ae(n,Lt)(n.doc,pt(a),Ao);var c=o.style.cssText;if(r.wrapper.style.position="absolute",o.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(cs?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ps)var h=window.scrollY;if(s.input.focus(),ps&&window.scrollTo(null,h),s.input.reset(),n.somethingSelected()||(o.value=r.prevInput=" "),r.contextMenuPending=!0,s.selForContextMenu=n.doc.sel,clearTimeout(s.detectingSelectAll),cs&&hs>=9&&e(),Ls){bo(t);var p=function(){Co(window,"mouseup",p),setTimeout(i,20)};wo(window,"mouseup",p)}else setTimeout(i,50)}},setUneditable:Nn,needsContentAttribute:!1},et.prototype),rt.prototype=On({init:function(t){function e(t){if(r.somethingSelected())Es=r.getSelections(),"cut"==t.type&&r.replaceSelection("",null,"cut");else{var e=J(r);Es=e.text,"cut"==t.type&&r.operation(function(){r.setSelections(e.ranges,0,Ao),r.replaceSelection("",null,"cut")})}if(t.clipboardData&&!xs)t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/plain",Es.join("\n"));else{var i=it(),n=i.firstChild;r.display.lineSpace.insertBefore(i,r.display.lineSpace.firstChild),n.value=Es.join("\n");var s=document.activeElement;Io(n),setTimeout(function(){r.display.lineSpace.removeChild(i),s.focus()},50)}}var i=this,r=i.cm,n=i.div=t.lineDiv;n.contentEditable="true",tt(n),wo(n,"paste",function(t){var e=t.clipboardData&&t.clipboardData.getData("text/plain");e&&(t.preventDefault(),r.replaceSelection(e,null,"paste"))}),wo(n,"compositionstart",function(t){var e=t.data;if(i.composing={sel:r.doc.sel,data:e,startData:e},e){var n=r.doc.sel.primary(),s=r.getLine(n.head.line),o=s.indexOf(e,Math.max(0,n.head.ch-e.length));o>-1&&o<=n.head.ch&&(i.composing.sel=pt(Ms(n.head.line,o),Ms(n.head.line,o+e.length)))}}),wo(n,"compositionupdate",function(t){i.composing.data=t.data}),wo(n,"compositionend",function(t){var e=i.composing;e&&(t.data==e.startData||/\u200b/.test(t.data)||(e.data=t.data),setTimeout(function(){e.handled||i.applyComposition(e),i.composing==e&&(i.composing=null)},50))}),wo(n,"touchstart",function(){i.forceCompositionEnd()}),wo(n,"input",function(){i.composing||i.pollContent()||Te(i.cm,function(){Ie(r)})}),wo(n,"copy",e),wo(n,"cut",e)},prepareSelection:function(){var t=It(this.cm,!1);return t.focus=this.cm.state.focused,t},showSelection:function(t){t&&this.cm.display.view.length&&(t.focus&&this.showPrimarySelection(),this.showMultipleSelections(t))},showPrimarySelection:function(){var t=window.getSelection(),e=this.cm.doc.sel.primary(),i=ot(this.cm,t.anchorNode,t.anchorOffset),r=ot(this.cm,t.focusNode,t.focusOffset);if(!i||i.bad||!r||r.bad||0!=Ns(Y(i,r),e.from())||0!=Ns(X(i,r),e.to())){var n=nt(this.cm,e.from()),s=nt(this.cm,e.to());if(n||s){var o=this.cm.display.view,a=t.rangeCount&&t.getRangeAt(0);if(n){if(!s){var l=o[o.length-1].measure,u=l.maps?l.maps[l.maps.length-1]:l.map;s={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}}else n={node:o[0].measure.map[2],offset:0};try{var c=Po(n.node,n.offset,s.offset,s.node)}catch(h){}c&&(t.removeAllRanges(),t.addRange(c),a&&null==t.anchorNode?t.addRange(a):as&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){t.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(t){Fn(this.cm.display.cursorDiv,t.cursors),Fn(this.cm.display.selectionDiv,t.selection)},rememberSelection:function(){var t=window.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},selectionInEditor:function(){var t=window.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return Ro(this.div,e)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function t(){e.cm.state.focused&&(e.pollSelection(),e.polling.set(e.cm.options.pollInterval,t))}var e=this;this.selectionInEditor()?this.pollSelection():Te(this.cm,function(){e.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,t)},selectionChanged:function(){var t=window.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var t=window.getSelection(),e=this.cm;this.rememberSelection();var i=ot(e,t.anchorNode,t.anchorOffset),r=ot(e,t.focusNode,t.focusOffset);i&&r&&Te(e,function(){Lt(e.doc,pt(i,r),Ao),(i.bad||r.bad)&&(e.curOp.selectionChanged=!0)})}},pollContent:function(){var t=this.cm,e=t.display,i=t.doc.sel.primary(),r=i.from(),n=i.to();if(r.line<e.viewFrom||n.line>e.viewTo-1)return!1;var s;if(r.line==e.viewFrom||0==(s=De(t,r.line)))var o=Xr(e.view[0].line),a=e.view[0].node;else var o=Xr(e.view[s].line),a=e.view[s-1].node.nextSibling;var l=De(t,n.line);if(l==e.view.length-1)var u=e.viewTo-1,c=e.view[l].node;else var u=Xr(e.view[l+1].line)-1,c=e.view[l+1].node.previousSibling;for(var h=Uo(lt(t,a,c,o,u)),p=Gr(t.doc,Ms(o,0),Ms(u,Ur(t.doc,u).text.length));h.length>1&&p.length>1;)if(Tn(h)==Tn(p))h.pop(),p.pop(),u--;else{if(h[0]!=p[0])break;h.shift(),p.shift(),o++}for(var f=0,d=0,m=h[0],v=p[0],g=Math.min(m.length,v.length);g>f&&m.charCodeAt(f)==v.charCodeAt(f);)++f;for(var y=Tn(h),x=Tn(p),b=Math.min(y.length-(1==h.length?f:0),x.length-(1==p.length?f:0));b>d&&y.charCodeAt(y.length-d-1)==x.charCodeAt(x.length-d-1);)++d;h[h.length-1]=y.slice(0,y.length-d),h[0]=h[0].slice(f);var w=Ms(o,f),C=Ms(u,p.length?Tn(p).length-d:0);return h.length>1||h[0]||Ns(w,C)?(Li(t.doc,h,w,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(t){t.data&&t.data!=t.startData&&Ae(this.cm,Z)(this.cm,t.data,0,t.sel)},setUneditable:function(t){t.setAttribute("contenteditable","false")},onKeyPress:function(t){t.preventDefault(),Ae(this.cm,Z)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0)},onContextMenu:Nn,resetPosition:Nn,needsContentAttribute:!0},rt.prototype),t.inputStyles={textarea:et,contenteditable:rt},ut.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var i=this.ranges[e],r=t.ranges[e];if(0!=Ns(i.anchor,r.anchor)||0!=Ns(i.head,r.head))return!1}return!0},deepCopy:function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new ct(K(this.ranges[e].anchor),K(this.ranges[e].head));return new ut(t,this.primIndex)},somethingSelected:function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},contains:function(t,e){e||(e=t);for(var i=0;i<this.ranges.length;i++){var r=this.ranges[i];if(Ns(e,r.from())>=0&&Ns(t,r.to())<=0)return i}return-1}},ct.prototype={from:function(){return Y(this.anchor,this.head)},to:function(){return X(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Os,Is,Ps,Ws={left:0,right:0,top:0,bottom:0},Ds=null,Hs=0,Rs=0,Fs=0,_s=null;cs?_s=-.53:as?_s=15:ds?_s=-.7:vs&&(_s=-1/3);var Bs=function(t){var e=t.wheelDeltaX,i=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==i&&t.detail&&t.axis==t.VERTICAL_AXIS?i=t.detail:null==i&&(i=t.wheelDelta),{x:e,y:i}};t.wheelEventPixels=function(t){var e=Bs(t);return e.x*=_s,e.y*=_s,e};var zs=new kn,Vs=null,js=t.changeEnd=function(t){return t.text?Ms(t.from.line+t.text.length-1,Tn(t.text).length+(1==t.text.length?t.from.ch:0)):t.to};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,e){var i=this.options,r=i[t];(i[t]!=e||"mode"==t)&&(i[t]=e,Gs.hasOwnProperty(t)&&Ae(this,Gs[t])(this,e,r))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Bi(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,i=0;i<e.length;++i)if(e[i]==t||e[i].name==t)return e.splice(i,1),!0},addOverlay:Me(function(e,i){var r=e.token?e:t.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:e,opaque:i&&i.opaque}),this.state.modeGen++,Ie(this)}),removeOverlay:Me(function(t){for(var e=this.state.overlays,i=0;i<e.length;++i){var r=e[i].modeSpec;if(r==t||"string"==typeof t&&r.name==t)return e.splice(i,1),this.state.modeGen++,void Ie(this)}}),indentLine:Me(function(t,e,i){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),vt(this.doc,t)&&Pi(this,t,e,i)}),indentSelection:Me(function(t){for(var e=this.doc.sel.ranges,i=-1,r=0;r<e.length;r++){var n=e[r];if(n.empty())n.head.line>i&&(Pi(this,n.head.line,t,!0),i=n.head.line,r==this.doc.sel.primIndex&&Oi(this));else{var s=n.from(),o=n.to(),a=Math.max(i,s.line);i=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var l=a;i>l;++l)Pi(this,l,t);var u=this.doc.sel.ranges;0==s.ch&&e.length==u.length&&u[r].from().ch>0&&wt(this.doc,r,new ct(s,u[r].to()),Ao)}}}),getTokenAt:function(t,e){return Lr(this,t,e)},getLineTokens:function(t,e){return Lr(this,Ms(t),e,!0)},getTokenTypeAt:function(t){t=dt(this.doc,t);var e,i=Mr(this,Ur(this.doc,t.line)),r=0,n=(i.length-1)/2,s=t.ch;if(0==s)e=i[2];else for(;;){var o=r+n>>1;if((o?i[2*o-1]:0)>=s)n=o;else{if(!(i[2*o+1]<s)){e=i[2*o+2];break}r=o+1}}var a=e?e.indexOf("cm-overlay "):-1;return 0>a?e:0==a?null:e.slice(0,a-1)},getModeAt:function(e){var i=this.doc.mode;return i.innerMode?t.innerMode(i,this.getTokenAt(e).state).mode:i},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var i=[];if(!Qs.hasOwnProperty(e))return i;var r=Qs[e],n=this.getModeAt(t);if("string"==typeof n[e])r[n[e]]&&i.push(r[n[e]]);else if(n[e])for(var s=0;s<n[e].length;s++){var o=r[n[e][s]];o&&i.push(o)}else n.helperType&&r[n.helperType]?i.push(r[n.helperType]):r[n.name]&&i.push(r[n.name]);for(var s=0;s<r._global.length;s++){var a=r._global[s];a.pred(n,this)&&-1==An(i,a.val)&&i.push(a.val)}return i},getStateAfter:function(t,e){var i=this.doc;return t=ft(i,null==t?i.first+i.size-1:t),_t(this,t+1,e)},cursorCoords:function(t,e){var i,r=this.doc.sel.primary();return i=null==t?r.head:"object"==typeof t?dt(this.doc,t):t?r.from():r.to(),ce(this,i,e||"page")},charCoords:function(t,e){return ue(this,dt(this.doc,t),e||"page")},coordsChar:function(t,e){return t=le(this,t,e||"page"),fe(this,t.left,t.top)},lineAtHeight:function(t,e){return t=le(this,{top:t,left:0},e||"page").top,Yr(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e){var i=!1,r=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>r&&(t=r,i=!0);var n=Ur(this.doc,t);return ae(this,n,{top:0,left:0},e||"page").top+(i?this.doc.height-$r(n):0)},defaultTextHeight:function(){return me(this.display)},defaultCharWidth:function(){return ve(this.display)},setGutterMarker:Me(function(t,e,i){return Wi(this.doc,t,"gutter",function(t){var r=t.gutterMarkers||(t.gutterMarkers={});return r[e]=i,!i&&Wn(r)&&(t.gutterMarkers=null),!0})}),clearGutter:Me(function(t){var e=this,i=e.doc,r=i.first;i.iter(function(i){i.gutterMarkers&&i.gutterMarkers[t]&&(i.gutterMarkers[t]=null,Pe(e,r,"gutter"),Wn(i.gutterMarkers)&&(i.gutterMarkers=null)),++r})}),lineInfo:function(t){if("number"==typeof t){if(!vt(this.doc,t))return null;var e=t;if(t=Ur(this.doc,t),!t)return null}else{var e=Xr(t);if(null==e)return null}return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,i,r,n){var s=this.display;t=ce(this,dt(this.doc,t));var o=t.bottom,a=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),s.sizer.appendChild(e),"over"==r)o=t.top;else if("above"==r||"near"==r){var l=Math.max(s.wrapper.clientHeight,this.doc.height),u=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==r||t.bottom+e.offsetHeight>l)&&t.top>e.offsetHeight?o=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=l&&(o=t.bottom),a+e.offsetWidth>u&&(a=u-e.offsetWidth)}e.style.top=o+"px",e.style.left=e.style.right="","right"==n?(a=s.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==n?a=0:"middle"==n&&(a=(s.sizer.clientWidth-e.offsetWidth)/2),e.style.left=a+"px"),i&&Mi(this,a,o,a+e.offsetWidth,o+e.offsetHeight)},triggerOnKeyDown:Me(si),triggerOnKeyPress:Me(li),triggerOnKeyUp:ai,execCommand:function(t){return to.hasOwnProperty(t)?to[t](this):void 0},findPosH:function(t,e,i,r){var n=1;0>e&&(n=-1,e=-e);for(var s=0,o=dt(this.doc,t);e>s&&(o=Hi(this.doc,o,n,i,r),!o.hitSide);++s);return o},moveH:Me(function(t,e){var i=this;i.extendSelectionsBy(function(r){return i.display.shift||i.doc.extend||r.empty()?Hi(i.doc,r.head,t,e,i.options.rtlMoveVisually):0>t?r.from():r.to()},No)}),deleteH:Me(function(t,e){var i=this.doc.sel,r=this.doc;i.somethingSelected()?r.replaceSelection("",null,"+delete"):Di(this,function(i){var n=Hi(r,i.head,t,e,!1);return 0>t?{from:n,to:i.head}:{from:i.head,to:n}})}),findPosV:function(t,e,i,r){var n=1,s=r;0>e&&(n=-1,e=-e);for(var o=0,a=dt(this.doc,t);e>o;++o){var l=ce(this,a,"div");if(null==s?s=l.left:l.left=s,a=Ri(this,l,n,i),a.hitSide)break}return a},moveV:Me(function(t,e){var i=this,r=this.doc,n=[],s=!i.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(o){if(s)return 0>t?o.from():o.to();var a=ce(i,o.head,"div");null!=o.goalColumn&&(a.left=o.goalColumn),n.push(a.left);var l=Ri(i,a,t,e);return"page"==e&&o==r.sel.primary()&&Ei(i,null,ue(i,l,"div").top-a.top),l},No),n.length)for(var o=0;o<r.sel.ranges.length;o++)r.sel.ranges[o].goalColumn=n[o]}),findWordAt:function(t){var e=this.doc,i=Ur(e,t.line).text,r=t.ch,n=t.ch;if(i){var s=this.getHelper(t,"wordChars");(t.xRel<0||n==i.length)&&r?--r:++n;for(var o=i.charAt(r),a=Pn(o,s)?function(t){return Pn(t,s)}:/\s/.test(o)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!Pn(t)};r>0&&a(i.charAt(r-1));)--r;for(;n<i.length&&a(i.charAt(n));)++n}return new ct(Ms(t.line,r),Ms(t.line,n))},toggleOverwrite:function(t){(null==t||t!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?zo(this.display.cursorDiv,"CodeMirror-overwrite"):Bo(this.display.cursorDiv,"CodeMirror-overwrite"),ko(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==_n()},scrollTo:Me(function(t,e){(null!=t||null!=e)&&Ii(this),null!=t&&(this.curOp.scrollLeft=t),null!=e&&(this.curOp.scrollTop=e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-jt(this)-this.display.barHeight,width:t.scrollWidth-jt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Ut(this)}},scrollIntoView:Me(function(t,e){if(null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Ms(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line)Ii(this),this.curOp.scrollToPos=t;else{var i=Ni(this,Math.min(t.from.left,t.to.left),Math.min(t.from.top,t.to.top)-t.margin,Math.max(t.from.right,t.to.right),Math.max(t.from.bottom,t.to.bottom)+t.margin);this.scrollTo(i.scrollLeft,i.scrollTop)}}),setSize:Me(function(t,e){function i(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t}var r=this;null!=t&&(r.display.wrapper.style.width=i(t)),null!=e&&(r.display.wrapper.style.height=i(e)),r.options.lineWrapping&&re(this);var n=r.display.viewFrom;r.doc.iter(n,r.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){Pe(r,n,"widget");break}++n}),r.curOp.forceUpdate=!0,ko(r,"refresh",this)}),operation:function(t){return Te(this,t)},refresh:Me(function(){var t=this.display.cachedTextHeight;Ie(this),this.curOp.forceUpdate=!0,ne(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),c(this),(null==t||Math.abs(t-me(this.display))>.5)&&o(this),ko(this,"refresh",this)}),swapDoc:Me(function(t){var e=this.doc;return e.cm=null,jr(this,t),ne(this),this.display.input.reset(),this.scrollTo(t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,gn(this,"swapDoc",this,e),e}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Cn(t);var Us=t.defaults={},Gs=t.optionHandlers={},qs=t.Init={toString:function(){return"CodeMirror.Init"}};Fi("value","",function(t,e){t.setValue(e)},!0),Fi("mode",null,function(t,e){t.doc.modeOption=e,i(t)},!0),Fi("indentUnit",2,i,!0),Fi("indentWithTabs",!1),Fi("smartIndent",!0),Fi("tabSize",4,function(t){r(t),ne(t),Ie(t)},!0),Fi("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,i,r){e.state.specialChars=new RegExp(i.source+(i.test("	")?"":"|	"),"g"),r!=t.Init&&e.refresh()}),Fi("specialCharPlaceholder",Ir,function(t){t.refresh()},!0),Fi("electricChars",!0),Fi("inputStyle",bs?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Fi("rtlMoveVisually",!Cs),Fi("wholeLineUpdateBefore",!0),Fi("theme","default",function(t){a(t),l(t)},!0),Fi("keyMap","default",function(e,i,r){var n=Bi(i),s=r!=t.Init&&Bi(r);s&&s.detach&&s.detach(e,n),n.attach&&n.attach(e,s||null)}),Fi("extraKeys",null),Fi("lineWrapping",!1,n,!0),Fi("gutters",[],function(t){f(t.options),l(t)},!0),Fi("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?S(t.display)+"px":"0",t.refresh()},!0),Fi("coverGutterNextToScrollbar",!1,function(t){y(t)},!0),Fi("scrollbarStyle","native",function(t){g(t),y(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),Fi("lineNumbers",!1,function(t){f(t.options),l(t)},!0),Fi("firstLineNumber",1,l,!0),Fi("lineNumberFormatter",function(t){return t},l,!0),Fi("showCursorWhenSelecting",!1,Ot,!0),Fi("resetSelectionOnContextMenu",!0),Fi("readOnly",!1,function(t,e){"nocursor"==e?(hi(t),t.display.input.blur(),t.display.disabled=!0):(t.display.disabled=!1,e||t.display.input.reset())}),Fi("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),Fi("dragDrop",!0),Fi("cursorBlinkRate",530),Fi("cursorScrollMargin",0),Fi("cursorHeight",1,Ot,!0),Fi("singleCursorHeightPerLine",!0,Ot,!0),Fi("workTime",100),Fi("workDelay",100),Fi("flattenSpans",!0,r,!0),Fi("addModeClass",!1,r,!0),Fi("pollInterval",100),Fi("undoDepth",200,function(t,e){t.doc.history.undoDepth=e}),Fi("historyEventDelay",1250),Fi("viewportMargin",10,function(t){t.refresh()},!0),Fi("maxHighlightLength",1e4,r,!0),Fi("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),Fi("tabindex",null,function(t,e){t.display.input.getField().tabIndex=e||""}),Fi("autofocus",null);var Ks=t.modes={},Xs=t.mimeModes={};t.defineMode=function(e,i){t.defaults.mode||"null"==e||(t.defaults.mode=e),arguments.length>2&&(i.dependencies=Array.prototype.slice.call(arguments,2)),Ks[e]=i},t.defineMIME=function(t,e){Xs[t]=e},t.resolveMode=function(e){if("string"==typeof e&&Xs.hasOwnProperty(e))e=Xs[e];else if(e&&"string"==typeof e.name&&Xs.hasOwnProperty(e.name)){var i=Xs[e.name];"string"==typeof i&&(i={name:i}),e=En(i,e),e.name=i.name}else if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return t.resolveMode("application/xml");return"string"==typeof e?{name:e}:e||{name:"null"}},t.getMode=function(e,i){var i=t.resolveMode(i),r=Ks[i.name];if(!r)return t.getMode(e,"text/plain");var n=r(e,i);if(Ys.hasOwnProperty(i.name)){var s=Ys[i.name];for(var o in s)s.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=s[o])}if(n.name=i.name,i.helperType&&(n.helperType=i.helperType),i.modeProps)for(var o in i.modeProps)n[o]=i.modeProps[o];return n},t.defineMode("null",function(){return{token:function(t){t.skipToEnd()}}}),t.defineMIME("text/plain","null");var Ys=t.modeExtensions={};t.extendMode=function(t,e){var i=Ys.hasOwnProperty(t)?Ys[t]:Ys[t]={};On(e,i)},t.defineExtension=function(e,i){t.prototype[e]=i},t.defineDocExtension=function(t,e){mo.prototype[t]=e},t.defineOption=Fi;var $s=[];t.defineInitHook=function(t){$s.push(t)};var Qs=t.helpers={};t.registerHelper=function(e,i,r){Qs.hasOwnProperty(e)||(Qs[e]=t[e]={_global:[]}),Qs[e][i]=r},t.registerGlobalHelper=function(e,i,r,n){t.registerHelper(e,i,n),Qs[e]._global.push({pred:r,val:n})};var Zs=t.copyState=function(t,e){if(e===!0)return e;if(t.copyState)return t.copyState(e);var i={};for(var r in e){var n=e[r];n instanceof Array&&(n=n.concat([])),i[r]=n}return i},Js=t.startState=function(t,e,i){return t.startState?t.startState(e,i):!0};t.innerMode=function(t,e){for(;t.innerMode;){var i=t.innerMode(e);if(!i||i.mode==t)break;e=i.state,t=i.mode}return i||{mode:t,state:e}};var to=t.commands={selectAll:function(t){t.setSelection(Ms(t.firstLine(),0),Ms(t.lastLine()),Ao)},singleSelection:function(t){t.setSelection(t.getCursor("anchor"),t.getCursor("head"),Ao)},killLine:function(t){Di(t,function(e){if(e.empty()){var i=Ur(t.doc,e.head.line).text.length;return e.head.ch==i&&e.head.line<t.lastLine()?{from:e.head,to:Ms(e.head.line+1,0)}:{from:e.head,to:Ms(e.head.line,i)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Di(t,function(e){return{from:Ms(e.from().line,0),to:dt(t.doc,Ms(e.to().line+1,0))}})},delLineLeft:function(t){Di(t,function(t){return{from:Ms(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){Di(t,function(e){var i=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:i},"div");return{from:r,to:e.from()}})},delWrappedLineRight:function(t){Di(t,function(e){var i=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div");return{from:e.from(),to:r}})},undo:function(t){t.undo()},redo:function(t){t.redo()},undoSelection:function(t){t.undoSelection()},redoSelection:function(t){t.redoSelection()},goDocStart:function(t){t.extendSelection(Ms(t.firstLine(),0))},goDocEnd:function(t){t.extendSelection(Ms(t.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return Jn(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return es(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return ts(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:i},"div")},No)},goLineLeft:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:i},"div")},No)},goLineLeftSmart:function(t){t.extendSelectionsBy(function(e){var i=t.charCoords(e.head,"div").top+5,r=t.coordsChar({left:0,top:i},"div");return r.ch<t.getLine(r.line).search(/\S/)?es(t,e.head):r},No)},goLineUp:function(t){t.moveV(-1,"line")},goLineDown:function(t){t.moveV(1,"line")},goPageUp:function(t){t.moveV(-1,"page")},goPageDown:function(t){t.moveV(1,"page")},goCharLeft:function(t){t.moveH(-1,"char")},goCharRight:function(t){t.moveH(1,"char")},goColumnLeft:function(t){t.moveH(-1,"column")},goColumnRight:function(t){t.moveH(1,"column")},goWordLeft:function(t){t.moveH(-1,"word")},goGroupRight:function(t){t.moveH(1,"group")},goGroupLeft:function(t){t.moveH(-1,"group")},goWordRight:function(t){t.moveH(1,"word")},delCharBefore:function(t){t.deleteH(-1,"char")},delCharAfter:function(t){t.deleteH(1,"char")},delWordBefore:function(t){t.deleteH(-1,"word")},delWordAfter:function(t){t.deleteH(1,"word")},delGroupBefore:function(t){t.deleteH(-1,"group")},delGroupAfter:function(t){t.deleteH(1,"group")},indentAuto:function(t){t.indentSelection("smart")},indentMore:function(t){t.indentSelection("add")},indentLess:function(t){t.indentSelection("subtract")},insertTab:function(t){t.replaceSelection("	")},insertSoftTab:function(t){for(var e=[],i=t.listSelections(),r=t.options.tabSize,n=0;n<i.length;n++){var s=i[n].from(),o=Eo(t.getLine(s.line),s.ch,r);e.push(new Array(r-o%r+1).join(" "))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){Te(t,function(){for(var e=t.listSelections(),i=[],r=0;r<e.length;r++){var n=e[r].head,s=Ur(t.doc,n.line).text;if(s)if(n.ch==s.length&&(n=new Ms(n.line,n.ch-1)),n.ch>0)n=new Ms(n.line,n.ch+1),t.replaceRange(s.charAt(n.ch-1)+s.charAt(n.ch-2),Ms(n.line,n.ch-2),n,"+transpose");else if(n.line>t.doc.first){var o=Ur(t.doc,n.line-1).text;o&&t.replaceRange(s.charAt(0)+"\n"+o.charAt(o.length-1),Ms(n.line-1,o.length-1),Ms(n.line,1),"+transpose")}i.push(new ct(n,n))}t.setSelections(i)})},newlineAndIndent:function(t){Te(t,function(){for(var e=t.listSelections().length,i=0;e>i;i++){var r=t.listSelections()[i];t.replaceRange("\n",r.anchor,r.head,"+input"),t.indentLine(r.from().line+1,null,!0),Oi(t)}})},toggleOverwrite:function(t){t.toggleOverwrite()}},eo=t.keyMap={};eo.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},eo.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},eo.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},eo.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},eo["default"]=ws?eo.macDefault:eo.pcDefault,t.normalizeKeyMap=function(t){var e={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(/^(name|fallthrough|(de|at)tach)$/.test(i))continue;if("..."==r){delete t[i];continue}for(var n=Mn(i.split(" "),_i),s=0;s<n.length;s++){var o,a;s==n.length-1?(a=i,o=r):(a=n.slice(0,s+1).join(" "),o="...");var l=e[a];if(l){if(l!=o)throw new Error("Inconsistent bindings for "+a)}else e[a]=o}delete t[i]}for(var u in e)t[u]=e[u];return t};var io=t.lookupKey=function(t,e,i,r){e=Bi(e);var n=e.call?e.call(t,r):e[t];if(n===!1)return"nothing";if("..."===n)return"multi";if(null!=n&&i(n))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return io(t,e.fallthrough,i,r);for(var s=0;s<e.fallthrough.length;s++){var o=io(t,e.fallthrough[s],i,r);if(o)return o}}},ro=t.isModifierKey=function(t){var e="string"==typeof t?t:Xo[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e},no=t.keyName=function(t,e){if(ms&&34==t.keyCode&&t["char"])return!1;var i=Xo[t.keyCode],r=i;return null==r||t.altGraphKey?!1:(t.altKey&&"Alt"!=i&&(r="Alt-"+r),(Ss?t.metaKey:t.ctrlKey)&&"Ctrl"!=i&&(r="Ctrl-"+r),(Ss?t.ctrlKey:t.metaKey)&&"Cmd"!=i&&(r="Cmd-"+r),!e&&t.shiftKey&&"Shift"!=i&&(r="Shift-"+r),r)};t.fromTextArea=function(e,i){function r(){e.value=u.getValue()}if(i=i?On(i):{},i.value=e.value,!i.tabindex&&e.tabIndex&&(i.tabindex=e.tabIndex),!i.placeholder&&e.placeholder&&(i.placeholder=e.placeholder),null==i.autofocus){var n=_n();i.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}if(e.form&&(wo(e.form,"submit",r),!i.leaveSubmitMethodAlone)){var s=e.form,o=s.submit;try{var a=s.submit=function(){r(),s.submit=o,s.submit(),s.submit=a}}catch(l){}}i.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Co(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=o))}},e.style.display="none";var u=t(function(t){e.parentNode.insertBefore(t,e.nextSibling)},i);return u};var so=t.StringStream=function(t,e){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};so.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(t){var e=this.string.charAt(this.pos);if("string"==typeof t)var i=e==t;else var i=e&&(t.test?t.test(e):t(e));

return i?(++this.pos,e):void 0},eatWhile:function(t){for(var e=this.pos;this.eat(t););return this.pos>e},eatSpace:function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},skipToEnd:function(){this.pos=this.string.length},skipTo:function(t){var e=this.string.indexOf(t,this.pos);return e>-1?(this.pos=e,!0):void 0},backUp:function(t){this.pos-=t},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Eo(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Eo(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Eo(this.string,null,this.tabSize)-(this.lineStart?Eo(this.string,this.lineStart,this.tabSize):0)},match:function(t,e,i){if("string"!=typeof t){var r=this.string.slice(this.pos).match(t);return r&&r.index>0?null:(r&&e!==!1&&(this.pos+=r[0].length),r)}var n=function(t){return i?t.toLowerCase():t},s=this.string.substr(this.pos,t.length);return n(s)==n(t)?(e!==!1&&(this.pos+=t.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}}};var oo=0,ao=t.TextMarker=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++oo};Cn(ao),ao.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&ge(t),wn(this,"clear")){var i=this.find();i&&gn(this,"clear",i.from,i.to)}for(var r=null,n=null,s=0;s<this.lines.length;++s){var o=this.lines[s],a=Ki(o.markedSpans,this);t&&!this.collapsed?Pe(t,Xr(o),"text"):t&&(null!=a.to&&(n=Xr(o)),null!=a.from&&(r=Xr(o))),o.markedSpans=Xi(o.markedSpans,a),null==a.from&&this.collapsed&&!mr(this.doc,o)&&t&&Kr(o,me(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=hr(this.lines[s]),u=h(l);u>t.display.maxLineLength&&(t.display.maxLine=l,t.display.maxLineLength=u,t.display.maxLineChanged=!0)}null!=r&&t&&this.collapsed&&Ie(t,r,n+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Mt(t.doc)),t&&gn(t,"markerCleared",t,this),e&&xe(t),this.parent&&this.parent.clear()}},ao.prototype.find=function(t,e){null==t&&"bookmark"==this.type&&(t=1);for(var i,r,n=0;n<this.lines.length;++n){var s=this.lines[n],o=Ki(s.markedSpans,this);if(null!=o.from&&(i=Ms(e?s:Xr(s),o.from),-1==t))return i;if(null!=o.to&&(r=Ms(e?s:Xr(s),o.to),1==t))return r}return i&&{from:i,to:r}},ao.prototype.changed=function(){var t=this.find(-1,!0),e=this,i=this.doc.cm;t&&i&&Te(i,function(){var r=t.line,n=Xr(t.line),s=$t(i,n);if(s&&(ie(s),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!mr(e.doc,r)&&null!=e.height){var o=e.height;e.height=null;var a=yr(e)-o;a&&Kr(r,r.height+a)}})},ao.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=An(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},ao.prototype.detachLine=function(t){if(this.lines.splice(An(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}};var oo=0,lo=t.SharedTextMarker=function(t,e){this.markers=t,this.primary=e;for(var i=0;i<t.length;++i)t[i].parent=this};Cn(lo),lo.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();gn(this,"clear")}},lo.prototype.find=function(t,e){return this.primary.find(t,e)};var uo=t.LineWidget=function(t,e,i){if(i)for(var r in i)i.hasOwnProperty(r)&&(this[r]=i[r]);this.doc=t,this.node=e};Cn(uo),uo.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,i=this.line,r=Xr(i);if(null!=r&&e){for(var n=0;n<e.length;++n)e[n]==this&&e.splice(n--,1);e.length||(i.widgets=null);var s=yr(this);Kr(i,Math.max(0,i.height-s)),t&&Te(t,function(){gr(t,i,-s),Pe(t,r,"widget")})}},uo.prototype.changed=function(){var t=this.height,e=this.doc.cm,i=this.line;this.height=null;var r=yr(this)-t;r&&(Kr(i,i.height+r),e&&Te(e,function(){e.curOp.forceUpdate=!0,gr(e,i,r)}))};var co=t.Line=function(t,e,i){this.text=t,rr(this,e),this.height=i?i(this):1};Cn(co),co.prototype.lineNo=function(){return Xr(this)};var ho={},po={};Br.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var i=t,r=t+e;r>i;++i){var n=this.lines[i];this.height-=n.height,wr(n),gn(n,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,i){this.height+=i,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var r=0;r<e.length;++r)e[r].parent=this},iterN:function(t,e,i){for(var r=t+e;r>t;++t)if(i(this.lines[t]))return!0}},zr.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var i=0;i<this.children.length;++i){var r=this.children[i],n=r.chunkSize();if(n>t){var s=Math.min(e,n-t),o=r.height;if(r.removeInner(t,s),this.height-=o-r.height,n==s&&(this.children.splice(i--,1),r.parent=null),0==(e-=s))break;t=0}else t-=n}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof Br))){var a=[];this.collapse(a),this.children=[new Br(a)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,i){this.size+=e.length,this.height+=i;for(var r=0;r<this.children.length;++r){var n=this.children[r],s=n.chunkSize();if(s>=t){if(n.insertInner(t,e,i),n.lines&&n.lines.length>50){for(;n.lines.length>50;){var o=n.lines.splice(n.lines.length-25,25),a=new Br(o);n.height-=a.height,this.children.splice(r+1,0,a),a.parent=this}this.maybeSpill()}break}t-=s}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=t.children.splice(t.children.length-5,5),i=new zr(e);if(t.parent){t.size-=i.size,t.height-=i.height;var r=An(t.parent.children,t);t.parent.children.splice(r+1,0,i)}else{var n=new zr(t.children);n.parent=t,t.children=[n,i],t=n}i.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,i){for(var r=0;r<this.children.length;++r){var n=this.children[r],s=n.chunkSize();if(s>t){var o=Math.min(e,s-t);if(n.iterN(t,o,i))return!0;if(0==(e-=o))break;t=0}else t-=s}}};var fo=0,mo=t.Doc=function(t,e,i){if(!(this instanceof mo))return new mo(t,e,i);null==i&&(i=0),zr.call(this,[new Br([new co("",null)])]),this.first=i,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=i;var r=Ms(i,0);this.sel=pt(r),this.history=new Zr(null),this.id=++fo,this.modeOption=e,"string"==typeof t&&(t=Uo(t)),_r(this,{from:r,to:r,text:t}),Lt(this,pt(r),Ao)};mo.prototype=En(zr.prototype,{constructor:mo,iter:function(t,e,i){i?this.iterN(t-this.first,e-t,i):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var i=0,r=0;r<e.length;++r)i+=e[r].height;this.insertInner(t-this.first,e,i)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=qr(this,this.first,this.first+this.size);return t===!1?e:e.join(t||"\n")},setValue:Ne(function(t){var e=Ms(this.first,0),i=this.first+this.size-1;xi(this,{from:e,to:Ms(i,Ur(this,i).text.length),text:Uo(t),origin:"setValue",full:!0},!0),Lt(this,pt(e))}),replaceRange:function(t,e,i,r){e=dt(this,e),i=i?dt(this,i):e,Li(this,t,e,i,r)},getRange:function(t,e,i){var r=Gr(this,dt(this,t),dt(this,e));return i===!1?r:r.join(i||"\n")},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){return vt(this,t)?Ur(this,t):void 0},getLineNumber:function(t){return Xr(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Ur(this,t)),hr(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return dt(this,t)},getCursor:function(t){var e,i=this.sel.primary();return e=null==t||"head"==t?i.head:"anchor"==t?i.anchor:"end"==t||"to"==t||t===!1?i.to():i.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ne(function(t,e,i){Ct(this,dt(this,"number"==typeof t?Ms(t,e||0):t),null,i)}),setSelection:Ne(function(t,e,i){Ct(this,dt(this,t),dt(this,e||t),i)}),extendSelection:Ne(function(t,e,i){xt(this,dt(this,t),e&&dt(this,e),i)}),extendSelections:Ne(function(t,e){bt(this,gt(this,t,e))}),extendSelectionsBy:Ne(function(t,e){bt(this,Mn(this.sel.ranges,t),e)}),setSelections:Ne(function(t,e,i){if(t.length){for(var r=0,n=[];r<t.length;r++)n[r]=new ct(dt(this,t[r].anchor),dt(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),Lt(this,ht(n,e),i)}}),addSelection:Ne(function(t,e,i){var r=this.sel.ranges.slice(0);r.push(new ct(dt(this,t),dt(this,e||t))),Lt(this,ht(r,r.length-1),i)}),getSelection:function(t){for(var e,i=this.sel.ranges,r=0;r<i.length;r++){var n=Gr(this,i[r].from(),i[r].to());e=e?e.concat(n):n}return t===!1?e:e.join(t||"\n")},getSelections:function(t){for(var e=[],i=this.sel.ranges,r=0;r<i.length;r++){var n=Gr(this,i[r].from(),i[r].to());t!==!1&&(n=n.join(t||"\n")),e[r]=n}return e},replaceSelection:function(t,e,i){for(var r=[],n=0;n<this.sel.ranges.length;n++)r[n]=t;this.replaceSelections(r,e,i||"+input")},replaceSelections:Ne(function(t,e,i){for(var r=[],n=this.sel,s=0;s<n.ranges.length;s++){var o=n.ranges[s];r[s]={from:o.from(),to:o.to(),text:Uo(t[s]),origin:i}}for(var a=e&&"end"!=e&&gi(this,r,e),s=r.length-1;s>=0;s--)xi(this,r[s]);a?St(this,a):this.cm&&Oi(this.cm)}),undo:Ne(function(){wi(this,"undo")}),redo:Ne(function(){wi(this,"redo")}),undoSelection:Ne(function(){wi(this,"undo",!0)}),redoSelection:Ne(function(){wi(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,i=0,r=0;r<t.done.length;r++)t.done[r].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++i;return{undo:e,redo:i}},clearHistory:function(){this.history=new Zr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:cn(this.history.done),undone:cn(this.history.undone)}},setHistory:function(t){var e=this.history=new Zr(this.history.maxGeneration);e.done=cn(t.done.slice(0),null,!0),e.undone=cn(t.undone.slice(0),null,!0)},addLineClass:Ne(function(t,e,i){return Wi(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[r]){if(Bn(i).test(t[r]))return!1;t[r]+=" "+i}else t[r]=i;return!0})}),removeLineClass:Ne(function(t,e,i){return Wi(this,t,"gutter"==e?"gutter":"class",function(t){var r="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",n=t[r];if(!n)return!1;if(null==i)t[r]=null;else{var s=n.match(Bn(i));if(!s)return!1;var o=s.index+s[0].length;t[r]=n.slice(0,s.index)+(s.index&&o!=n.length?" ":"")+n.slice(o)||null}return!0})}),addLineWidget:Ne(function(t,e,i){return xr(this,t,e,i)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,i){return zi(this,dt(this,t),dt(this,e),i,"range")},setBookmark:function(t,e){var i={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return t=dt(this,t),zi(this,t,t,i,"bookmark")},findMarksAt:function(t){t=dt(this,t);var e=[],i=Ur(this,t.line).markedSpans;if(i)for(var r=0;r<i.length;++r){var n=i[r];(null==n.from||n.from<=t.ch)&&(null==n.to||n.to>=t.ch)&&e.push(n.marker.parent||n.marker)}return e},findMarks:function(t,e,i){t=dt(this,t),e=dt(this,e);var r=[],n=t.line;return this.iter(t.line,e.line+1,function(s){var o=s.markedSpans;if(o)for(var a=0;a<o.length;a++){var l=o[a];n==t.line&&t.ch>l.to||null==l.from&&n!=t.line||n==e.line&&l.from>e.ch||i&&!i(l.marker)||r.push(l.marker.parent||l.marker)}++n}),r},getAllMarks:function(){var t=[];return this.iter(function(e){var i=e.markedSpans;if(i)for(var r=0;r<i.length;++r)null!=i[r].from&&t.push(i[r].marker)}),t},posFromIndex:function(t){var e,i=this.first;return this.iter(function(r){var n=r.text.length+1;return n>t?(e=t,!0):(t-=n,void++i)}),dt(this,Ms(i,e))},indexFromPos:function(t){t=dt(this,t);var e=t.ch;return t.line<this.first||t.ch<0?0:(this.iter(this.first,t.line,function(t){e+=t.text.length+1}),e)},copy:function(t){var e=new mo(qr(this,this.first,this.first+this.size),this.modeOption,this.first);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,i=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<i&&(i=t.to);var r=new mo(qr(this,e,i),t.mode||this.modeOption,e);return t.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:t.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Ui(r,ji(this)),r},unlinkDoc:function(e){if(e instanceof t&&(e=e.doc),this.linked)for(var i=0;i<this.linked.length;++i){var r=this.linked[i];if(r.doc==e){this.linked.splice(i,1),e.unlinkDoc(this),Gi(ji(this));break}}if(e.history==this.history){var n=[e.id];Vr(e,function(t){n.push(t.id)},!0),e.history=new Zr(null),e.history.done=cn(this.history.done,n),e.history.undone=cn(this.history.undone,n)}},iterLinkedDocs:function(t){Vr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),mo.prototype.eachLine=mo.prototype.iter;var vo="iter insert remove copy getEditor".split(" ");for(var go in mo.prototype)mo.prototype.hasOwnProperty(go)&&An(vo,go)<0&&(t.prototype[go]=function(t){return function(){return t.apply(this.doc,arguments)}}(mo.prototype[go]));Cn(mo);var yo=t.e_preventDefault=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},xo=t.e_stopPropagation=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},bo=t.e_stop=function(t){yo(t),xo(t)},wo=t.on=function(t,e,i){if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent)t.attachEvent("on"+e,i);else{var r=t._handlers||(t._handlers={}),n=r[e]||(r[e]=[]);n.push(i)}},Co=t.off=function(t,e,i){if(t.removeEventListener)t.removeEventListener(e,i,!1);else if(t.detachEvent)t.detachEvent("on"+e,i);else{var r=t._handlers&&t._handlers[e];if(!r)return;for(var n=0;n<r.length;++n)if(r[n]==i){r.splice(n,1);break}}},ko=t.signal=function(t,e){var i=t._handlers&&t._handlers[e];if(i)for(var r=Array.prototype.slice.call(arguments,2),n=0;n<i.length;++n)i[n].apply(null,r)},So=null,Lo=30,To=t.Pass={toString:function(){return"CodeMirror.Pass"}},Ao={scroll:!1},Mo={origin:"*mouse"},No={origin:"+move"};kn.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var Eo=t.countColumn=function(t,e,i,r,n){null==e&&(e=t.search(/[^\s\u00a0]/),-1==e&&(e=t.length));for(var s=r||0,o=n||0;;){var a=t.indexOf("	",s);if(0>a||a>=e)return o+(e-s);o+=a-s,o+=i-o%i,s=a+1}},Oo=[""],Io=function(t){t.select()};xs?Io=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:cs&&(Io=function(t){try{t.select()}catch(e){}});var Po,Wo=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Do=t.isWordChar=function(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Wo.test(t))},Ho=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Po=document.createRange?function(t,e,i,r){var n=document.createRange();return n.setEnd(r||t,i),n.setStart(t,e),n}:function(t,e,i){var r=document.body.createTextRange();try{r.moveToElementText(t.parentNode)}catch(n){return r}return r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",e),r};var Ro=t.contains=function(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do if(11==e.nodeType&&(e=e.host),e==t)return!0;while(e=e.parentNode)};cs&&11>hs&&(_n=function(){try{return document.activeElement}catch(t){return document.body}});var Fo,_o,Bo=t.rmClass=function(t,e){var i=t.className,r=Bn(e).exec(i);if(r){var n=i.slice(r.index+r[0].length);t.className=i.slice(0,r.index)+(n?r[1]+n:"")}},zo=t.addClass=function(t,e){var i=t.className;Bn(e).test(i)||(t.className+=(i?" ":"")+e)},Vo=!1,jo=function(){if(cs&&9>hs)return!1;var t=Hn("div");return"draggable"in t||"dragDrop"in t}(),Uo=t.splitLines=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,i=[],r=t.length;r>=e;){var n=t.indexOf("\n",e);-1==n&&(n=t.length);var s=t.slice(e,"\r"==t.charAt(n-1)?n-1:n),o=s.indexOf("\r");-1!=o?(i.push(s.slice(0,o)),e+=o+1):(i.push(s),e=n+1)}return i}:function(t){return t.split(/\r\n?|\n/)},Go=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(e){return!1}}:function(t){try{var e=t.ownerDocument.selection.createRange()}catch(i){}return e&&e.parentElement()==t?0!=e.compareEndPoints("StartToEnd",e):!1},qo=function(){var t=Hn("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),"function"==typeof t.oncopy)}(),Ko=null,Xo={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};t.keyNames=Xo,function(){for(var t=0;10>t;t++)Xo[t+48]=Xo[t+96]=String(t);for(var t=65;90>=t;t++)Xo[t]=String.fromCharCode(t);for(var t=1;12>=t;t++)Xo[t+111]=Xo[t+63235]="F"+t}();var Yo,$o=function(){function t(t){return 247>=t?i.charAt(t):t>=1424&&1524>=t?"R":t>=1536&&1773>=t?r.charAt(t-1536):t>=1774&&2220>=t?"r":t>=8192&&8203>=t?"w":8204==t?"b":"L"}function e(t,e,i){this.level=t,this.from=e,this.to=i}var i="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,l=/[1n]/,u="L";return function(i){if(!n.test(i))return!1;for(var r,c=i.length,h=[],p=0;c>p;++p)h.push(r=t(i.charCodeAt(p)));for(var p=0,f=u;c>p;++p){var r=h[p];"m"==r?h[p]=f:f=r}for(var p=0,d=u;c>p;++p){var r=h[p];"1"==r&&"r"==d?h[p]="n":o.test(r)&&(d=r,"r"==r&&(h[p]="R"))}for(var p=1,f=h[0];c-1>p;++p){var r=h[p];"+"==r&&"1"==f&&"1"==h[p+1]?h[p]="1":","!=r||f!=h[p+1]||"1"!=f&&"n"!=f||(h[p]=f),f=r}for(var p=0;c>p;++p){var r=h[p];if(","==r)h[p]="N";else if("%"==r){for(var m=p+1;c>m&&"%"==h[m];++m);for(var v=p&&"!"==h[p-1]||c>m&&"1"==h[m]?"1":"N",g=p;m>g;++g)h[g]=v;p=m-1}}for(var p=0,d=u;c>p;++p){var r=h[p];"L"==d&&"1"==r?h[p]="L":o.test(r)&&(d=r)}for(var p=0;c>p;++p)if(s.test(h[p])){for(var m=p+1;c>m&&s.test(h[m]);++m);for(var y="L"==(p?h[p-1]:u),x="L"==(c>m?h[m]:u),v=y||x?"L":"R",g=p;m>g;++g)h[g]=v;p=m-1}for(var b,w=[],p=0;c>p;)if(a.test(h[p])){var C=p;for(++p;c>p&&a.test(h[p]);++p);w.push(new e(0,C,p))}else{var k=p,S=w.length;for(++p;c>p&&"L"!=h[p];++p);for(var g=k;p>g;)if(l.test(h[g])){g>k&&w.splice(S,0,new e(1,k,g));var L=g;for(++g;p>g&&l.test(h[g]);++g);w.splice(S,0,new e(2,L,g)),k=g}else++g;p>k&&w.splice(S,0,new e(1,k,p))}return 1==w[0].level&&(b=i.match(/^\s+/))&&(w[0].from=b[0].length,w.unshift(new e(0,0,b[0].length))),1==Tn(w).level&&(b=i.match(/\s+$/))&&(Tn(w).to-=b[0].length,w.push(new e(0,c-b[0].length,c))),w[0].level!=Tn(w).level&&w.push(new e(w[0].level,c,c)),w}}();return t.version="5.1.0",t}),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){"use strict";t.defineMode("javascript",function(e,i){function r(t){for(var e,i=!1,r=!1;null!=(e=t.next());){if(!i){if("/"==e&&!r)return;"["==e?r=!0:r&&"]"==e&&(r=!1)}i=!i&&"\\"==e}}function n(t,e,i){return mt=t,vt=i,e}function s(t,e){var i=t.next();if('"'==i||"'"==i)return e.tokenize=o(i),e.tokenize(t,e);if("."==i&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return n("number","number");if("."==i&&t.match(".."))return n("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(i))return n(i);if("="==i&&t.eat(">"))return n("=>","operator");if("0"==i&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),n("number","number");if(/\d/.test(i))return t.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),n("number","number");if("/"==i)return t.eat("*")?(e.tokenize=a,a(t,e)):t.eat("/")?(t.skipToEnd(),n("comment","comment")):"operator"==e.lastType||"keyword c"==e.lastType||"sof"==e.lastType||/^[\[{}\(,;:]$/.test(e.lastType)?(r(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),n("regexp","string-2")):(t.eatWhile(St),n("operator","operator",t.current()));if("`"==i)return e.tokenize=l,l(t,e);if("#"==i)return t.skipToEnd(),n("error","error");if(St.test(i))return t.eatWhile(St),n("operator","operator",t.current());if(Ct.test(i)){t.eatWhile(Ct);var s=t.current(),u=kt.propertyIsEnumerable(s)&&kt[s];return u&&"."!=e.lastType?n(u.type,u.style,s):n("variable","variable",s)}}function o(t){return function(e,i){var r,o=!1;if(xt&&"@"==e.peek()&&e.match(Lt))return i.tokenize=s,n("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=t||o);)o=!o&&"\\"==r;return o||(i.tokenize=s),n("string","string")}}function a(t,e){for(var i,r=!1;i=t.next();){if("/"==i&&r){e.tokenize=s;break}r="*"==i}return n("comment","comment")}function l(t,e){for(var i,r=!1;null!=(i=t.next());){if(!r&&("`"==i||"$"==i&&t.eat("{"))){e.tokenize=s;break}r=!r&&"\\"==i}return n("quasi","string-2",t.current())}function u(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var i=t.string.indexOf("=>",t.start);if(!(0>i)){for(var r=0,n=!1,s=i-1;s>=0;--s){var o=t.string.charAt(s),a=Tt.indexOf(o);if(a>=0&&3>a){if(!r){++s;break}if(0==--r)break}else if(a>=3&&6>a)++r;else if(Ct.test(o))n=!0;else{if(/["'\/]/.test(o))return;if(n&&!r){++s;break}}}n&&!r&&(e.fatArrowAt=s)}}function c(t,e,i,r,n,s){this.indented=t,this.column=e,this.type=i,this.prev=n,this.info=s,null!=r&&(this.align=r)}function h(t,e){for(var i=t.localVars;i;i=i.next)if(i.name==e)return!0;for(var r=t.context;r;r=r.prev)for(var i=r.vars;i;i=i.next)if(i.name==e)return!0}function p(t,e,i,r,n){var s=t.cc;for(Mt.state=t,Mt.stream=n,Mt.marked=null,Mt.cc=s,Mt.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){var o=s.length?s.pop():bt?C:w;if(o(i,r)){for(;s.length&&s[s.length-1].lex;)s.pop()();return Mt.marked?Mt.marked:"variable"==i&&h(t,r)?"variable-2":e}}}function f(){for(var t=arguments.length-1;t>=0;t--)Mt.cc.push(arguments[t])}function d(){return f.apply(null,arguments),!0}function m(t){function e(e){for(var i=e;i;i=i.next)if(i.name==t)return!0;return!1}var r=Mt.state;if(r.context){if(Mt.marked="def",e(r.localVars))return;r.localVars={name:t,next:r.localVars}}else{if(e(r.globalVars))return;i.globalVars&&(r.globalVars={name:t,next:r.globalVars})}}function v(){Mt.state.context={prev:Mt.state.context,vars:Mt.state.localVars},Mt.state.localVars=Nt}function g(){Mt.state.localVars=Mt.state.context.vars,Mt.state.context=Mt.state.context.prev}function y(t,e){var i=function(){var i=Mt.state,r=i.indented;if("stat"==i.lexical.type)r=i.lexical.indented;else for(var n=i.lexical;n&&")"==n.type&&n.align;n=n.prev)r=n.indented;i.lexical=new c(r,Mt.stream.column(),t,null,i.lexical,e)};return i.lex=!0,i}function x(){var t=Mt.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function b(t){function e(i){return i==t?d():";"==t?f():d(e)}return e}function w(t,e){return"var"==t?d(y("vardef",e.length),j,b(";"),x):"keyword a"==t?d(y("form"),C,w,x):"keyword b"==t?d(y("form"),w,x):"{"==t?d(y("}"),B,x):";"==t?d():"if"==t?("else"==Mt.state.lexical.info&&Mt.state.cc[Mt.state.cc.length-1]==x&&Mt.state.cc.pop()(),d(y("form"),C,w,x,X)):"function"==t?d(tt):"for"==t?d(y("form"),Y,w,x):"variable"==t?d(y("stat"),P):"switch"==t?d(y("form"),C,y("}","switch"),b("{"),B,x,x):"case"==t?d(C,b(":")):"default"==t?d(b(":")):"catch"==t?d(y("form"),v,b("("),et,b(")"),w,x,g):"module"==t?d(y("form"),v,ot,g,x):"class"==t?d(y("form"),it,x):"export"==t?d(y("form"),at,x):"import"==t?d(y("form"),lt,x):f(y("stat"),C,b(";"),x)}function C(t){return S(t,!1)}function k(t){return S(t,!0)}function S(t,e){if(Mt.state.fatArrowAt==Mt.stream.start){var i=e?I:O;if("("==t)return d(v,y(")"),F(U,")"),x,b("=>"),i,g);if("variable"==t)return f(v,U,b("=>"),i,g)}var r=e?M:A;return At.hasOwnProperty(t)?d(r):"function"==t?d(tt,r):"keyword c"==t?d(e?T:L):"("==t?d(y(")"),L,ft,b(")"),x,r):"operator"==t||"spread"==t?d(e?k:C):"["==t?d(y("]"),ht,x,r):"{"==t?_(D,"}",null,r):"quasi"==t?f(N,r):d()}function L(t){return t.match(/[;\}\)\],]/)?f():f(C)}function T(t){return t.match(/[;\}\)\],]/)?f():f(k)}function A(t,e){return","==t?d(C):M(t,e,!1)}function M(t,e,i){var r=0==i?A:M,n=0==i?C:k;return"=>"==t?d(v,i?I:O,g):"operator"==t?/\+\+|--/.test(e)?d(r):"?"==e?d(C,b(":"),n):d(n):"quasi"==t?f(N,r):";"!=t?"("==t?_(k,")","call",r):"."==t?d(W,r):"["==t?d(y("]"),L,b("]"),x,r):void 0:void 0}function N(t,e){return"quasi"!=t?f():"${"!=e.slice(e.length-2)?d(N):d(C,E)}function E(t){return"}"==t?(Mt.marked="string-2",Mt.state.tokenize=l,d(N)):void 0}function O(t){return u(Mt.stream,Mt.state),f("{"==t?w:C)}function I(t){return u(Mt.stream,Mt.state),f("{"==t?w:k)}function P(t){return":"==t?d(x,w):f(A,b(";"),x)}function W(t){return"variable"==t?(Mt.marked="property",d()):void 0}function D(t,e){return"variable"==t||"keyword"==Mt.style?(Mt.marked="property",d("get"==e||"set"==e?H:R)):"number"==t||"string"==t?(Mt.marked=xt?"property":Mt.style+" property",d(R)):"jsonld-keyword"==t?d(R):"["==t?d(C,b("]"),R):void 0}function H(t){return"variable"!=t?f(R):(Mt.marked="property",d(tt))}function R(t){return":"==t?d(k):"("==t?f(tt):void 0}function F(t,e){function i(r){if(","==r){var n=Mt.state.lexical;return"call"==n.info&&(n.pos=(n.pos||0)+1),d(t,i)}return r==e?d():d(b(e))}return function(r){return r==e?d():f(t,i)}}function _(t,e,i){for(var r=3;r<arguments.length;r++)Mt.cc.push(arguments[r]);return d(y(e,i),F(t,e),x)}function B(t){return"}"==t?d():f(w,B)}function z(t){return wt&&":"==t?d(V):void 0}function V(t){return"variable"==t?(Mt.marked="variable-3",d()):void 0}function j(){return f(U,z,q,K)}function U(t,e){return"variable"==t?(m(e),d()):"["==t?_(U,"]"):"{"==t?_(G,"}"):void 0}function G(t,e){return"variable"!=t||Mt.stream.match(/^\s*:/,!1)?("variable"==t&&(Mt.marked="property"),d(b(":"),U,q)):(m(e),d(q))}function q(t,e){return"="==e?d(k):void 0}function K(t){return","==t?d(j):void 0}function X(t,e){return"keyword b"==t&&"else"==e?d(y("form","else"),w,x):void 0}function Y(t){return"("==t?d(y(")"),$,b(")"),x):void 0}function $(t){return"var"==t?d(j,b(";"),Z):";"==t?d(Z):"variable"==t?d(Q):f(C,b(";"),Z)}function Q(t,e){return"in"==e||"of"==e?(Mt.marked="keyword",d(C)):d(A,Z)}function Z(t,e){return";"==t?d(J):"in"==e||"of"==e?(Mt.marked="keyword",d(C)):f(C,b(";"),J)}function J(t){")"!=t&&d(C)}function tt(t,e){return"*"==e?(Mt.marked="keyword",d(tt)):"variable"==t?(m(e),d(tt)):"("==t?d(v,y(")"),F(et,")"),x,w,g):void 0}function et(t){return"spread"==t?d(et):f(U,z)}function it(t,e){return"variable"==t?(m(e),d(rt)):void 0}function rt(t,e){return"extends"==e?d(C,rt):"{"==t?d(y("}"),nt,x):void 0}function nt(t,e){return"variable"==t||"keyword"==Mt.style?"static"==e?(Mt.marked="keyword",d(nt)):(Mt.marked="property","get"==e||"set"==e?d(st,tt,nt):d(tt,nt)):"*"==e?(Mt.marked="keyword",d(nt)):";"==t?d(nt):"}"==t?d():void 0}function st(t){return"variable"!=t?f():(Mt.marked="property",d())}function ot(t,e){return"string"==t?d(w):"variable"==t?(m(e),d(ct)):void 0}function at(t,e){return"*"==e?(Mt.marked="keyword",d(ct,b(";"))):"default"==e?(Mt.marked="keyword",d(C,b(";"))):f(w)}function lt(t){return"string"==t?d():f(ut,ct)}function ut(t,e){return"{"==t?_(ut,"}"):("variable"==t&&m(e),d())}function ct(t,e){return"from"==e?(Mt.marked="keyword",d(C)):void 0}function ht(t){return"]"==t?d():f(k,pt)}function pt(t){return"for"==t?f(ft,b("]")):","==t?d(F(T,"]")):f(F(k,"]"))}function ft(t){return"for"==t?d(Y,ft):"if"==t?d(C,ft):void 0}function dt(t,e){return"operator"==t.lastType||","==t.lastType||St.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}var mt,vt,gt=e.indentUnit,yt=i.statementIndent,xt=i.jsonld,bt=i.json||xt,wt=i.typescript,Ct=i.wordCharacters||/[\w$\xa1-\uffff]/,kt=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),i=t("keyword b"),r=t("keyword c"),n=t("operator"),s={type:"atom",style:"atom"},o={"if":t("if"),"while":e,"with":e,"else":i,"do":i,"try":i,"finally":i,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":t("var"),"const":t("var"),let:t("var"),"function":t("function"),"catch":t("catch"),"for":t("for"),"switch":t("switch"),"case":t("case"),"default":t("default"),"in":n,"typeof":n,"instanceof":n,"true":s,"false":s,"null":s,undefined:s,NaN:s,Infinity:s,"this":t("this"),module:t("module"),"class":t("class"),"super":t("atom"),"yield":r,"export":t("export"),"import":t("import"),"extends":r};if(wt){var a={type:"variable",style:"variable-3"},l={"interface":t("interface"),"extends":t("extends"),constructor:t("constructor"),"public":t("public"),"private":t("private"),"protected":t("protected"),"static":t("static"),string:a,number:a,bool:a,any:a};for(var u in l)o[u]=l[u]}return o}(),St=/[+\-*&%=<>!?|~^]/,Lt=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Tt="([{}])",At={
atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Mt={state:null,column:null,marked:null,cc:null},Nt={name:"this",next:{name:"arguments"}};return x.lex=!0,{startState:function(t){var e={tokenize:s,lastType:"sof",cc:[],lexical:new c((t||0)-gt,0,"block",!1),localVars:i.localVars,context:i.localVars&&{vars:i.localVars},indented:0};return i.globalVars&&"object"==typeof i.globalVars&&(e.globalVars=i.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),u(t,e)),e.tokenize!=a&&t.eatSpace())return null;var i=e.tokenize(t,e);return"comment"==mt?i:(e.lastType="operator"!=mt||"++"!=vt&&"--"!=vt?mt:"incdec",p(e,i,mt,vt,t))},indent:function(e,r){if(e.tokenize==a)return t.Pass;if(e.tokenize!=s)return 0;var n=r&&r.charAt(0),o=e.lexical;if(!/^\s*else\b/.test(r))for(var l=e.cc.length-1;l>=0;--l){var u=e.cc[l];if(u==x)o=o.prev;else if(u!=X)break}"stat"==o.type&&"}"==n&&(o=o.prev),yt&&")"==o.type&&"stat"==o.prev.type&&(o=o.prev);var c=o.type,h=n==c;return"vardef"==c?o.indented+("operator"==e.lastType||","==e.lastType?o.info+1:0):"form"==c&&"{"==n?o.indented:"form"==c?o.indented+gt:"stat"==c?o.indented+(dt(e,r)?yt||gt:0):"switch"!=o.info||h||0==i.doubleIndentSwitch?o.align?o.column+(h?0:1):o.indented+(h?0:gt):o.indented+(/^(?:case|default)\b/.test(r)?gt:2*gt)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:bt?null:"/*",blockCommentEnd:bt?null:"*/",lineComment:bt?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:bt?"json":"javascript",jsonldMode:xt,jsonMode:bt}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.acorn=t()}}(function(){return function t(e,i,r){function n(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[o]={exports:{}};e[o][0].call(c.exports,function(t){var i=e[o][1][t];return n(i?i:t)},c,c.exports,t,e,i,r)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e,i){"use strict";function r(t,e){var i=o(e,t),r=i.options.locations?[i.pos,i.curPosition()]:i.pos;return i.nextToken(),i.parseTopLevel(i.options.program||i.startNodeAt(r))}function n(t,e,i){var r=o(i,t,e);return r.nextToken(),r.parseExpression()}function s(t,e){return o(e,t)}function o(t,e){return new l(c(t),String(e))}i.parse=r,i.parseExpressionAt=n,i.tokenizer=s,Object.defineProperty(i,"__esModule",{value:!0});var a=t("./state"),l=a.Parser,u=t("./options"),c=u.getOptions;t("./parseutil"),t("./statement"),t("./lval"),t("./expression"),i.Parser=a.Parser,i.plugins=a.plugins,i.defaultOptions=u.defaultOptions;var h=t("./location");i.SourceLocation=h.SourceLocation,i.getLineInfo=h.getLineInfo,i.Node=t("./node").Node;var p=t("./tokentype");i.TokenType=p.TokenType,i.tokTypes=p.types;var f=t("./tokencontext");i.TokContext=f.TokContext,i.tokContexts=f.types;var d=t("./identifier");i.isIdentifierChar=d.isIdentifierChar,i.isIdentifierStart=d.isIdentifierStart,i.Token=t("./tokenize").Token;var m=t("./whitespace");i.isNewLine=m.isNewLine,i.lineBreak=m.lineBreak,i.lineBreakG=m.lineBreakG;var v="1.0.1";i.version=v},{"./expression":2,"./identifier":3,"./location":4,"./lval":5,"./node":6,"./options":7,"./parseutil":8,"./state":9,"./statement":10,"./tokencontext":11,"./tokenize":12,"./tokentype":13,"./whitespace":15}],2:[function(t,e,i){"use strict";var r=t("./tokentype").types,n=t("./state").Parser,s=t("./identifier").reservedWords,o=t("./util").has,a=n.prototype;a.checkPropClash=function(t,e){if(!(this.options.ecmaVersion>=6)){var i=t.key,r=void 0;switch(i.type){case"Identifier":r=i.name;break;case"Literal":r=String(i.value);break;default:return}var n=t.kind||"init",s=void 0;if(o(e,r)){s=e[r];var a="init"!==n;((this.strict||a)&&s[n]||!(a^s.init))&&this.raise(i.start,"Redefinition of property")}else s=e[r]={init:!1,get:!1,set:!1};s[n]=!0}},a.parseExpression=function(t,e){var i=this.markPosition(),n=this.parseMaybeAssign(t,e);if(this.type===r.comma){var s=this.startNodeAt(i);for(s.expressions=[n];this.eat(r.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return n},a.parseMaybeAssign=function(t,e){if(this.type==r._yield&&this.inGenerator)return this.parseYield();var i=void 0;e?i=!1:(e={start:0},i=!0);var n=this.markPosition(),s=this.parseMaybeConditional(t,e);if(this.type.isAssign){var o=this.startNodeAt(n);return o.operator=this.value,o.left=this.type===r.eq?this.toAssignable(s):s,e.start=0,this.checkLVal(s),this.next(),o.right=this.parseMaybeAssign(t),this.finishNode(o,"AssignmentExpression")}return i&&e.start&&this.unexpected(e.start),s},a.parseMaybeConditional=function(t,e){var i=this.markPosition(),n=this.parseExprOps(t,e);if(e&&e.start)return n;if(this.eat(r.question)){var s=this.startNodeAt(i);return s.test=n,s.consequent=this.parseMaybeAssign(),this.expect(r.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return n},a.parseExprOps=function(t,e){var i=this.markPosition(),r=this.parseMaybeUnary(e);return e&&e.start?r:this.parseExprOp(r,i,-1,t)},a.parseExprOp=function(t,e,i,n){var s=this.type.binop;if(null!=s&&(!n||this.type!==r._in)&&s>i){var o=this.startNodeAt(e);o.left=t,o.operator=this.value;var a=this.type;this.next();var l=this.markPosition();return o.right=this.parseExprOp(this.parseMaybeUnary(),l,s,n),this.finishNode(o,a===r.logicalOR||a===r.logicalAND?"LogicalExpression":"BinaryExpression"),this.parseExprOp(o,e,i,n)}return t},a.parseMaybeUnary=function(t){if(this.type.prefix){var e=this.startNode(),i=this.type===r.incDec;return e.operator=this.value,e.prefix=!0,this.next(),e.argument=this.parseMaybeUnary(),t&&t.start&&this.unexpected(t.start),i?this.checkLVal(e.argument):this.strict&&"delete"===e.operator&&"Identifier"===e.argument.type&&this.raise(e.start,"Deleting local variable in strict mode"),this.finishNode(e,i?"UpdateExpression":"UnaryExpression")}var n=this.markPosition(),s=this.parseExprSubscripts(t);if(t&&t.start)return s;for(;this.type.postfix&&!this.canInsertSemicolon();){var e=this.startNodeAt(n);e.operator=this.value,e.prefix=!1,e.argument=s,this.checkLVal(s),this.next(),s=this.finishNode(e,"UpdateExpression")}return s},a.parseExprSubscripts=function(t){var e=this.markPosition(),i=this.parseExprAtom(t);return t&&t.start?i:this.parseSubscripts(i,e)},a.parseSubscripts=function(t,e,i){if(this.eat(r.dot)){var n=this.startNodeAt(e);return n.object=t,n.property=this.parseIdent(!0),n.computed=!1,this.parseSubscripts(this.finishNode(n,"MemberExpression"),e,i)}if(this.eat(r.bracketL)){var n=this.startNodeAt(e);return n.object=t,n.property=this.parseExpression(),n.computed=!0,this.expect(r.bracketR),this.parseSubscripts(this.finishNode(n,"MemberExpression"),e,i)}if(!i&&this.eat(r.parenL)){var n=this.startNodeAt(e);return n.callee=t,n.arguments=this.parseExprList(r.parenR,!1),this.parseSubscripts(this.finishNode(n,"CallExpression"),e,i)}if(this.type===r.backQuote){var n=this.startNodeAt(e);return n.tag=t,n.quasi=this.parseTemplate(),this.parseSubscripts(this.finishNode(n,"TaggedTemplateExpression"),e,i)}return t},a.parseExprAtom=function(t){var e=void 0;switch(this.type){case r._this:case r._super:var i=this.type===r._this?"ThisExpression":"Super";return e=this.startNode(),this.next(),this.finishNode(e,i);case r._yield:this.inGenerator&&unexpected();case r.name:var n=this.markPosition(),s=this.parseIdent(this.type!==r.name);return!this.canInsertSemicolon()&&this.eat(r.arrow)?this.parseArrowExpression(this.startNodeAt(n),[s]):s;case r.regexp:var o=this.value;return e=this.parseLiteral(o.value),e.regex={pattern:o.pattern,flags:o.flags},e;case r.num:case r.string:return this.parseLiteral(this.value);case r._null:case r._true:case r._false:return e=this.startNode(),e.value=this.type===r._null?null:this.type===r._true,e.raw=this.type.keyword,this.next(),this.finishNode(e,"Literal");case r.parenL:return this.parseParenAndDistinguishExpression();case r.bracketL:return e=this.startNode(),this.next(),this.options.ecmaVersion>=7&&this.type===r._for?this.parseComprehension(e,!1):(e.elements=this.parseExprList(r.bracketR,!0,!0,t),this.finishNode(e,"ArrayExpression"));case r.braceL:return this.parseObj(!1,t);case r._function:return e=this.startNode(),this.next(),this.parseFunction(e,!1);case r._class:return this.parseClass(this.startNode(),!1);case r._new:return this.parseNew();case r.backQuote:return this.parseTemplate();default:this.unexpected()}},a.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),this.next(),this.finishNode(e,"Literal")},a.parseParenExpression=function(){this.expect(r.parenL);var t=this.parseExpression();return this.expect(r.parenR),t},a.parseParenAndDistinguishExpression=function(){var t=this.markPosition(),e=void 0;if(this.options.ecmaVersion>=6){if(this.next(),this.options.ecmaVersion>=7&&this.type===r._for)return this.parseComprehension(this.startNodeAt(t),!0);for(var i=this.markPosition(),n=[],s=!0,o={start:0},a=void 0,l=void 0;this.type!==r.parenR;){if(s?s=!1:this.expect(r.comma),this.type===r.ellipsis){a=this.start,n.push(this.parseRest());break}this.type!==r.parenL||l||(l=this.start),n.push(this.parseMaybeAssign(!1,o))}var u=this.markPosition();if(this.expect(r.parenR),!this.canInsertSemicolon()&&this.eat(r.arrow))return l&&this.unexpected(l),this.parseArrowExpression(this.startNodeAt(t),n);n.length||this.unexpected(this.lastTokStart),a&&this.unexpected(a),o.start&&this.unexpected(o.start),n.length>1?(e=this.startNodeAt(i),e.expressions=n,this.finishNodeAt(e,"SequenceExpression",u)):e=n[0]}else e=this.parseParenExpression();if(this.options.preserveParens){var c=this.startNodeAt(t);return c.expression=e,this.finishNode(c,"ParenthesizedExpression")}return e};var l=[];a.parseNew=function(){var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(r.dot))return t.meta=e,t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raise(t.property.start,"The only valid meta property for new is new.target"),this.finishNode(t,"MetaProperty");var i=this.markPosition();return t.callee=this.parseSubscripts(this.parseExprAtom(),i,!0),t.arguments=this.eat(r.parenL)?this.parseExprList(r.parenR,!1):l,this.finishNode(t,"NewExpression")},a.parseTemplateElement=function(){var t=this.startNode();return t.value={raw:this.input.slice(this.start,this.end),cooked:this.value},this.next(),t.tail=this.type===r.backQuote,this.finishNode(t,"TemplateElement")},a.parseTemplate=function(){var t=this.startNode();this.next(),t.expressions=[];var e=this.parseTemplateElement();for(t.quasis=[e];!e.tail;)this.expect(r.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(r.braceR),t.quasis.push(e=this.parseTemplateElement());return this.next(),this.finishNode(t,"TemplateLiteral")},a.parseObj=function(t,e){var i=this.startNode(),n=!0,o={};for(i.properties=[],this.next();!this.eat(r.braceR);){if(n)n=!1;else if(this.expect(r.comma),this.afterTrailingComma(r.braceR))break;var a=this.startNode(),l=void 0,u=void 0;this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(u=this.markPosition()),t||(l=this.eat(r.star))),this.parsePropertyName(a),this.eat(r.colon)?(a.value=t?this.parseMaybeDefault():this.parseMaybeAssign(!1,e),a.kind="init"):this.options.ecmaVersion>=6&&this.type===r.parenL?(t&&this.unexpected(),a.kind="init",a.method=!0,a.value=this.parseMethod(l)):this.options.ecmaVersion>=5&&!a.computed&&"Identifier"===a.key.type&&("get"===a.key.name||"set"===a.key.name)&&this.type!=r.comma&&this.type!=r.braceR?((l||t)&&this.unexpected(),a.kind=a.key.name,this.parsePropertyName(a),a.value=this.parseMethod(!1)):this.options.ecmaVersion>=6&&!a.computed&&"Identifier"===a.key.type?(a.kind="init",t?((this.isKeyword(a.key.name)||this.strict&&(s.strictBind(a.key.name)||s.strict(a.key.name))||!this.options.allowReserved&&this.isReservedWord(a.key.name))&&this.raise(a.key.start,"Binding "+a.key.name),a.value=this.parseMaybeDefault(u,a.key)):this.type===r.eq&&e?(e.start||(e.start=this.start),a.value=this.parseMaybeDefault(u,a.key)):a.value=a.key,a.shorthand=!0):this.unexpected(),this.checkPropClash(a,o),i.properties.push(this.finishNode(a,"Property"))}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},a.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(r.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),void this.expect(r.bracketR);t.computed=!1}t.key=this.type===r.num||this.type===r.string?this.parseExprAtom():this.parseIdent(!0)},a.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=!1,t.expression=!1)},a.parseMethod=function(t){var e=this.startNode();this.initFunction(e),this.expect(r.parenL),e.params=this.parseBindingList(r.parenR,!1,!1);var i=void 0;return this.options.ecmaVersion>=6?(e.generator=t,i=!0):i=!1,this.parseFunctionBody(e,i),this.finishNode(e,"FunctionExpression")},a.parseArrowExpression=function(t,e){return this.initFunction(t),t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0),this.finishNode(t,"ArrowFunctionExpression")},a.parseFunctionBody=function(t,e){var i=e&&this.type!==r.braceL;if(i)t.body=this.parseMaybeAssign(),t.expression=!0;else{var n=this.inFunction,s=this.inGenerator,o=this.labels;this.inFunction=!0,this.inGenerator=t.generator,this.labels=[],t.body=this.parseBlock(!0),t.expression=!1,this.inFunction=n,this.inGenerator=s,this.labels=o}if(this.strict||!i&&t.body.body.length&&this.isUseStrict(t.body.body[0])){var a={},l=this.strict;this.strict=!0,t.id&&this.checkLVal(t.id,!0);for(var u=0;u<t.params.length;u++)this.checkLVal(t.params[u],!0,a);this.strict=l}},a.parseExprList=function(t,e,i,n){for(var s=[],o=!0;!this.eat(t);){if(o)o=!1;else if(this.expect(r.comma),e&&this.afterTrailingComma(t))break;s.push(i&&this.type===r.comma?null:this.type===r.ellipsis?this.parseSpread(n):this.parseMaybeAssign(!1,n))}return s},a.parseIdent=function(t){var e=this.startNode();return t&&"never"==this.options.allowReserved&&(t=!1),this.type===r.name?(!t&&(!this.options.allowReserved&&this.isReservedWord(this.value)||this.strict&&s.strict(this.value)&&(this.options.ecmaVersion>=6||-1==this.input.slice(this.start,this.end).indexOf("\\")))&&this.raise(this.start,"The keyword '"+this.value+"' is reserved"),e.name=this.value):t&&this.type.keyword?e.name=this.type.keyword:this.unexpected(),this.next(),this.finishNode(e,"Identifier")},a.parseYield=function(){var t=this.startNode();return this.next(),this.type==r.semi||this.canInsertSemicolon()||this.type!=r.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(r.star),t.argument=this.parseMaybeAssign()),this.finishNode(t,"YieldExpression")},a.parseComprehension=function(t,e){for(t.blocks=[];this.type===r._for;){var i=this.startNode();this.next(),this.expect(r.parenL),i.left=this.parseBindingAtom(),this.checkLVal(i.left,!0),this.expectContextual("of"),i.right=this.parseExpression(),this.expect(r.parenR),t.blocks.push(this.finishNode(i,"ComprehensionBlock"))}return t.filter=this.eat(r._if)?this.parseParenExpression():null,t.body=this.parseExpression(),this.expect(e?r.parenR:r.bracketR),t.generator=e,this.finishNode(t,"ComprehensionExpression")}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],3:[function(t,e,i){"use strict";function r(t){function e(t){if(1==t.length)return i+="return str === "+JSON.stringify(t[0])+";";i+="switch(str){";for(var e=0;e<t.length;++e)i+="case "+JSON.stringify(t[e])+":";i+="return true}return false;"}t=t.split(" ");var i="",r=[];t:for(var n=0;n<t.length;++n){for(var s=0;s<r.length;++s)if(r[s][0].length==t[n].length){r[s].push(t[n]);continue t}r.push([t[n]])}if(r.length>3){r.sort(function(t,e){return e.length-t.length}),i+="switch(str.length){";for(var n=0;n<r.length;++n){var o=r[n];i+="case "+o[0].length+":",e(o)}i+="}"}else e(t);return new Function("str",i)}function n(t,e){for(var i=65536,r=0;r<e.length;r+=2){if(i+=e[r],i>t)return!1;if(i+=e[r+1],i>=t)return!0}}function s(t,e){return 65>t?36===t:91>t?!0:97>t?95===t:123>t?!0:65535>=t?t>=170&&p.test(String.fromCharCode(t)):e===!1?!1:n(t,d)}function o(t,e){return 48>t?36===t:58>t?!0:65>t?!1:91>t?!0:97>t?95===t:123>t?!0:65535>=t?t>=170&&f.test(String.fromCharCode(t)):e===!1?!1:n(t,d)||n(t,m)}i.isIdentifierStart=s,i.isIdentifierChar=o,Object.defineProperty(i,"__esModule",{value:!0});var a={3:r("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),5:r("class enum extends super const export import"),6:r("enum await"),strict:r("implements interface let package private protected public static yield"),strictBind:r("eval arguments")};i.reservedWords=a;var l="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",u={5:r(l),6:r(l+" let const class extends export import yield super")};i.keywords=u;var c="ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",h="‌‍·̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఃా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ഁ-ഃാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ංඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ູົຼ່-ໍ໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠐-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏ᦰ-ᧀᧈᧉ᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭ᳲ-᳴᳸᳹᷀-᷵᷼-᷿‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꘠-꘩꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣐-꣙꣠-꣱꤀-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︭︳︴﹍-﹏０-９＿",p=new RegExp("["+c+"]"),f=new RegExp("["+c+h+"]");c=h=null;var d=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,17,26,6,37,11,29,3,35,5,7,2,4,43,157,99,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,98,21,11,25,71,55,7,1,65,0,16,3,2,2,2,26,45,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,955,52,76,44,33,24,27,35,42,34,4,0,13,47,15,3,22,0,38,17,2,24,133,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,32,4,287,47,21,1,2,0,185,46,82,47,21,0,60,42,502,63,32,0,449,56,1288,920,104,110,2962,1070,13266,568,8,30,114,29,19,47,17,3,32,20,6,18,881,68,12,0,67,12,16481,1,3071,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,4149,196,1340,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42710,42,4148,12,221,16355,541],m=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,1306,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,52,0,13,2,49,13,16,9,83,11,168,11,6,9,8,2,57,0,2,6,3,1,3,2,10,0,11,1,3,6,4,4,316,19,13,9,214,6,3,8,112,16,16,9,82,12,9,9,535,9,20855,9,135,4,60,6,26,9,1016,45,17,3,19723,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,4305,6,792618,239]},{}],4:[function(t,e,i){"use strict";function r(t,e){for(var i=1,r=0;;){a.lastIndex=r;var n=a.exec(t);if(!(n&&n.index<e))return new l(i,e-r);++i,r=n.index+n[0].length}}var n=function(){function t(t,e){for(var i in e){var r=e[i];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};i.getLineInfo=r,Object.defineProperty(i,"__esModule",{value:!0});var o=t("./state").Parser,a=t("./whitespace").lineBreakG,l=i.Position=function(){function t(e,i){s(this,t),this.line=e,this.column=i}return n(t,{offset:{value:function(e){return new t(this.line,this.column+e)}}}),t}(),u=(i.SourceLocation=function c(t,e,i){s(this,c),this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)},o.prototype);u.raise=function(t,e){var i=r(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n},u.curPosition=function(){return new l(this.curLine,this.pos-this.lineStart)},u.markPosition=function(){return this.options.locations?[this.start,this.startLoc]:this.start}},{"./state":9,"./whitespace":15}],5:[function(t,e,i){"use strict";var r=t("./tokentype").types,n=t("./state").Parser,s=t("./identifier").reservedWords,o=t("./util").has,a=n.prototype;a.toAssignable=function(t,e){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":break;case"ObjectExpression":t.type="ObjectPattern";for(var i=0;i<t.properties.length;i++){var r=t.properties[i];"init"!==r.kind&&this.raise(r.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(r.value,e)}break;case"ArrayExpression":t.type="ArrayPattern",this.toAssignableList(t.elements,e);break;case"AssignmentExpression":"="===t.operator?t.type="AssignmentPattern":this.raise(t.left.end,"Only '=' operator can be used for specifying default value.");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}return t},a.toAssignableList=function(t,e){var i=t.length;if(i){var r=t[i-1];if(r&&"RestElement"==r.type)--i;else if(r&&"SpreadElement"==r.type){r.type="RestElement";var n=r.argument;this.toAssignable(n,e),"Identifier"!==n.type&&"MemberExpression"!==n.type&&"ArrayPattern"!==n.type&&this.unexpected(n.start),--i}}for(var s=0;i>s;s++){var o=t[s];o&&this.toAssignable(o,e)}return t},a.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(t),this.finishNode(e,"SpreadElement")},a.parseRest=function(){var t=this.startNode();return this.next(),t.argument=this.type===r.name||this.type===r.bracketL?this.parseBindingAtom():this.unexpected(),this.finishNode(t,"RestElement")},a.parseBindingAtom=function(){if(this.options.ecmaVersion<6)return this.parseIdent();switch(this.type){case r.name:return this.parseIdent();case r.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(r.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case r.braceL:return this.parseObj(!0);default:this.unexpected()}},a.parseBindingList=function(t,e,i){for(var n=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(r.comma),e&&this.type===r.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===r.ellipsis){n.push(this.parseRest()),this.expect(t);break}n.push(this.parseMaybeDefault())}return n},a.parseMaybeDefault=function(t,e){if(t=t||this.markPosition(),e=e||this.parseBindingAtom(),!this.eat(r.eq))return e;var i=this.startNodeAt(t);return i.operator="=",i.left=e,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},a.checkLVal=function(t,e,i){switch(t.type){case"Identifier":this.strict&&(s.strictBind(t.name)||s.strict(t.name))&&this.raise(t.start,(e?"Binding ":"Assigning to ")+t.name+" in strict mode"),i&&(o(i,t.name)&&this.raise(t.start,"Argument name clash in strict mode"),i[t.name]=!0);break;case"MemberExpression":e&&this.raise(t.start,(e?"Binding":"Assigning to")+" member expression");break;case"ObjectPattern":for(var r=0;r<t.properties.length;r++)this.checkLVal(t.properties[r].value,e,i);break;case"ArrayPattern":for(var r=0;r<t.elements.length;r++){var n=t.elements[r];n&&this.checkLVal(n,e,i)}break;case"AssignmentPattern":this.checkLVal(t.left,e,i);break;case"RestElement":this.checkLVal(t.argument,e,i);break;default:this.raise(t.start,(e?"Binding":"Assigning to")+" rvalue")}}},{"./identifier":3,"./state":9,"./tokentype":13,"./util":14}],6:[function(t,e,i){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var n=t("./state").Parser,s=t("./location").SourceLocation,o=n.prototype,a=i.Node=function l(){r(this,l)};o.startNode=function(){var t=new a;return t.start=this.start,this.options.locations&&(t.loc=new s(this,this.startLoc)),this.options.directSourceFile&&(t.sourceFile=this.options.directSourceFile),this.options.ranges&&(t.range=[this.start,0]),t},o.startNodeAt=function(t){var e=new a,i=t;return this.options.locations&&(e.loc=new s(this,i[1]),i=t[0]),e.start=i,this.options.directSourceFile&&(e.sourceFile=this.options.directSourceFile),this.options.ranges&&(e.range=[i,0]),e},o.finishNode=function(t,e){return t.type=e,t.end=this.lastTokEnd,this.options.locations&&(t.loc.end=this.lastTokEndLoc),this.options.ranges&&(t.range[1]=this.lastTokEnd),t},o.finishNodeAt=function(t,e,i){return this.options.locations&&(t.loc.end=i[1],i=i[0]),t.type=e,t.end=i,this.options.ranges&&(t.range[1]=i),t}},{"./location":4,"./state":9}],7:[function(t,e,i){"use strict";function r(t){var e={};for(var i in u)e[i]=t&&o(t,i)?t[i]:u[i];return a(e.onToken)&&!function(){var t=e.onToken;e.onToken=function(e){return t.push(e)}}(),a(e.onComment)&&(e.onComment=n(e,e.onComment)),e}function n(t,e){return function(i,r,n,s,o,a){var u={type:i?"Block":"Line",value:r,start:n,end:s};t.locations&&(u.loc=new l(this,o,a)),t.ranges&&(u.range=[n,s]),e.push(u)}}i.getOptions=r,Object.defineProperty(i,"__esModule",{value:!0});var s=t("./util"),o=s.has,a=s.isArray,l=t("./location").SourceLocation,u={ecmaVersion:5,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:!0,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowHashBang:!1,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1,plugins:{}};i.defaultOptions=u},{"./location":4,"./util":14}],8:[function(t,e,i){"use strict";var r=t("./tokentype").types,n=t("./state").Parser,s=t("./whitespace").lineBreak,o=n.prototype;o.isUseStrict=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value},o.eat=function(t){return this.type===t?(this.next(),!0):!1},o.isContextual=function(t){return this.type===r.name&&this.value===t},o.eatContextual=function(t){return this.value===t&&this.eat(r.name)},o.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},o.canInsertSemicolon=function(){return this.type===r.eof||this.type===r.braceR||s.test(this.input.slice(this.lastTokEnd,this.start))},o.insertSemicolon=function(){return this.canInsertSemicolon()?(this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0):void 0},o.semicolon=function(){this.eat(r.semi)||this.insertSemicolon()||this.unexpected()},o.afterTrailingComma=function(t){return this.type==t?(this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),this.next(),!0):void 0},o.expect=function(t){this.eat(t)||this.unexpected()},o.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")}},{"./state":9,"./tokentype":13,"./whitespace":15}],9:[function(t,e,i){"use strict";function r(t,e,i){this.options=t,this.loadPlugins(this.options.plugins),this.sourceFile=this.options.sourceFile||null,this.isKeyword=o[this.options.ecmaVersion>=6?6:5],this.isReservedWord=s[this.options.ecmaVersion],this.input=e,i?(this.pos=i,this.lineStart=Math.max(0,this.input.lastIndexOf("\n",i)),this.curLine=this.input.slice(0,this.lineStart).split(u).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=l.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=null,this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.strict=this.inModule="module"===this.options.sourceType,this.inFunction=this.inGenerator=!1,this.labels=[],0===this.pos&&this.options.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2)}i.Parser=r,Object.defineProperty(i,"__esModule",{value:!0});var n=t("./identifier"),s=n.reservedWords,o=n.keywords,a=t("./tokentype"),l=a.types,u=a.lineBreak;r.prototype.extend=function(t,e){this[t]=e(this[t])};var c={};i.plugins=c,r.prototype.loadPlugins=function(t){for(var e in t){var r=i.plugins[e];if(!r)throw new Error("Plugin '"+e+"' not found");r(this,t[e])}}},{"./identifier":3,"./tokentype":13}],10:[function(t,e,i){"use strict";var r=t("./tokentype").types,n=t("./state").Parser,s=t("./whitespace").lineBreak,o=n.prototype;o.parseTopLevel=function(t){var e=!0;for(t.body||(t.body=[]);this.type!==r.eof;){var i=this.parseStatement(!0,!0);t.body.push(i),e&&this.isUseStrict(i)&&this.setStrict(!0),e=!1}return this.next(),this.options.ecmaVersion>=6&&(t.sourceType=this.options.sourceType),this.finishNode(t,"Program")};var a={kind:"loop"},l={kind:"switch"};o.parseStatement=function(t,e){var i=this.type,n=this.startNode();switch(i){case r._break:case r._continue:return this.parseBreakContinueStatement(n,i.keyword);case r._debugger:return this.parseDebuggerStatement(n);case r._do:return this.parseDoStatement(n);case r._for:return this.parseForStatement(n);case r._function:return!t&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n);case r._class:return t||this.unexpected(),this.parseClass(n,!0);case r._if:return this.parseIfStatement(n);case r._return:return this.parseReturnStatement(n);case r._switch:return this.parseSwitchStatement(n);case r._throw:return this.parseThrowStatement(n);case r._try:return this.parseTryStatement(n);case r._let:case r._const:t||this.unexpected();case r._var:return this.parseVarStatement(n,i);case r._while:return this.parseWhileStatement(n);case r._with:return this.parseWithStatement(n);case r.braceL:return this.parseBlock();case r.semi:return this.parseEmptyStatement(n);case r._export:case r._import:return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),i===r._import?this.parseImport(n):this.parseExport(n);default:var s=this.value,o=this.parseExpression();return i===r.name&&"Identifier"===o.type&&this.eat(r.colon)?this.parseLabeledStatement(n,s,o):this.parseExpressionStatement(n,o)}},o.parseBreakContinueStatement=function(t,e){var i="break"==e;this.next(),this.eat(r.semi)||this.insertSemicolon()?t.label=null:this.type!==r.name?this.unexpected():(t.label=this.parseIdent(),
this.semicolon());for(var n=0;n<this.labels.length;++n){var s=this.labels[n];if(null==t.label||s.name===t.label.name){if(null!=s.kind&&(i||"loop"===s.kind))break;if(t.label&&i)break}}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},o.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},o.parseDoStatement=function(t){return this.next(),this.labels.push(a),t.body=this.parseStatement(!1),this.labels.pop(),this.expect(r._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(r.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},o.parseForStatement=function(t){if(this.next(),this.labels.push(a),this.expect(r.parenL),this.type===r.semi)return this.parseFor(t,null);if(this.type===r._var||this.type===r._let||this.type===r._const){var e=this.startNode(),i=this.type;return this.next(),this.parseVar(e,!0,i),this.finishNode(e,"VariableDeclaration"),!(this.type===r._in||this.options.ecmaVersion>=6&&this.isContextual("of"))||1!==e.declarations.length||i!==r._var&&e.declarations[0].init?this.parseFor(t,e):this.parseForIn(t,e)}var n={start:0},s=this.parseExpression(!0,n);return this.type===r._in||this.options.ecmaVersion>=6&&this.isContextual("of")?(this.toAssignable(s),this.checkLVal(s),this.parseForIn(t,s)):(n.start&&this.unexpected(n.start),this.parseFor(t,s))},o.parseFunctionStatement=function(t){return this.next(),this.parseFunction(t,!0)},o.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement(!1),t.alternate=this.eat(r._else)?this.parseStatement(!1):null,this.finishNode(t,"IfStatement")},o.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(r.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},o.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(r.braceL),this.labels.push(l);for(var e,i;this.type!=r.braceR;)if(this.type===r._case||this.type===r._default){var n=this.type===r._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raise(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(r.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(!0));return e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},o.parseThrowStatement=function(t){return this.next(),s.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var u=[];o.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===r._catch){var e=this.startNode();this.next(),this.expect(r.parenL),e.param=this.parseBindingAtom(),this.checkLVal(e.param,!0),this.expect(r.parenR),e.guard=null,e.body=this.parseBlock(),t.handler=this.finishNode(e,"CatchClause")}return t.guardedHandlers=u,t.finalizer=this.eat(r._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},o.parseVarStatement=function(t,e){return this.next(),this.parseVar(t,!1,e),this.semicolon(),this.finishNode(t,"VariableDeclaration")},o.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(a),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"WhileStatement")},o.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement(!1),this.finishNode(t,"WithStatement")},o.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},o.parseLabeledStatement=function(t,e,i){for(var n=0;n<this.labels.length;++n)this.labels[n].name===e&&this.raise(i.start,"Label '"+e+"' is already declared");var s=this.type.isLoop?"loop":this.type===r._switch?"switch":null;return this.labels.push({name:e,kind:s}),t.body=this.parseStatement(!0),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},o.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},o.parseBlock=function(t){var e=this.startNode(),i=!0,n=void 0;for(e.body=[],this.expect(r.braceL);!this.eat(r.braceR);){var s=this.parseStatement(!0);e.body.push(s),i&&t&&this.isUseStrict(s)&&(n=this.strict,this.setStrict(this.strict=!0)),i=!1}return n===!1&&this.setStrict(!1),this.finishNode(e,"BlockStatement")},o.parseFor=function(t,e){return t.init=e,this.expect(r.semi),t.test=this.type===r.semi?null:this.parseExpression(),this.expect(r.semi),t.update=this.type===r.parenR?null:this.parseExpression(),this.expect(r.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,"ForStatement")},o.parseForIn=function(t,e){var i=this.type===r._in?"ForInStatement":"ForOfStatement";return this.next(),t.left=e,t.right=this.parseExpression(),this.expect(r.parenR),t.body=this.parseStatement(!1),this.labels.pop(),this.finishNode(t,i)},o.parseVar=function(t,e,i){for(t.declarations=[],t.kind=i.keyword;;){var n=this.startNode();if(n.id=this.parseBindingAtom(),this.checkLVal(n.id,!0),this.eat(r.eq)?n.init=this.parseMaybeAssign(e):i!==r._const||this.type===r._in||this.options.ecmaVersion>=6&&this.isContextual("of")?"Identifier"==n.id.type||e&&(this.type===r._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(r.comma))break}return t},o.parseFunction=function(t,e,i){return this.initFunction(t),this.options.ecmaVersion>=6&&(t.generator=this.eat(r.star)),(e||this.type===r.name)&&(t.id=this.parseIdent()),this.expect(r.parenL),t.params=this.parseBindingList(r.parenR,!1,!1),this.parseFunctionBody(t,i),this.finishNode(t,e?"FunctionDeclaration":"FunctionExpression")},o.parseClass=function(t,e){this.next(),t.id=this.type===r.name?this.parseIdent():e?this.unexpected():null,t.superClass=this.eat(r._extends)?this.parseExprSubscripts():null;var i=this.startNode();for(i.body=[],this.expect(r.braceL);!this.eat(r.braceR);)if(!this.eat(r.semi)){var n=this.startNode(),s=this.eat(r.star);this.parsePropertyName(n),this.type===r.parenL||n.computed||"Identifier"!==n.key.type||"static"!==n.key.name?n["static"]=!1:(s&&this.unexpected(),n["static"]=!0,s=this.eat(r.star),this.parsePropertyName(n)),n.kind="method",n.computed||s||("Identifier"===n.key.type?this.type===r.parenL||"get"!==n.key.name&&"set"!==n.key.name?n["static"]||"constructor"!==n.key.name||(n.kind="constructor"):(n.kind=n.key.name,this.parsePropertyName(n)):n["static"]||"Literal"!==n.key.type||"constructor"!==n.key.value||(n.kind="constructor")),n.value=this.parseMethod(s),i.body.push(this.finishNode(n,"MethodDefinition"))}return t.body=this.finishNode(i,"ClassBody"),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},o.parseExport=function(t){if(this.next(),this.eat(r.star))return this.expectContextual("from"),t.source=this.type===r.string?this.parseExprAtom():this.unexpected(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration");if(this.eat(r._default)){var e=this.parseMaybeAssign(),i=!0;return("FunctionExpression"==e.type||"ClassExpression"==e.type)&&(i=!1,e.id&&(e.type="FunctionExpression"==e.type?"FunctionDeclaration":"ClassDeclaration")),t.declaration=e,i&&this.semicolon(),this.finishNode(t,"ExportDefaultDeclaration")}return this.type.keyword?(t.declaration=this.parseStatement(!0),t.specifiers=[],t.source=null):(t.declaration=null,t.specifiers=this.parseExportSpecifiers(),t.source=this.eatContextual("from")?this.type===r.string?this.parseExprAtom():this.unexpected():null,this.semicolon()),this.finishNode(t,"ExportNamedDeclaration")},o.parseExportSpecifiers=function(){var t=[],e=!0;for(this.expect(r.braceL);!this.eat(r.braceR);){if(e)e=!1;else if(this.expect(r.comma),this.afterTrailingComma(r.braceR))break;var i=this.startNode();i.local=this.parseIdent(this.type===r._default),i.exported=this.eatContextual("as")?this.parseIdent(!0):i.local,t.push(this.finishNode(i,"ExportSpecifier"))}return t},o.parseImport=function(t){return this.next(),this.type===r.string?(t.specifiers=u,t.source=this.parseExprAtom(),t.kind=""):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===r.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},o.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===r.name){var i=this.startNode();if(i.local=this.parseIdent(),this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportDefaultSpecifier")),!this.eat(r.comma))return t}if(this.type===r.star){var i=this.startNode();return this.next(),this.expectContextual("as"),i.local=this.parseIdent(),this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportNamespaceSpecifier")),t}for(this.expect(r.braceL);!this.eat(r.braceR);){if(e)e=!1;else if(this.expect(r.comma),this.afterTrailingComma(r.braceR))break;var i=this.startNode();i.imported=this.parseIdent(!0),i.local=this.eatContextual("as")?this.parseIdent():i.imported,this.checkLVal(i.local,!0),t.push(this.finishNode(i,"ImportSpecifier"))}return t}},{"./state":9,"./tokentype":13,"./whitespace":15}],11:[function(t,e,i){"use strict";var r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var n=t("./state").Parser,s=t("./tokentype").types,o=t("./whitespace").lineBreak,a=i.TokContext=function c(t,e,i,n){r(this,c),this.token=t,this.isExpr=e,this.preserveSpace=i,this.override=n},l={b_stat:new a("{",!1),b_expr:new a("{",!0),b_tmpl:new a("${",!0),p_stat:new a("(",!1),p_expr:new a("(",!0),q_tmpl:new a("`",!0,!0,function(t){return t.readTmplToken()}),f_expr:new a("function",!0)};i.types=l;var u=n.prototype;u.initialContext=function(){return[l.b_stat]},u.braceIsBlock=function(t){var e=void 0;return t===s.colon&&"{"==(e=this.curContext()).token?!e.isExpr:t===s._return?o.test(this.input.slice(this.lastTokEnd,this.start)):t===s._else||t===s.semi||t===s.eof?!0:t==s.braceL?this.curContext()===l.b_stat:!this.exprAllowed},u.updateContext=function(t){var e=void 0,i=this.type;i.keyword&&t==s.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},s.parenR.updateContext=s.braceR.updateContext=function(){if(1==this.context.length)return void(this.exprAllowed=!0);var t=this.context.pop();t===l.b_stat&&this.curContext()===l.f_expr?(this.context.pop(),this.exprAllowed=!1):this.exprAllowed=t===l.b_tmpl?!0:!t.isExpr},s.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?l.b_stat:l.b_expr),this.exprAllowed=!0},s.dollarBraceL.updateContext=function(){this.context.push(l.b_tmpl),this.exprAllowed=!0},s.parenL.updateContext=function(t){var e=t===s._if||t===s._for||t===s._with||t===s._while;this.context.push(e?l.p_stat:l.p_expr),this.exprAllowed=!0},s.incDec.updateContext=function(){},s._function.updateContext=function(){this.curContext()!==l.b_stat&&this.context.push(l.f_expr),this.exprAllowed=!1},s.backQuote.updateContext=function(){this.curContext()===l.q_tmpl?this.context.pop():this.context.push(l.q_tmpl),this.exprAllowed=!1}},{"./state":9,"./tokentype":13,"./whitespace":15}],12:[function(t,e,i){"use strict";function r(t){return 65535>=t?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var n=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var s=t("./identifier"),o=s.isIdentifierStart,a=s.isIdentifierChar,l=t("./tokentype"),u=l.types,c=l.keywords,h=t("./state").Parser,p=t("./location").SourceLocation,f=t("./whitespace"),d=f.lineBreak,m=f.lineBreakG,v=f.isNewLine,g=f.nonASCIIwhitespace,y=i.Token=function k(t){n(this,k),this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new p(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])},x=h.prototype;x.next=function(){this.options.onToken&&this.options.onToken(new y(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},x.getToken=function(){return this.next(),new y(this)},"undefined"!=typeof Symbol&&(x[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===u.eof,value:e}}}}),x.setStrict=function(t){if(this.strict=t,this.type===u.num||this.type===u.string){if(this.pos=this.start,this.options.locations)for(;this.pos<this.lineStart;)this.lineStart=this.input.lastIndexOf("\n",this.lineStart-2)+1,--this.curLine;this.nextToken()}},x.curContext=function(){return this.context[this.context.length-1]},x.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(u.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},x.readToken=function(t){return o(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},x.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(55295>=t||t>=57344)return t;var e=this.input.charCodeAt(this.pos+1);return(t<<10)+e-56613888},x.skipBlockComment=function(){var t=this.options.onComment&&this.options.locations&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations){m.lastIndex=e;for(var r=void 0;(r=m.exec(this.input))&&r.index<this.pos;)++this.curLine,this.lineStart=r.index+r[0].length}this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.options.locations&&this.curPosition())},x.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.options.locations&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&10!==r&&13!==r&&8232!==r&&8233!==r;)++this.pos,r=this.input.charCodeAt(this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.options.locations&&this.curPosition())},x.skipSpace=function(){for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);if(32===t)++this.pos;else if(13===t){++this.pos;var e=this.input.charCodeAt(this.pos);10===e&&++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos)}else if(10===t||8232===t||8233===t)++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);else if(t>8&&14>t)++this.pos;else if(47===t){var e=this.input.charCodeAt(this.pos+1);if(42===e)this.skipBlockComment();else{if(47!==e)break;this.skipLineComment(2)}}else if(160===t)++this.pos;else{if(!(t>=5760&&g.test(String.fromCharCode(t))))break;++this.pos}}},x.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},x.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&57>=t)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(u.ellipsis)):(++this.pos,this.finishToken(u.dot))},x.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(u.assign,2):this.finishOp(u.slash,1)},x.readToken_mult_modulo=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(u.assign,2):this.finishOp(42===t?u.star:u.modulo,1)},x.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?this.finishOp(124===t?u.logicalOR:u.logicalAND,2):61===e?this.finishOp(u.assign,2):this.finishOp(124===t?u.bitwiseOR:u.bitwiseAND,1)},x.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(u.assign,2):this.finishOp(u.bitwiseXOR,1)},x.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45==e&&62==this.input.charCodeAt(this.pos+2)&&d.test(this.input.slice(this.lastTokEnd,this.pos))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(u.incDec,2):61===e?this.finishOp(u.assign,2):this.finishOp(u.plusMin,1)},x.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(u.assign,i+1):this.finishOp(u.bitShift,i)):33==e&&60==t&&45==this.input.charCodeAt(this.pos+2)&&45==this.input.charCodeAt(this.pos+3)?(this.inModule&&unexpected(),this.skipLineComment(4),this.skipSpace(),this.nextToken()):(61===e&&(i=61===this.input.charCodeAt(this.pos+2)?3:2),this.finishOp(u.relational,i))},x.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(u.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(u.arrow)):this.finishOp(61===t?u.eq:u.prefix,1)},x.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(u.parenL);case 41:return++this.pos,this.finishToken(u.parenR);case 59:return++this.pos,this.finishToken(u.semi);case 44:return++this.pos,this.finishToken(u.comma);case 91:return++this.pos,this.finishToken(u.bracketL);case 93:return++this.pos,this.finishToken(u.bracketR);case 123:return++this.pos,this.finishToken(u.braceL);case 125:return++this.pos,this.finishToken(u.braceR);case 58:return++this.pos,this.finishToken(u.colon);case 63:return++this.pos,this.finishToken(u.question);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(u.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 126:return this.finishOp(u.prefix,1)}this.raise(this.pos,"Unexpected character '"+r(t)+"'")},x.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};var b=!1;try{new RegExp("￿","u"),b=!0}catch(w){}x.readRegexp=function(){for(var t=void 0,e=void 0,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(d.test(r)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===r)e=!0;else if("]"===r&&e)e=!1;else if("/"===r&&!e)break;t="\\"===r}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var s=this.readWord1(),o=n;if(s){var a=/^[gmsiy]*$/;this.options.ecmaVersion>=6&&(a=/^[gmsiyu]*$/),a.test(s)||this.raise(i,"Invalid regular expression flag"),s.indexOf("u")>=0&&!b&&(o=o.replace(/\\u([a-fA-F0-9]{4})|\\u\{([0-9a-fA-F]+)\}|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"))}try{new RegExp(o)}catch(l){l instanceof SyntaxError&&this.raise(i,"Error parsing regular expression: "+l.message),this.raise(l)}var c=void 0;try{c=new RegExp(n,s)}catch(h){c=null}return this.finishToken(u.regexp,{pattern:n,flags:s,value:c})},x.readInt=function(t,e){for(var i=this.pos,r=0,n=0,s=null==e?1/0:e;s>n;++n){var o=this.input.charCodeAt(this.pos),a=void 0;if(a=o>=97?o-97+10:o>=65?o-65+10:o>=48&&57>=o?o-48:1/0,a>=t)break;++this.pos,r=r*t+a}return this.pos===i||null!=e&&this.pos-i!==e?null:r},x.readRadixNumber=function(t){this.pos+=2;var e=this.readInt(t);return null==e&&this.raise(this.start+2,"Expected number in radix "+t),o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(u.num,e)},x.readNumber=function(t){var e=this.pos,i=!1,r=48===this.input.charCodeAt(this.pos);t||null!==this.readInt(10)||this.raise(e,"Invalid number"),46===this.input.charCodeAt(this.pos)&&(++this.pos,this.readInt(10),i=!0);var n=this.input.charCodeAt(this.pos);(69===n||101===n)&&(n=this.input.charCodeAt(++this.pos),(43===n||45===n)&&++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number"),i=!0),o(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=this.input.slice(e,this.pos),a=void 0;return i?a=parseFloat(s):r&&1!==s.length?/[89]/.test(s)||this.strict?this.raise(e,"Invalid number"):a=parseInt(s,8):a=parseInt(s,10),this.finishToken(u.num,a)},x.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e=void 0;return 123===t?(this.options.ecmaVersion<6&&this.unexpected(),++this.pos,e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.unexpected()):e=this.readHexChar(4),e},x.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;92===r?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(),i=this.pos):(v(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(u.string,e)},x.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos===this.start&&this.type===u.template?36===i?(this.pos+=2,this.finishToken(u.dollarBraceL)):(++this.pos,this.finishToken(u.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(u.template,t));92===i?(t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(),e=this.pos):v(i)?(t+=this.input.slice(e,this.pos),++this.pos,13===i&&10===this.input.charCodeAt(this.pos)?(++this.pos,t+="\n"):t+=String.fromCharCode(i),this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos):++this.pos}},x.readEscapedChar=function(){var t=this.input.charCodeAt(++this.pos),e=/^[0-7]+/.exec(this.input.slice(this.pos,this.pos+3));for(e&&(e=e[0]);e&&parseInt(e,8)>255;)e=e.slice(0,-1);if("0"===e&&(e=null),++this.pos,e)return this.strict&&this.raise(this.pos-2,"Octal literal in strict mode"),this.pos+=e.length-1,String.fromCharCode(parseInt(e,8));switch(t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return r(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"";case 102:return"\f";case 48:return"\x00";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";default:return String.fromCharCode(t)}},x.readHexChar=function(t){var e=this.readInt(16,t);return null===e&&this.raise(this.start,"Bad character escape sequence"),e};var C;x.readWord1=function(){C=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var s=this.fullCharCodeAtPos();if(a(s,n))this.pos+=65535>=s?1:2;else{if(92!==s)break;C=!0,t+=this.input.slice(i,this.pos);var l=this.pos;117!=this.input.charCodeAt(++this.pos)&&this.raise(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?o:a)(u,n)||this.raise(l,"Invalid Unicode escape"),t+=r(u),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},x.readWord=function(){var t=this.readWord1(),e=u.name;return(this.options.ecmaVersion>=6||!C)&&this.isKeyword(t)&&(e=c[t]),this.finishToken(e,t)}},{"./identifier":3,"./location":4,"./state":9,"./tokentype":13,"./whitespace":15}],13:[function(t,e,i){"use strict";function r(t,e){return new o(t,{beforeExpr:!0,binop:e})}function n(t){var e=void 0===arguments[1]?{}:arguments[1];e.keyword=t,c[t]=u["_"+t]=new o(t,e)}var s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};Object.defineProperty(i,"__esModule",{value:!0});var o=i.TokenType=function h(t){var e=void 0===arguments[1]?{}:arguments[1];s(this,h),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null},a={beforeExpr:!0},l={startsExpr:!0},u={num:new o("num",l),regexp:new o("regexp",l),string:new o("string",l),name:new o("name",l),eof:new o("eof"),bracketL:new o("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new o("]"),braceL:new o("{",{beforeExpr:!0,startsExpr:!0}),braceR:new o("}"),parenL:new o("(",{beforeExpr:!0,startsExpr:!0}),parenR:new o(")"),comma:new o(",",a),semi:new o(";",a),colon:new o(":",a),dot:new o("."),question:new o("?",a),arrow:new o("=>",a),template:new o("template"),ellipsis:new o("...",a),backQuote:new o("`",l),dollarBraceL:new o("${",{beforeExpr:!0,startsExpr:!0}),eq:new o("=",{beforeExpr:!0,isAssign:!0}),assign:new o("_=",{beforeExpr:!0,isAssign:!0}),incDec:new o("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new o("prefix",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:r("||",1),logicalAND:r("&&",2),bitwiseOR:r("|",3),bitwiseXOR:r("^",4),bitwiseAND:r("&",5),equality:r("==/!=",6),relational:r("</>",7),bitShift:r("<</>>",8),plusMin:new o("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:r("%",10),star:r("*",10),slash:r("/",10)};i.types=u;var c={};i.keywords=c,n("break"),n("case",a),n("catch"),n("continue"),n("debugger"),n("default"),n("do",{isLoop:!0}),n("else",a),n("finally"),n("for",{isLoop:!0}),n("function"),n("if"),n("return",a),n("switch"),n("throw",a),n("try"),n("var"),n("let"),n("const"),n("while",{isLoop:!0}),n("with"),n("new",{beforeExpr:!0,startsExpr:!0}),n("this",l),n("super",l),n("class"),n("extends",a),n("export"),n("import"),n("yield",{beforeExpr:!0,startsExpr:!0}),n("null",l),n("true",l),n("false",l),n("in",{beforeExpr:!0,binop:7}),n("instanceof",{beforeExpr:!0,binop:7}),n("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),n("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),n("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},{}],14:[function(t,e,i){"use strict";function r(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}i.isArray=r,i.has=n,Object.defineProperty(i,"__esModule",{value:!0})},{}],15:[function(t,e,i){"use strict";function r(t){return 10===t||13===t||8232===t||8233==t}i.isNewLine=r,Object.defineProperty(i,"__esModule",{value:!0});var n=/\r\n?|\n|\u2028|\u2029/;i.lineBreak=n;var s=new RegExp(n.source,"g");i.lineBreakG=s;var o=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/;i.nonASCIIwhitespace=o},{}]},{},[1])(1)});

//# sourceMappingURL=bundle.js.map
